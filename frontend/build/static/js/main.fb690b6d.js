/*! For license information please see main.fb690b6d.js.LICENSE.txt */
(()=>{var e={43:(e,t,r)=>{"use strict";e.exports=r(202)},153:(e,t,r)=>{"use strict";var n=r(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function x(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var v=b.prototype=new x;v.constructor=b,f(v,y.prototype),v.isPureReactComponent=!0;var k=Array.isArray,j=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var o,a={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,o)&&!S.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:r,type:e,key:s,ref:i,props:a,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===a?"."+E(l,0):a,k(s)?(o="",null!=e&&(o=e.replace(N,"$&/")+"/"),T(s,t,o,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var d=a+E(i=e[c],c);l+=T(i,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,o,d=a+E(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,r){if(null==e)return e;var n=[],o=0;return T(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z={current:null},I={transition:null},P={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:I,ReactCurrentOwner:w};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,r){R(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:r,type:e.type,key:a,ref:s,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return z.current.useCallback(e,t)},t.useContext=function(e){return z.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return z.current.useDeferredValue(e)},t.useEffect=function(e,t){return z.current.useEffect(e,t)},t.useId=function(){return z.current.useId()},t.useImperativeHandle=function(e,t,r){return z.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return z.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return z.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return z.current.useMemo(e,t)},t.useReducer=function(e,t,r){return z.current.useReducer(e,t,r)},t.useRef=function(e){return z.current.useRef(e)},t.useState=function(e){return z.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return z.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return z.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<a(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>a(l,r))c<o&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<o&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function k(e){if(g=!1,v(e),!f)if(null!==n(c))f=!0,I(j);else{var t=n(d);null!==t&&P(k,t.startTime-e)}}function j(e,r){f=!1,g&&(g=!1,x(_),_=-1),m=!0;var a=h;try{for(v(r),p=n(c);null!==p&&(!(p.expirationTime>r)||e&&!T());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var i=s(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?p.callback=i:p===n(c)&&o(c),v(r)}else o(c);p=n(c)}if(null!==p)var l=!0;else{var u=n(d);null!==u&&P(k,u.startTime-r),l=!1}return l}finally{p=null,h=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,C=null,_=-1,N=5,E=-1;function T(){return!(t.unstable_now()-E<N)}function R(){if(null!==C){var e=t.unstable_now();E=e;var r=!0;try{r=C(!0,e)}finally{r?w():(S=!1,C=null)}}else S=!1}if("function"===typeof b)w=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,z=A.port2;A.port1.onmessage=R,w=function(){z.postMessage(null)}}else w=function(){y(R,0)};function I(e){C=e,S||(S=!0,w())}function P(e,r){_=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>s?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(g?(x(_),_=-1):g=!0,P(k,a-s))):(e.sortIndex=i,r(c,e),f||m||(f=!0,I(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},324:e=>{e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!i(c))return!1;var d=e[c],u=t[c];if(!1===(o=r?r.call(n,d,u,c):void 0)||void 0===o&&d!==u)return!1}return!0}},366:e=>{var t="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var i,l,c,d;if(Array.isArray(e)){if((i=e.length)!=s.length)return!1;for(l=i;0!==l--;)if(!a(e[l],s[l]))return!1;return!0}if(r&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!s.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!a(l.value[1],s.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((i=e.length)!=s.length)return!1;for(l=i;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((i=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=i;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=i;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return a(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},391:(e,t,r)=>{"use strict";var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{"use strict";e.exports=r(153)},730:(e,t,r)=>{"use strict";var n=r(43),o=r(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,t,r,n,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,r,n){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),N=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,D=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function B(e,t){if(!e||M)return"";M=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=n.stack.split("\n"),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(1!==s||1!==i)do{if(s--,0>--i||o[s]!==a[i]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case j:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return $(e(t))}catch(r){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ae(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(he).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Se=null;function Ce(e){if(e=vo(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=jo(t),je(e.stateNode,e.type,t))}}function _e(e){we?Se?Se.push(e):Se=[e]:we=e}function Ne(){if(we){var e=we,t=Se;if(Se=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Re=!1;function Ae(e,t,r){if(Re)return e(t,r);Re=!0;try{return Ee(e,t,r)}finally{Re=!1,(null!==we||null!==Se)&&(Te(),Ne())}}function ze(e,t){var r=e.stateNode;if(null===r)return null;var n=jo(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ie=!1;if(d)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(de){Ie=!1}function Oe(e,t,r,n,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,De=null,Fe=!1,Me=null,Be={onError:function(e){Le=!0,De=e}};function We(e,t,r,n,o,a,s,i,l){Le=!1,De=null,Oe.apply(Be,arguments)}function $e(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if($e(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(n=o.return)){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return He(o),e;if(s===n)return He(o),t;s=s.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=s;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Je=o.unstable_requestPaint,Ye=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&r;if(0!==s){var i=s&~o;0!==i?n=ut(i):0!==(a&=s)&&(n=ut(a))}else 0!==(s=r&~o)?n=ut(s):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-st(t)),n|=e[r],t&=~o;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function xt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,jt,wt,St,Ct,_t=!1,Nt=[],Et=null,Tt=null,Rt=null,At=new Map,zt=new Map,It=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Lt(e,t,r,n,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=vo(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var r=$e(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ue(r)))return e.blockedOn=t,void Ct(e.priority,(function(){wt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vo(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Mt(e,t,r){Ft(e)&&r.delete(t)}function Bt(){_t=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Rt&&Ft(Rt)&&(Rt=null),At.forEach(Mt),zt.forEach(Mt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function $t(e){function t(t){return Wt(t,e)}if(0<Nt.length){Wt(Nt[0],e);for(var r=1;r<Nt.length;r++){var n=Nt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Wt(Et,e),null!==Tt&&Wt(Tt,e),null!==Rt&&Wt(Rt,e),At.forEach(t),zt.forEach(t),r=0;r<It.length;r++)(n=It[r]).blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&null===(r=It[0]).blockedOn;)Dt(r),null===r.blockedOn&&It.shift()}var Ut=v.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,r,n){var o=bt,a=Ut.transition;Ut.transition=null;try{bt=1,Vt(e,t,r,n)}finally{bt=o,Ut.transition=a}}function Qt(e,t,r,n){var o=bt,a=Ut.transition;Ut.transition=null;try{bt=4,Vt(e,t,r,n)}finally{bt=o,Ut.transition=a}}function Vt(e,t,r,n){if(Ht){var o=Gt(e,t,r,n);if(null===o)Hn(e,t,n,Kt,r),Ot(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Et=Lt(Et,e,t,r,n,o),!0;case"dragenter":return Tt=Lt(Tt,e,t,r,n,o),!0;case"mouseover":return Rt=Lt(Rt,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,zt.set(a,Lt(zt.get(a)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(Ot(e,n),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var a=vo(o);if(null!==a&&kt(a),null===(a=Gt(e,t,r,n))&&Hn(e,t,n,Kt,r),a===o)break;o=a}null!==o&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Kt=null;function Gt(e,t,r,n){if(Kt=null,null!==(e=bo(e=ke(n))))if(null===(t=$e(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,o="value"in Yt?Yt.value:Yt.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,a){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,sr,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(lr),dr=D({},lr,{view:0,detail:0}),ur=or(dr),pr=D({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(ar=e.screenX-ir.screenX,sr=e.screenY-ir.screenY):sr=ar=0,ir=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),hr=or(pr),mr=or(D({},pr,{dataTransfer:0})),fr=or(D({},dr,{relatedTarget:0})),gr=or(D({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=D({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=or(yr),br=or(D({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Sr(){return wr}var Cr=D({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=or(Cr),Nr=or(D({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=or(D({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Tr=or(D({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=D({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=or(Rr),zr=[9,13,27,32],Ir=d&&"CompositionEvent"in window,Pr=null;d&&"documentMode"in document&&(Pr=document.documentMode);var Or=d&&"TextEvent"in window&&!Pr,Lr=d&&(!Ir||Pr&&8<Pr&&11>=Pr),Dr=String.fromCharCode(32),Fr=!1;function Mr(e,t){switch(e){case"keyup":return-1!==zr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var $r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$r[e.type]:"textarea"===t}function Hr(e,t,r,n){_e(n),0<(t=Qn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,Qr=null;function Vr(e){Fn(e,0)}function Kr(e){if(V(ko(e)))return e}function Gr(e,t){if("change"===e)return t}var Jr=!1;if(d){var Yr;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Yr=Xr}else Yr=!1;Jr=Yr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),Qr=qr=null)}function tn(e){if("value"===e.propertyName&&Kr(Qr)){var t=[];Hr(t,Qr,e,ke(e)),Ae(Vr,t)}}function rn(e,t,r){"focusin"===e?(en(),Qr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Qr)}function on(e,t){if("click"===e)return Kr(t)}function an(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!u.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=dn(r,a);var s=dn(r,n);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,yn=null,xn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==K(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Qn(yn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},wn={},Sn={};function Cn(e){if(wn[e])return wn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return wn[e]=r[t];return e}d&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var _n=Cn("animationend"),Nn=Cn("animationiteration"),En=Cn("animationstart"),Tn=Cn("transitionend"),Rn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Rn.set(e,t),l(t,[e])}for(var In=0;In<An.length;In++){var Pn=An[In];zn(Pn.toLowerCase(),"on"+(Pn[0].toUpperCase()+Pn.slice(1)))}zn(_n,"onAnimationEnd"),zn(Nn,"onAnimationIteration"),zn(En,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Tn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,s,i,l,c){if(We.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=De;Le=!1,De=null,Fe||(Fe=!0,Me=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var i=n[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;Dn(o,i,c),a=l}else for(s=0;s<n.length;s++){if(l=(i=n[s]).instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;Dn(o,i,c),a=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Mn(e,t){var r=t[go];void 0===r&&(r=t[go]=new Set);var n=e+"__bubble";r.has(n)||(Un(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Un(r,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function $n(e){if(!e[Wn]){e[Wn]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,Bn("selectionchange",!1,t))}}function Un(e,t,r,n){switch(Jt(t)){case 1:var o=qt;break;case 4:o=Qt;break;default:o=Vt}r=o.bind(null,t,r,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,o){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var i=n.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==i;){if(null===(s=bo(i)))return;if(5===(l=s.tag)||6===l){n=a=s;continue e}i=i.parentNode}}n=n.return}Ae((function(){var n=a,o=ke(r),s=[];e:{var i=Rn.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=_r;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case _n:case Nn:case En:l=gr;break;case Tn:l=Tr;break;case"scroll":l=ur;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nr}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var h,m=n;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&(null!=(f=ze(m,p))&&d.push(qn(m,f,h)))),u)break;m=m.return}0<d.length&&(i=new l(i,c,null,r,o),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!bo(c)&&!c[fo])&&(l||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?bo(c):null)&&(c!==(u=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hr,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Nr,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?i:ko(l),h=null==c?i:ko(c),(i=new d(f,m+"leave",l,r,o)).target=u,i.relatedTarget=h,f=null,bo(o)===n&&((d=new d(p,m+"enter",c,r,o)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Vn(h))m++;for(h=0,f=p;f;f=Vn(f))h++;for(;0<m-h;)d=Vn(d),m--;for(;0<h-m;)p=Vn(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Vn(d),p=Vn(p)}d=null}else d=null;null!==l&&Kn(s,i,l,d,!1),null!==c&&null!==u&&Kn(s,u,c,d,!0)}if("select"===(l=(i=n?ko(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Gr;else if(Ur(i))if(Jr)g=an;else{g=nn;var y=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=on);switch(g&&(g=g(e,n))?Hr(s,g,r,o):(y&&y(e,i,n),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=n?ko(n):window,e){case"focusin":(Ur(y)||"true"===y.contentEditable)&&(gn=y,yn=n,xn=null);break;case"focusout":xn=yn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(s,r,o);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":vn(s,r,o)}var x;if(Ir)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?Mr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(x=er()):(Xt="value"in(Yt=o)?Yt.value:Yt.textContent,Wr=!0)),0<(y=Qn(n,b)).length&&(b=new br(b,e,null,r,o),s.push({event:b,listeners:y}),x?b.data=x:null!==(x=Br(r))&&(b.data=x))),(x=Or?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Fr=!0,Dr);case"textInput":return(e=t.data)===Dr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Ir&&Mr(e,t)?(e=er(),Zt=Xt=Yt=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Qn(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),s.push({event:o,listeners:n}),o.data=x))}Fn(s,t)}))}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=ze(e,r))&&n.unshift(qn(e,a,o)),null!=(a=ze(e,t))&&n.push(qn(e,a,o))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,o){for(var a=t._reactName,s=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,o?null!=(l=ze(r,a))&&s.unshift(qn(r,l,i)):o||null!=(l=ze(r,a))&&s.push(qn(r,l,i))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Gn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Jn,"")}function Xn(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(a(425))}function Zn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(io)}:no;function io(e){setTimeout((function(){throw e}))}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void $t(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);$t(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,mo="__reactProps$"+po,fo="__reactContainer$"+po,go="__reactEvents$"+po,yo="__reactListeners$"+po,xo="__reactHandles$"+po;function bo(e){var t=e[ho];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fo]||r[ho]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=uo(e);null!==e;){if(r=e[ho])return r;e=uo(e)}return t}r=(e=r).parentNode}return null}function vo(e){return!(e=e[ho]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jo(e){return e[mo]||null}var wo=[],So=-1;function Co(e){return{current:e}}function _o(e){0>So||(e.current=wo[So],wo[So]=null,So--)}function No(e,t){So++,wo[So]=e.current,e.current=t}var Eo={},To=Co(Eo),Ro=Co(!1),Ao=Eo;function zo(e,t){var r=e.type.contextTypes;if(!r)return Eo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Io(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Po(){_o(Ro),_o(To)}function Oo(e,t,r){if(To.current!==Eo)throw Error(a(168));No(To,t),No(Ro,r)}function Lo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,U(e)||"Unknown",o));return D({},r,n)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Ao=To.current,No(To,e),No(Ro,Ro.current),!0}function Fo(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Lo(e,t,Ao),n.__reactInternalMemoizedMergedChildContext=e,_o(Ro),_o(To),No(To,e)):_o(Ro),No(Ro,r)}var Mo=null,Bo=!1,Wo=!1;function $o(e){null===Mo?Mo=[e]:Mo.push(e)}function Uo(){if(!Wo&&null!==Mo){Wo=!0;var e=0,t=bt;try{var r=Mo;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Mo=null,Bo=!1}catch(o){throw null!==Mo&&(Mo=Mo.slice(e+1)),Ve(Ze,Uo),o}finally{bt=t,Wo=!1}}return null}var Ho=[],qo=0,Qo=null,Vo=0,Ko=[],Go=0,Jo=null,Yo=1,Xo="";function Zo(e,t){Ho[qo++]=Vo,Ho[qo++]=Qo,Qo=e,Vo=t}function ea(e,t,r){Ko[Go++]=Yo,Ko[Go++]=Xo,Ko[Go++]=Jo,Jo=e;var n=Yo;e=Xo;var o=32-st(n)-1;n&=~(1<<o),r+=1;var a=32-st(t)+o;if(30<a){var s=o-o%5;a=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Yo=1<<32-st(t)+o|r<<o|n,Xo=a+e}else Yo=1<<a|r<<o|n,Xo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ra(e){for(;e===Qo;)Qo=Ho[--qo],Ho[qo]=null,Vo=Ho[--qo],Ho[qo]=null;for(;e===Jo;)Jo=Ko[--Go],Ko[Go]=null,Xo=Ko[--Go],Ko[Go]=null,Yo=Ko[--Go],Ko[Go]=null}var na=null,oa=null,aa=!1,sa=null;function ia(e,t){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function la(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Jo?{id:Yo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=t,r.return=e,e.child=r,na=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(aa){var t=oa;if(t){var r=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(r.nextSibling);var n=na;t&&la(e,t)?ia(n,r):(e.flags=-4097&e.flags|2,aa=!1,na=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function pa(e){if(e!==na)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=co(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oa=null}}else oa=na?co(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=oa;e;)e=co(e.nextSibling)}function ma(){oa=na=null,aa=!1}function fa(e){null===sa?sa=[e]:sa.push(e)}var ga=v.ReactCurrentBatchConfig;function ya(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function va(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Dc(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===w?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===z&&ba(a)===t.type)?((n=o(t,r.props)).ref=ya(e,t,r),n.return=e,n):((n=Pc(r.type,r.key,r.props,null,e.mode,n)).ref=ya(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Oc(r,e.mode,n,a)).return=e,t):((t=o(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(r=Pc(t.type,t.key,t.props,null,e.mode,r)).ref=ya(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case z:return p(e,(0,t._init)(t._payload),r)}if(te(t)||O(t))return(t=Oc(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===o?c(e,t,r,n):null;case j:return r.key===o?d(e,t,r,n):null;case z:return h(e,t,(o=r._init)(r._payload),n)}if(te(r)||O(r))return null!==o?null:u(e,t,r,n,null);xa(e,r)}return null}function m(e,t,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,o);case z:return m(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||O(n))return u(t,e=e.get(r)||null,n,o,null);xa(t,n)}return null}function f(o,a,i,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var y=h(o,u,i[f],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(o,u),a=s(y,a,f),null===d?c=y:d.sibling=y,d=y,u=g}if(f===i.length)return r(o,u),aa&&Zo(o,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(o,i[f],l))&&(a=s(u,a,f),null===d?c=u:d.sibling=u,d=u);return aa&&Zo(o,f),c}for(u=n(o,u);f<i.length;f++)null!==(g=m(u,o,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=s(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(o,e)})),aa&&Zo(o,f),c}function g(o,i,l,c){var d=O(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=i,g=i=0,y=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var b=h(o,f,x.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(o,f),i=s(b,i,g),null===u?d=b:u.sibling=b,u=b,f=y}if(x.done)return r(o,f),aa&&Zo(o,g),d;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=p(o,x.value,c))&&(i=s(x,i,g),null===u?d=x:u.sibling=x,u=x);return aa&&Zo(o,g),d}for(f=n(o,f);!x.done;g++,x=l.next())null!==(x=m(f,o,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),i=s(x,i,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),d}return function e(n,a,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,d=a;null!==d;){if(d.key===c){if((c=s.type)===w){if(7===d.tag){r(n,d.sibling),(a=o(d,s.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===z&&ba(c)===d.type){r(n,d.sibling),(a=o(d,s.props)).ref=ya(n,d,s),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}s.type===w?((a=Oc(s.props.children,n.mode,l,s.key)).return=n,n=a):((l=Pc(s.type,s.key,s.props,null,n.mode,l)).ref=ya(n,a,s),l.return=n,n=l)}return i(n);case j:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){r(n,a.sibling),(a=o(a,s.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Fc(s,n.mode,l)).return=n,n=a}return i(n);case z:return e(n,a,(d=s._init)(s._payload),l)}if(te(s))return f(n,a,s,l);if(O(s))return g(n,a,s,l);xa(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(r(n,a.sibling),(a=o(a,s)).return=n,n=a):(r(n,a),(a=Dc(s,n.mode,l)).return=n,n=a),i(n)):r(n,a)}}var ka=va(!0),ja=va(!1),wa=Co(null),Sa=null,Ca=null,_a=null;function Na(){_a=Ca=Sa=null}function Ea(e){var t=wa.current;_o(wa),e._currentValue=t}function Ta(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ra(e,t){Sa=e,_a=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Sa)throw Error(a(308));Ca=e,Sa.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var za=null;function Ia(e){null===za?za=[e]:za.push(e)}function Pa(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ia(t)):(r.next=o.next,o.next=r),t.interleaved=r,Oa(e,n)}function Oa(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&El)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Oa(e,r)}return null===(o=n.interleaved)?(t.next=t,Ia(n)):(t.next=o.next,o.next=t),n.interleaved=t,Oa(e,r)}function Wa(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}function $a(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?o=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?o=a=t:a=a.next=t}else o=a=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ua(e,t,r,n){var o=e.updateQueue;La=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(s=0,d=c=l=null,i=a;;){var p=i.lane,h=i.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,f=i;switch(p=t,h=r,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=f.payload)?m.call(h,u,p):m)||void 0===p)break e;u=D({},u,p);break e;case 2:La=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[i]:p.push(i))}else h={eventTime:h,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,s|=p;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(p=i).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=u}}function Ha(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var qa={},Qa=Co(qa),Va=Co(qa),Ka=Co(qa);function Ga(e){if(e===qa)throw Error(a(174));return e}function Ja(e,t){switch(No(Ka,t),No(Va,e),No(Qa,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(Qa),No(Qa,t)}function Ya(){_o(Qa),_o(Va),_o(Ka)}function Xa(e){Ga(Ka.current);var t=Ga(Qa.current),r=le(t,e.type);t!==r&&(No(Va,e),No(Qa,r))}function Za(e){Va.current===e&&(_o(Qa),_o(Va))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function ns(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=v.ReactCurrentDispatcher,as=v.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,ds=!1,us=!1,ps=0,hs=0;function ms(){throw Error(a(321))}function fs(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function gs(e,t,r,n,o,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ei,e=r(n,o),us){s=0;do{if(us=!1,ps=0,25<=s)throw Error(a(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ti,e=r(n,o)}while(us)}if(os.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,ds=!1,t)throw Error(a(300));return e}function ys(){var e=0!==ps;return ps=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function vs(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=bs(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=ls,o=n.baseQueue,s=r.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}n.baseQueue=o=s,r.pending=null}if(null!==o){s=o.next,n=n.baseState;var l=i=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=n):c=c.next=p,is.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==s);null===c?i=n:c.next=l,sn(n,t.memoizedState)||(bi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{s=o.lane,is.lanes|=s,Ll|=s,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function js(e){var t=bs(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(null!==o){r.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);sn(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ws(){}function Ss(e,t){var r=is,n=bs(),o=t(),s=!sn(n.memoizedState,o);if(s&&(n.memoizedState=o,bi=!0),n=n.queue,Ls(Ns.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(r.flags|=2048,As(9,_s.bind(null,r,n,o,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ss)||Cs(r,t,o)}return o}function Cs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _s(e,t,r,n){t.value=r,t.getSnapshot=n,Es(t)&&Ts(e)}function Ns(e,t,r){return r((function(){Es(t)&&Ts(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ts(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function Rs(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,is,e),[t.memoizedState,e]}function As(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function zs(){return bs().memoizedState}function Is(e,t,r,n){var o=xs();is.flags|=e,o.memoizedState=As(1|t,r,void 0,void 0===n?null:n)}function Ps(e,t,r,n){var o=bs();n=void 0===n?null:n;var a=void 0;if(null!==ls){var s=ls.memoizedState;if(a=s.destroy,null!==n&&fs(n,s.deps))return void(o.memoizedState=As(t,r,a,n))}is.flags|=e,o.memoizedState=As(1|t,r,a,n)}function Os(e,t){return Is(8390656,8,e,t)}function Ls(e,t){return Ps(2048,8,e,t)}function Ds(e,t){return Ps(4,2,e,t)}function Fs(e,t){return Ps(4,4,e,t)}function Ms(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ps(4,4,Ms.bind(null,t,e),r)}function Ws(){}function $s(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Us(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hs(e,t,r){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=r):(sn(r,t)||(r=ft(),is.lanes|=r,Ll|=r,e.baseState=!0),t)}function qs(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=as.transition;as.transition={};try{e(!1),t()}finally{bt=r,as.transition=n}}function Qs(){return bs().memoizedState}function Vs(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gs(e))Js(t,r);else if(null!==(r=Pa(e,t,r,n))){rc(r,e,n,ec()),Ys(r,t,n)}}function Ks(e,t,r){var n=tc(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Js(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=a(s,r);if(o.hasEagerState=!0,o.eagerState=i,sn(i,s)){var l=t.interleaved;return null===l?(o.next=o,Ia(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(r=Pa(e,t,o,n))&&(rc(r,e,n,o=ec()),Ys(r,t,n))}}function Gs(e){var t=e.alternate;return e===is||null!==t&&t===is}function Js(e,t){us=ds=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ys(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}var Xs={readContext:Aa,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Zs={readContext:Aa,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Os,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Is(4194308,4,Ms.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vs.bind(null,is,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Rs,useDebugValue:Ws,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=qs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=is,o=xs();if(aa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Tl)throw Error(a(349));0!==(30&ss)||Cs(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,Os(Ns.bind(null,n,s,e),[e]),n.flags|=2048,As(9,_s.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=xs(),t=Tl.identifierPrefix;if(aa){var r=Xo;t=":"+t+"R"+(r=(Yo&~(1<<32-st(Yo)-1)).toString(32)+r),0<(r=ps++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Aa,useCallback:$s,useContext:Aa,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Us,useReducer:ks,useRef:zs,useState:function(){return ks(vs)},useDebugValue:Ws,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[ks(vs)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:Qs,unstable_isNewReconciler:!1},ti={readContext:Aa,useCallback:$s,useContext:Aa,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ds,useLayoutEffect:Fs,useMemo:Us,useReducer:js,useRef:zs,useState:function(){return js(vs)},useDebugValue:Ws,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[js(vs)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:Qs,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var oi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=Ma(n,o);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,o))&&(rc(t,e,o,n),Wa(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=Ma(n,o);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,o))&&(rc(t,e,o,n),Wa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),o=Ma(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ba(e,o,n))&&(rc(t,e,n,r),Wa(t,e,n))}};function ai(e,t,r,n,o,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(o,a))}function si(e,t,r){var n=!1,o=Eo,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(o=Io(t)?Ao:To.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?zo(e,o):Eo),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Aa(a):(a=Io(t)?Ao:To.current,o.context=zo(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oi.enqueueReplaceState(o,o.state,null),Ua(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=W(n),n=n.return}while(n);var o=r}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var pi="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,r){(r=Ma(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,ql=n),ui(0,t)},r}function mi(e,t,r){(r=Ma(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){ui(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new pi;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Cc.bind(null,e,t,r),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,r,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ma(-1,1)).tag=2,Ba(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var xi=v.ReactCurrentOwner,bi=!1;function vi(e,t,r,n){t.child=null===e?ja(t,null,r,n):ka(t,e.child,r,n)}function ki(e,t,r,n,o){r=r.render;var a=t.ref;return Ra(t,o),n=gs(e,t,r,n,a,o),r=ys(),null===e||bi?(aa&&r&&ta(t),t.flags|=1,vi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hi(e,t,o))}function ji(e,t,r,n,o){if(null===e){var a=r.type;return"function"!==typeof a||zc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Pc(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wi(e,t,a,n,o))}if(a=e.child,0===(e.lanes&o)){var s=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Hi(e,t,o)}return t.flags|=1,(e=Ic(a,n)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,r,n,o){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bi=!1,t.pendingProps=n=a,0===(e.lanes&o))return t.lanes=e.lanes,Hi(e,t,o);0!==(131072&e.flags)&&(bi=!0)}}return _i(e,t,r,n,o)}function Si(e,t,r){var n=t.pendingProps,o=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Il,zl),zl|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(Il,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,No(Il,zl),zl|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,No(Il,zl),zl|=n;return vi(e,t,o,r),t.child}function Ci(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,r,n,o){var a=Io(r)?Ao:To.current;return a=zo(t,a),Ra(t,o),r=gs(e,t,r,n,a,o),n=ys(),null===e||bi?(aa&&n&&ta(t),t.flags|=1,vi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hi(e,t,o))}function Ni(e,t,r,n,o){if(Io(r)){var a=!0;Do(t)}else a=!1;if(Ra(t,o),null===t.stateNode)Ui(e,t),si(t,r,n),li(t,r,n,o),n=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=Aa(c):c=zo(t,c=Io(r)?Ao:To.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,s,n,c),La=!1;var p=t.memoizedState;s.state=p,Ua(t,n,s,o),l=t.memoizedState,i!==n||p!==l||Ro.current||La?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=La||ai(t,r,i,n,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Fa(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Aa(l):l=zo(t,l=Io(r)?Ao:To.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||p!==l)&&ii(t,s,n,l),La=!1,p=t.memoizedState,s.state=p,Ua(t,n,s,o);var m=t.memoizedState;i!==u||p!==m||Ro.current||La?("function"===typeof h&&(ni(t,r,h,n),m=t.memoizedState),(c=La||ai(t,r,c,n,p,m,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ei(e,t,r,n,a,o)}function Ei(e,t,r,n,o,a){Ci(e,t);var s=0!==(128&t.flags);if(!n&&!s)return o&&Fo(t,r,!1),Hi(e,t,a);n=t.stateNode,xi.current=t;var i=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,i,a)):vi(e,t,i,a),t.memoizedState=n.state,o&&Fo(t,r,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Ja(e,t.containerInfo)}function Ri(e,t,r,n,o){return ma(),fa(o),t.flags|=256,vi(e,t,r,n),t.child}var Ai,zi,Ii,Pi,Oi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,r){var n,o=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),No(es,1&s),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,o,0,null),e=Oc(e,o,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(r),t.memoizedState=Oi,e):Fi(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,o,s,i){if(r)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,n=di(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=Lc({mode:"visible",children:n.children},o,0,null),(s=Oc(s,o,i,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&ka(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Oi,s);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Mi(e,t,i,n=di(s=Error(a(419)),n,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(n=Tl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|i))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oa(e,o),rc(n,e,o,-1))}return fc(),Mi(e,t,i,n=di(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oa=co(o.nextSibling),na=t,aa=!0,sa=null,null!==e&&(Ko[Go++]=Yo,Ko[Go++]=Xo,Ko[Go++]=Jo,Yo=e.id,Xo=e.overflow,Jo=t),t=Fi(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,s,r);if(i){i=o.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?i=Ic(n,i):(i=Oc(i,l,r,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Oi,o}return e=(i=e.child).sibling,o=Ic(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Fi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,r,n){return null!==n&&fa(n),ka(t,e.child,null,r),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ta(e.return,t,r)}function Wi(e,t,r,n,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function $i(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(vi(e,t,n.children,r),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,r,t);else if(19===e.tag)Bi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(No(es,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ts(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Wi(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Wi(t,!0,r,null,a);break;case"together":Wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Ic(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ic(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qi(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vi(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Io(t.type)&&Po(),Qi(t),null;case 3:return n=t.stateNode,Ya(),_o(Ro),_o(To),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(sc(sa),sa=null))),zi(e,t),Qi(t),null;case 5:Za(t);var o=Ga(Ka.current);if(r=t.type,null!==e&&null!=t.stateNode)Ii(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Qi(t),null}if(e=Ga(Qa.current),pa(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ho]=t,n[mo]=s,e=0!==(1&t.mode),r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(o=0;o<On.length;o++)Mn(On[o],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":J(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":oe(n,s),Mn("invalid",n)}for(var l in xe(r,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),o=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mn("scroll",n)}switch(r){case"input":Q(n),Z(n,s,!0);break;case"textarea":Q(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ho]=t,e[mo]=n,Ai(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Mn("cancel",e),Mn("close",e),o=n;break;case"iframe":case"object":case"embed":Mn("load",e),o=n;break;case"video":case"audio":for(o=0;o<On.length;o++)Mn(On[o],e);o=n;break;case"source":Mn("error",e),o=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),o=n;break;case"details":Mn("toggle",e),o=n;break;case"input":J(e,n),o=G(e,n),Mn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=D({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Mn("invalid",e)}for(s in xe(r,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==r||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Mn("scroll",e):null!=d&&b(e,s,d,l))}switch(r){case"input":Q(e),Z(e,n,!1);break;case"textarea":Q(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Pi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ga(Ka.current),Ga(Qa.current),pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[ho]=t,(s=n.nodeValue!==r)&&null!==(e=na))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=t,t.stateNode=n}return Qi(t),null;case 13:if(_o(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ma(),t.flags|=98560,s=!1;else if(s=pa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[ho]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),s=!1}else null!==sa&&(sc(sa),sa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Pl&&(Pl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return Ya(),zi(e,t),null===e&&$n(t.stateNode.containerInfo),Qi(t),null;case 10:return Ea(t.type._context),Qi(t),null;case 19:if(_o(es),null===(s=t.memoizedState))return Qi(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)qi(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qi(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return No(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>$l&&(t.flags|=128,n=!0,qi(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!aa)return Qi(t),null}else 2*Ye()-s.renderingStartTime>$l&&1073741824!==r&&(t.flags|=128,n=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=es.current,No(es,n?1&r|2:1&r),t):(Qi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&zl)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ki(e,t){switch(ra(t),t.tag){case 1:return Io(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),_o(Ro),_o(To),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_o(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(es),null;case 4:return Ya(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ai=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},zi=function(){},Ii=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ga(Qa.current);var a,s=null;switch(r){case"input":o=G(e,o),n=G(e,n),s=[];break;case"select":o=D({},o,{value:void 0}),n=D({},n,{value:void 0}),s=[];break;case"textarea":o=ne(e,o),n=ne(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in xe(r,n),r=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Pi=function(e,t,r,n){r!==n&&(t.flags|=4)};var Gi=!1,Ji=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Sc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,r,a)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[mo],delete t[go],delete t[yo],delete t[xo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function pl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,r)}catch(i){}switch(r.tag){case 5:Ji||Zi(r,t);case 6:var n=dl,o=ul;dl=null,pl(e,t,r),ul=o,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),$t(e)):lo(dl,r.stateNode));break;case 4:n=dl,o=ul,dl=r.stateNode.containerInfo,ul=!0,pl(e,t,r),dl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(r,t,s),o=o.next}while(o!==n)}pl(e,t,r);break;case 1:if(!Ji&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Sc(r,t,i)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Ji=(n=Ji)||null!==r.memoizedState,pl(e,t,r),Ji=n):pl(e,t,r);break;default:pl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Yi),t.forEach((function(t){var n=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(s,i,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Sc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:fl(t,e),yl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(fl(t,e),yl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Sc(e,e.return,g)}}if(4&n&&null!=(o=e.stateNode)){var s=e.memoizedProps,i=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(o,s),be(l,i);var d=be(l,s);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ge(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,d)}switch(l){case"input":X(o,s);break;case"textarea":ae(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?re(o,!!s.multiple,m,!1):h!==!!s.multiple&&(null!=s.defaultValue?re(o,!!s.multiple,s.defaultValue,!0):re(o,!!s.multiple,s.multiple?[]:"",!1))}o[mo]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(fl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(fl(t,e),yl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Ye())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ji=(d=Ji)||u,fl(t,e),Ji=d):fl(t,e),yl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(p=Xi=u;null!==Xi;){switch(m=(h=Xi).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zi(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Sc(n,r,g)}}break;case 5:Zi(h,h.return);break;case 22:if(null!==h.memoizedState){kl(p);continue}}null!==m?(m.return=h,Xi=m):kl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(g){Sc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),yl(e),4&n&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(pe(o,""),n.flags&=-33),cl(e,il(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(a(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Xi=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Xi;){var o=Xi,a=o.child;if(22===o.tag&&n){var s=null!==o.memoizedState||Gi;if(!s){var i=o.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Gi;var c=Ji;if(Gi=s,(Ji=l)&&!c)for(Xi=o;null!==Xi;)l=(s=Xi).child,22===s.tag&&null!==s.memoizedState?jl(o):null!==l?(l.return=s,Xi=l):jl(o);for(;null!==a;)Xi=a,bl(a,t,r),a=a.sibling;Xi=o,Gi=i,Ji=c}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Xi=a):vl(e)}}function vl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ji)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ha(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&$t(p)}}}break;default:throw Error(a(163))}Ji||512&t.flags&&ol(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xi=r;break}Xi=t.return}}function kl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xi=r;break}Xi=t.return}}function jl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Sc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Sc(t,o,l)}}var a=t.return;try{ol(t)}catch(l){Sc(t,a,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var wl,Sl=Math.ceil,Cl=v.ReactCurrentDispatcher,_l=v.ReactCurrentOwner,Nl=v.ReactCurrentBatchConfig,El=0,Tl=null,Rl=null,Al=0,zl=0,Il=Co(0),Pl=0,Ol=null,Ll=0,Dl=0,Fl=0,Ml=null,Bl=null,Wl=0,$l=1/0,Ul=null,Hl=!1,ql=null,Ql=null,Vl=!1,Kl=null,Gl=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Al?Al&-Al:null!==ga.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Yl=null,Error(a(185));yt(e,r,n),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Dl|=r),4===Pl&&ic(e,Al)),nc(e,n),1===r&&0===El&&0===(1&t.mode)&&($l=Ye()+500,Bo&&Uo()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),i=1<<s,l=o[s];-1===l?0!==(i&r)&&0===(i&n)||(o[s]=ht(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var n=pt(e,e===Tl?Al:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Bo=!0,$o(e)}(lc.bind(null,e)):$o(lc.bind(null,e)),so((function(){0===(6&El)&&Uo()})),r=null;else{switch(vt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Tc(r,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(a(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=pt(e,e===Tl?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var o=El;El|=2;var s=mc();for(Tl===e&&Al===t||(Ul=null,$l=Ye()+500,pc(e,t));;)try{xc();break}catch(l){hc(e,l)}Na(),Cl.current=s,El=o,null!==Rl?t=0:(Tl=null,Al=0,t=Pl)}if(0!==t){if(2===t&&(0!==(o=mt(e))&&(n=o,t=ac(e,o))),1===t)throw r=Ol,pc(e,0),ic(e,n),nc(e,Ye()),r;if(6===t)ic(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,n))&&(0!==(s=mt(e))&&(n=s,t=ac(e,s))),1===t))throw r=Ol,pc(e,0),ic(e,n),nc(e,Ye()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Bl,Ul);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Wl+500-Ye())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(kc.bind(null,e,Bl,Ul),t);break}kc(e,Bl,Ul);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-st(n);s=1<<i,(i=t[i])>o&&(o=i),n&=~s}if(n=o,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=no(kc.bind(null,e,Bl,Ul),n);break}kc(e,Bl,Ul);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===r?oc.bind(null,e):null}function ac(e,t){var r=Ml;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=r,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&El))throw Error(a(327));jc();var t=pt(e,0);if(0===(1&t))return nc(e,Ye()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Ol,pc(e,0),ic(e,t),nc(e,Ye()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Bl,Ul),nc(e,Ye()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&($l=Ye()+500,Bo&&Uo())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var r=Nl.transition,n=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=n,Nl.transition=r,0===(6&(El=t))&&Uo()}}function uc(){zl=Il.current,_o(Il)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==Rl)for(r=Rl.return;null!==r;){var n=r;switch(ra(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Po();break;case 3:Ya(),_o(Ro),_o(To),ns();break;case 5:Za(n);break;case 4:Ya();break;case 13:case 19:_o(es);break;case 10:Ea(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Tl=e,Rl=e=Ic(e.current,null),Al=zl=t,Pl=0,Ol=null,Fl=Dl=Ll=0,Bl=Ml=null,null!==za){for(t=0;t<za.length;t++)if(null!==(n=(r=za[t]).interleaved)){r.interleaved=null;var o=n.next,a=r.pending;if(null!==a){var s=a.next;a.next=o,n.next=s}r.pending=n}za=null}return e}function hc(e,t){for(;;){var r=Rl;try{if(Na(),os.current=Xs,ds){for(var n=is.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ds=!1}if(ss=0,cs=ls=is=null,us=!1,ps=0,_l.current=null,null===r||null===r.return){Pl=1,Ol=t,Rl=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,yi(m,i,l,0,t),1&m.mode&&fi(s,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(s,d,t),fc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),fa(ci(c,l));break e}}s=c=ci(c,l),4!==Pl&&(Pl=2),null===Ml?Ml=[s]:Ml.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$a(s,hi(0,c,t));break e;case 1:l=c;var x=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,$a(s,mi(s,l,t));break e}}s=s.return}while(null!==s)}vc(r)}catch(v){t=v,Rl===r&&null!==r&&(Rl=r=r.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=Xs,null===e?Xs:e}function fc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Dl)||ic(Tl,Al)}function gc(e,t){var r=El;El|=2;var n=mc();for(Tl===e&&Al===t||(Ul=null,pc(e,t));;)try{yc();break}catch(o){hc(e,o)}if(Na(),El=r,Cl.current=n,null!==Rl)throw Error(a(261));return Tl=null,Al=0,Pl}function yc(){for(;null!==Rl;)bc(Rl)}function xc(){for(;null!==Rl&&!Ge();)bc(Rl)}function bc(e){var t=wl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?vc(e):Rl=t,_l.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Vi(r,t,zl)))return void(Rl=r)}else{if(null!==(r=Ki(r,t)))return r.flags&=32767,void(Rl=r);if(null===e)return Pl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Pl&&(Pl=5)}function kc(e,t,r){var n=bt,o=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,r,n){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-st(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}(e,s),e===Tl&&(Rl=Tl=null,Al=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Vl||(Vl=!0,Tc(tt,(function(){return jc(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var i=bt;bt=1;var l=El;El|=4,_l.current=null,function(e,t){if(eo=Ht,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(k){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==r||0!==o&&3!==p.nodeType||(l=i+o),p!==s||0!==n&&3!==p.nodeType||(c=i+n),3===p.nodeType&&(i+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===r&&++d===o&&(l=i),h===s&&++u===n&&(c=i),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},Ht=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,y=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(k){Sc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}f=tl,tl=!1}(e,r),gl(r,e),mn(to),Ht=!!eo,to=eo=null,e.current=r,xl(r,e,o),Je(),El=l,bt=i,Nl.transition=s}else e.current=r;if(Vl&&(Vl=!1,Kl=e,Gl=o),s=e.pendingLanes,0===s&&(Ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Uo()}(e,t,r,n)}finally{Nl.transition=o,bt=n}return null}function jc(){if(null!==Kl){var e=vt(Gl),t=Nl.transition,r=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&El))throw Error(a(331));var o=El;for(El|=4,Xi=e.current;null!==Xi;){var s=Xi,i=s.child;if(0!==(16&Xi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:rl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Xi=p;else for(;null!==Xi;){var h=(u=Xi).sibling,m=u.return;if(al(u),u===d){Xi=null;break}if(null!==h){h.return=m,Xi=h;break}Xi=m}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(s=Xi).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,Xi=x;break e}Xi=s.return}}var b=e.current;for(Xi=b;null!==Xi;){var v=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Xi=v;else e:for(i=b;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===i){Xi=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Xi=k;break e}Xi=l.return}}if(El=o,Uo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(j){}n=!0}return n}finally{bt=r,Nl.transition=t}}return!1}function wc(e,t,r){e=Ba(e,t=hi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(yt(e,1,t),nc(e,t))}function Sc(e,t,r){if(3===e.tag)wc(e,e,r);else for(;null!==t;){if(3===t.tag){wc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ql||!Ql.has(n))){t=Ba(t,e=mi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Cc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Tl===e&&(Al&r)===r&&(4===Pl||3===Pl&&(130023424&Al)===Al&&500>Ye()-Wl?pc(e,0):Fl|=r),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Oa(e,t))&&(yt(e,t,r),nc(e,r))}function Nc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),_c(e,r)}function Tc(e,t){return Ve(e,t)}function Rc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,r,n){return new Rc(e,t,r,n)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var r=e.alternate;return null===r?((r=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pc(e,t,r,n,o,s){var i=2;if(n=e,"function"===typeof e)zc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Oc(r.children,o,s,t);case S:i=8,o|=8;break;case C:return(e=Ac(12,r,t,2|o)).elementType=C,e.lanes=s,e;case T:return(e=Ac(13,r,t,o)).elementType=T,e.lanes=s,e;case R:return(e=Ac(19,r,t,o)).elementType=R,e.lanes=s,e;case I:return Lc(r,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case N:i=9;break e;case E:i=11;break e;case A:i=14;break e;case z:i=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(i,r,t,o)).elementType=e,t.type=n,t.lanes=s,t}function Oc(e,t,r,n){return(e=Ac(7,e,n,t)).lanes=r,e}function Lc(e,t,r,n){return(e=Ac(22,e,n,t)).elementType=I,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Ac(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,o,a,s,i,l){return e=new Mc(e,t,r,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Wc(e){if(!e)return Eo;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Io(r))return Lo(e,r,t)}return t}function $c(e,t,r,n,o,a,s,i,l){return(e=Bc(r,n,!0,e,0,a,0,i,l)).context=Wc(null),r=e.current,(a=Ma(n=ec(),o=tc(r))).callback=void 0!==t&&null!==t?t:null,Ba(r,a,o),e.current.lanes=o,yt(e,o,n),nc(e,n),e}function Uc(e,t,r,n){var o=t.current,a=ec(),s=tc(o);return r=Wc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ma(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ba(o,t,s))&&(rc(e,o,s,a),Wa(e,o,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Qc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}wl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)bi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bi=!1,function(e,t,r){switch(t.tag){case 3:Ti(t),ma();break;case 5:Xa(t);break;case 1:Io(t.type)&&Do(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;No(wa,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(No(es,1&es.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Di(e,t,r):(No(es,1&es.current),null!==(e=Hi(e,t,r))?e.sibling:null);No(es,1&es.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return $i(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,Si(e,t,r)}return Hi(e,t,r)}(e,t,r);bi=0!==(131072&e.flags)}else bi=!1,aa&&0!==(1048576&t.flags)&&ea(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ui(e,t),e=t.pendingProps;var o=zo(t,To.current);Ra(t,r),o=gs(null,t,n,e,o,r);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(n)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Da(t),o.updater=oi,t.stateNode=o,o._reactInternals=t,li(t,n,e,r),t=Ei(null,t,n,!0,s,r)):(t.tag=0,aa&&s&&ta(t),vi(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(n),e=ri(n,e),o){case 0:t=_i(null,t,n,e,r);break e;case 1:t=Ni(null,t,n,e,r);break e;case 11:t=ki(null,t,n,e,r);break e;case 14:t=ji(null,t,n,ri(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,_i(e,t,n,o=t.elementType===n?o:ri(n,o),r);case 1:return n=t.type,o=t.pendingProps,Ni(e,t,n,o=t.elementType===n?o:ri(n,o),r);case 3:e:{if(Ti(t),null===e)throw Error(a(387));n=t.pendingProps,o=(s=t.memoizedState).element,Fa(e,t),Ua(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ri(e,t,n,r,o=ci(Error(a(423)),t));break e}if(n!==o){t=Ri(e,t,n,r,o=ci(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),na=t,aa=!0,sa=null,r=ja(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ma(),n===o){t=Hi(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return Xa(t),null===e&&da(t),n=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,ro(n,o)?i=null:null!==s&&ro(n,s)&&(t.flags|=32),Ci(e,t),vi(e,t,i,r),t.child;case 6:return null===e&&da(t),null;case 13:return Di(e,t,r);case 4:return Ja(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ka(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,ki(e,t,n,o=t.elementType===n?o:ri(n,o),r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,No(wa,n._currentValue),n._currentValue=i,null!==s)if(sn(s.value,i)){if(s.children===o.children&&!Ro.current){t=Hi(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Ma(-1,r&-r)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),Ta(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(a(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ta(i,r,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}vi(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ra(t,r),n=n(o=Aa(o)),t.flags|=1,vi(e,t,n,r),t.child;case 14:return o=ri(n=t.type,t.pendingProps),ji(e,t,n,o=ri(n.type,o),r);case 15:return wi(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:ri(n,o),Ui(e,t),t.tag=1,Io(n)?(e=!0,Do(t)):e=!1,Ra(t,r),si(t,n,o),li(t,n,o,r),Ei(null,t,n,!0,e,r);case 19:return $i(e,t,r);case 22:return Si(e,t,r)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,n,o){var a=r._reactRootContainer;if(a){var s=a;if("function"===typeof o){var i=o;o=function(){var e=Hc(s);i.call(e)}}Uc(t,s,e,o)}else s=function(e,t,r,n,o){if(o){if("function"===typeof n){var a=n;n=function(){var e=Hc(s);a.call(e)}}var s=$c(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[fo]=s.current,$n(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var i=n;n=function(){var e=Hc(l);i.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fo]=l.current,$n(8===e.nodeType?e.parentNode:e),dc((function(){Uc(t,l,r,n)})),l}(r,t,e,o,n);return Hc(s)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Uc(null,e,null,null)})),t[fo]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&0!==t&&t<It[r].priority;r++);It.splice(r,0,e),0===r&&Dt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(xt(t,1|r),nc(t,Ye()),0===(6&El)&&($l=Ye()+500,Uo()))}break;case 13:dc((function(){var t=Oa(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Qc(e,1)}},jt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,ec());Qc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),r=Oa(e,t);if(null!==r)rc(r,e,t,ec());Qc(e,t)}},St=function(){return bt},Ct=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=jo(n);if(!o)throw Error(a(90));V(n),X(n,o)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[vo,ko,jo,_e,Ne,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ot=nd.inject(rd),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var r=!1,n="",o=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,o),e[fo]=t.current,$n(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,o=!1,s="",i=Vc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=$c(t,null,e,1,null!=r?r:null,o,0,s,i),e[fo]=t.current,$n(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Gc(t)},t.render=function(e,t,r){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,r,n,o,a,s,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,a,s,i],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,r)=>{"use strict";e.exports=r(234)},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(a,s),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".0fcd10b0.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cahoots-frontend:";r.l=(n,o,a,s)=>{if(e[n])e[n].push(o);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[o];var p=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise(((r,n)=>o=e[t]=[r,n]));n.push(o[2]=a);var s=r.p+r.u(t),i=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,a,s=n[0],i=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkcahoots_frontend=self.webpackChunkcahoots_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Rn,hasStandardBrowserEnv:()=>zn,hasStandardBrowserWebWorkerEnv:()=>In,navigator:()=>An,origin:()=>Pn});var t,n=r(43),o=r.t(n,2),a=r(391),s=r(950),i=r.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,r,n,o){void 0===o&&(o={});let{window:a=document.defaultView,v5Compat:s=!1}=o,i=a.history,u=t.Pop,f=null,g=y();function y(){return(i.state||{idx:null}).idx}function x(){u=t.Pop;let e=y(),r=null==e?null:e-g;g=e,f&&f({action:u,location:v.location,delta:r})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,i.replaceState(l({},i.state,{idx:g}),""));let v={get action(){return u},get location(){return e(a,i)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(c,x),f=e,()=>{a.removeEventListener(c,x),f=null}},createHref:e=>r(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){u=t.Push;let o=h(v.location,e,r);n&&n(o,e),g=y()+1;let l=p(o,g),c=v.createHref(o);try{i.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}s&&f&&f({action:u,location:v.location,delta:1})},replace:function(e,r){u=t.Replace;let o=h(v.location,e,r);n&&n(o,e),g=y();let a=p(o,g),l=v.createHref(o);i.replaceState(a,"",l),s&&f&&f({action:u,location:v.location,delta:0})},go:e=>i.go(e)};return v}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,n){let o=I(("string"===typeof t?f(t):t).pathname||"/",r);if(null==o)return null;let a=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let i=0;null==s&&i<a.length;++i){let e=z(o);s=R(a[i],e,n)}return s}function v(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let o=(e,o,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let i=F([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:T(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of k(e.path))o(e,t,n);else o(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return o?[a,""]:[a];let s=k(n.join("/")),i=[];return i.push(...s.map((e=>""===e?a:[a,e].join("/")))),o&&i.push(...s),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const j=/^:[\w-]+$/,w=3,S=2,C=1,_=10,N=-2,E=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(E)&&(n+=N),t&&(n+=S),r.filter((e=>!E(e))).reduce(((e,t)=>e+(j.test(t)?w:""===t?C:_)),n)}function R(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,o={},a="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:F([a,d.pathname]),pathnameBase:M(F([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=F([a,d.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let a=new RegExp(o,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=i[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function P(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let r=O(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function D(e,t,r,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=f(e):(o=l({},e),d(!o.pathname||!o.pathname.includes("?"),P("?","pathname","search",o)),d(!o.pathname||!o.pathname.includes("#"),P("#","pathname","hash",o)),d(!o.search||!o.search.includes("#"),P("#","search","hash",o)));let a,s=""===e||""===o.pathname,i=s?"/":o.pathname;if(null==i)a=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:o=""}="string"===typeof e?f(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:B(n),hash:W(o)}}(o,a),u=i&&"/"!==i&&i.endsWith("/"),p=(s||"."===i)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const Q=n.createContext(null);const V=n.createContext(null);const K=n.createContext(null);const G=n.createContext(null);const J=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=n.createContext(null);function X(){return null!=n.useContext(G)}function Z(){return X()||d(!1),n.useContext(G).location}function ee(e){n.useContext(K).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(J);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=me(ue.UseNavigateStable),r=n.useRef(!1);return ee((()=>{r.current=!0})),n.useCallback((function(n,o){void 0===o&&(o={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,q({fromRouteId:t},o)))}),[e,t])}():function(){X()||d(!1);let e=n.useContext(Q),{basename:t,future:r,navigator:o}=n.useContext(K),{matches:a}=n.useContext(J),{pathname:s}=Z(),i=JSON.stringify(L(a,r.v7_relativeSplatPath)),l=n.useRef(!1);return ee((()=>{l.current=!0})),n.useCallback((function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void o.go(r);let a=D(r,JSON.parse(i),s,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:F([t,a.pathname])),(n.replace?o.replace:o.push)(a,n.state,n)}),[t,o,i,s,e])}()}function re(){let{matches:e}=n.useContext(J),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:r}=void 0===t?{}:t,{future:o}=n.useContext(K),{matches:a}=n.useContext(J),{pathname:s}=Z(),i=JSON.stringify(L(a,o.v7_relativeSplatPath));return n.useMemo((()=>D(e,JSON.parse(i),s,"path"===r)),[e,i,s,r])}function oe(e,r,o,a){X()||d(!1);let{navigator:s,static:i}=n.useContext(K),{matches:l}=n.useContext(J),c=l[l.length-1],u=c?c.params:{},p=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,m=Z();if(r){var g;let e="string"===typeof r?f(r):r;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||d(!1),h=e}else h=m;let y=h.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!i&&o&&o.matches&&o.matches.length>0?o.matches:x(e,{pathname:b});let k=ce(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:F([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,o,a);return r&&k?n.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},k):k}function ae(){let e=function(){var e;let t=n.useContext(Y),r=he(ue.UseRouteError),o=me(ue.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[o]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:a},r):null,null)}const se=n.createElement(ae,null);class ie extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(J.Provider,{value:this.props.routeContext},n.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:r,children:o}=e,a=n.useContext(Q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(J.Provider,{value:t},o)}function ce(e,t,r,o){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(r&&o&&o.v7_partialHydration)for(let n=0;n<i.length;n++){let e=i[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,o,a)=>{let s,d=!1,p=null,h=null;var m;r&&(s=l&&o.route.id?l[o.route.id]:void 0,p=o.route.errorElement||se,c&&(u<0&&0===a?(m="route-fallback",!1||fe[m]||(fe[m]=!0),d=!0,h=null):u===a&&(d=!0,h=o.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,a+1)),g=()=>{let t;return t=s?p:d?h:o.route.Component?n.createElement(o.route.Component,null):o.route.element?o.route.element:e,n.createElement(le,{match:o,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===a)?n.createElement(ie,{location:r.location,revalidation:r.revalidation,component:p,error:s,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function pe(e){let t=n.useContext(Q);return t||d(!1),t}function he(e){let t=n.useContext(V);return t||d(!1),t}function me(e){let t=function(){let e=n.useContext(J);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const fe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:r,state:o,relative:a}=e;X()||d(!1);let{future:s,static:i}=n.useContext(K),{matches:l}=n.useContext(J),{pathname:c}=Z(),u=te(),p=D(t,L(l,s.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(p);return n.useEffect((()=>u(JSON.parse(h),{replace:r,state:o,relative:a})),[u,h,a,r,o]),null}function xe(e){d(!1)}function be(e){let{basename:r="/",children:o=null,location:a,navigationType:s=t.Pop,navigator:i,static:l=!1,future:c}=e;X()&&d(!1);let u=r.replace(/^\/*/,"/"),p=n.useMemo((()=>({basename:u,navigator:i,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,i,l]);"string"===typeof a&&(a=f(a));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:x="default"}=a,b=n.useMemo((()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:x},navigationType:s}}),[u,h,m,g,y,x,s]);return null==b?null:n.createElement(K.Provider,{value:p},n.createElement(G.Provider,{children:o,value:b}))}function ve(e){let{children:t,location:r}=e;return oe(ke(t),r)}new Promise((()=>{}));n.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,((e,o)=>{if(!n.isValidElement(e))return;let a=[...t,o];if(e.type===n.Fragment)return void r.push.apply(r,ke(e.props.children,a));e.type!==xe&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ke(e.props.children,a)),r.push(s)})),r}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(gd){}new Map;const Ce=o.startTransition;i.flushSync,o.useId;function _e(e){let{basename:t,children:r,future:o,window:a}=e,s=n.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),g((function(e,t){let{pathname:r,search:n,hash:o}=e.location;return h("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,i)));let l=s.current,[c,d]=n.useState({action:l.action,location:l.location}),{v7_startTransition:u}=o||{},p=n.useCallback((e=>{u&&Ce?Ce((()=>d(e))):d(e)}),[d,u]);return n.useLayoutEffect((()=>l.listen(p)),[l,p]),n.useEffect((()=>ge(o)),[o]),n.createElement(be,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:o})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=n.forwardRef((function(e,t){let r,{onClick:o,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:p,viewTransition:h}=e,f=we(e,Se),{basename:g}=n.useContext(K),y=!1;if("string"===typeof u&&Ee.test(u)&&(r=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=I(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:y=!0}catch(gd){}let x=function(e,t){let{relative:r}=void 0===t?{}:t;X()||d(!1);let{basename:o,navigator:a}=n.useContext(K),{hash:s,pathname:i,search:l}=ne(e,{relative:r}),c=i;return"/"!==o&&(c="/"===i?o:F([o,i])),a.createHref({pathname:c,search:l,hash:s})}(u,{relative:a}),b=function(e,t){let{target:r,replace:o,state:a,preventScrollReset:s,relative:i,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:i});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==o?o:m(d)===m(u);c(e,{replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:l})}}),[d,c,u,o,a,r,e,s,i,l])}(u,{replace:i,state:l,target:c,preventScrollReset:p,relative:a,viewTransition:h});return n.createElement("a",je({},f,{href:r||x,onClick:y||s?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Re,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));var ze=r(579),Ie=n.createContext(void 0),Pe=e=>{const t=n.useContext(Ie);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Oe=e=>{let{client:t,children:r}=e;return n.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,ze.jsx)(Ie.Provider,{value:t,children:r})},Le=function(){return null},De=r(366),Fe=r.n(De),Me=r(740),Be=r.n(Me),We=r(324),$e=r.n(We),Ue=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Ue||{}),He={rel:["amphtml","canonical","alternate"]},qe={type:["application/ld+json"]},Qe={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Ve=Object.values(Ue),Ke={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ge=Object.entries(Ke).reduce(((e,t)=>{let[r,n]=t;return e[n]=r,e}),{}),Je="data-rh",Ye="defaultTitle",Xe="defer",Ze="encodeSpecialCharacters",et="onChangeClientState",tt="titleTemplate",rt="prioritizeSeoTags",nt=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},ot=e=>{let t=nt(e,"title");const r=nt(e,tt);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,(()=>t));const n=nt(e,Ye);return t||n||void 0},at=e=>nt(e,et)||(()=>{}),st=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),it=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,r)=>{if(!t.length){const n=Object.keys(r);for(let o=0;o<n.length;o+=1){const a=n[o].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}}return t}),[]),lt=(e,t,r)=>{const n={};return r.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(r=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"===typeof console.warn&&console.warn(r)),!1);var r})).map((t=>t[e])).reverse().reduce(((e,r)=>{const o={};r.filter((e=>{let r;const a=Object.keys(e);for(let n=0;n<a.length;n+=1){const o=a[n],s=o.toLowerCase();-1===t.indexOf(s)||"rel"===r&&"canonical"===e[r].toLowerCase()||"rel"===s&&"stylesheet"===e[s].toLowerCase()||(r=s),-1===t.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(r=o)}if(!r||!e[r])return!1;const s=e[r].toLowerCase();return n[r]||(n[r]={}),o[r]||(o[r]={}),!n[r][s]&&(o[r][s]=!0,!0)})).reverse().forEach((t=>e.push(t)));const a=Object.keys(o);for(let t=0;t<a.length;t+=1){const e=a[t],r={...n[e],...o[e]};n[e]=r}return e}),[]).reverse()},ct=(e,t)=>{if(Array.isArray(e)&&e.length)for(let r=0;r<e.length;r+=1){if(e[r][t])return!0}return!1},dt=e=>Array.isArray(e)?e.join(""):e,ut=(e,t)=>Array.isArray(e)?e.reduce(((e,r)=>(((e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1})(r,t)?e.priority.push(r):e.default.push(r),e)),{priority:[],default:[]}):{default:e,priority:[]},pt=(e,t)=>({...e,[t]:void 0}),ht=["noscript","script","style"],mt=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ft=e=>Object.keys(e).reduce(((t,r)=>{const n="undefined"!==typeof e[r]?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n}),""),gt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,r)=>(t[Ke[r]||r]=e[r],t)),t)},yt=(e,t)=>t.map(((t,r)=>{const o={key:r,[Je]:!0};return Object.keys(t).forEach((e=>{const r=Ke[e]||e;if("innerHTML"===r||"cssText"===r){const e=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:e}}else o[r]=t[e]})),n.createElement(e,o)})),xt=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>((e,t,r)=>{const o=gt(r,{key:t,[Je]:!0});return[n.createElement("title",o,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,r,n)=>{const o=ft(r),a=dt(t);return o?`<${e} ${Je}="true" ${o}>${mt(a,n)}</${e}>`:`<${e} ${Je}="true">${mt(a,n)}</${e}>`})(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>gt(t),toString:()=>ft(t)};default:return{toComponent:()=>yt(e,t),toString:()=>function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,n)=>{const o=n,a=Object.keys(o).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const n="undefined"===typeof o[t]?t:`${t}="${mt(o[t],r)}"`;return e?`${e} ${n}`:n}),""),s=o.innerHTML||o.cssText||"",i=-1===ht.indexOf(e);return`${t}<${e} ${Je}="true" ${a}${i?"/>":`>${s}</${e}>`}`}),"")}(e,t,r)}}},bt=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:o,noscriptTags:a,styleTags:s,title:i="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:p}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:d,metaTags:u,scriptTags:p}=(e=>{let{metaTags:t,linkTags:r,scriptTags:n,encode:o}=e;const a=ut(t,Qe),s=ut(r,He),i=ut(n,qe);return{priorityMethods:{toComponent:()=>[...yt("meta",a.priority),...yt("link",s.priority),...yt("script",i.priority)],toString:()=>`${xt("meta",a.priority,o)} ${xt("link",s.priority,o)} ${xt("script",i.priority,o)}`},metaTags:a.default,linkTags:s.default,scriptTags:i.default}})(e)),{priority:h,base:xt("base",t,n),bodyAttributes:xt("bodyAttributes",r,n),htmlAttributes:xt("htmlAttributes",o,n),link:xt("link",d,n),meta:xt("meta",u,n),noscript:xt("noscript",a,n),script:xt("script",p,n),style:xt("style",s,n),title:xt("title",{title:i,titleAttributes:l},n)}},vt=[],kt=!("undefined"===typeof window||!window.document||!window.document.createElement),jt=class{instances=[];canUseDOM=(()=>kt)();context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?vt:this.instances,add:e=>{(this.canUseDOM?vt:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?vt:this.instances).indexOf(e);(this.canUseDOM?vt:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=bt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wt=n.createContext({}),St=class e extends n.Component{static canUseDOM=(()=>kt)();helmetData;constructor(t){super(t),this.helmetData=new jt(this.props.context||{},e.canUseDOM)}render(){return n.createElement(wt.Provider,{value:this.helmetData.value},this.props.children)}},Ct=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Je}]`),o=[].slice.call(n),a=[];let s;return t&&t.length&&t.forEach((t=>{const r=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)r.innerHTML=t.innerHTML;else if("cssText"===e)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{const n=e,o="undefined"===typeof t[n]?"":t[n];r.setAttribute(e,o)}r.setAttribute(Je,"true"),o.some(((e,t)=>(s=t,r.isEqualNode(e))))?o.splice(s,1):a.push(r)})),o.forEach((e=>e.parentNode?.removeChild(e))),a.forEach((e=>r.appendChild(e))),{oldTags:o,newTags:a}},_t=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Je),o=n?n.split(","):[],a=[...o],s=Object.keys(t);for(const i of s){const e=t[i]||"";r.getAttribute(i)!==e&&r.setAttribute(i,e),-1===o.indexOf(i)&&o.push(i);const n=a.indexOf(i);-1!==n&&a.splice(n,1)}for(let i=a.length-1;i>=0;i-=1)r.removeAttribute(a[i]);o.length===a.length?r.removeAttribute(Je):r.getAttribute(Je)!==s.join(",")&&r.setAttribute(Je,s.join(","))},Nt=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:o,linkTags:a,metaTags:s,noscriptTags:i,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:p}=e;_t("body",n),_t("html",o),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=dt(e)),_t("title",t)})(u,p);const h={baseTag:Ct("base",r),linkTags:Ct("link",a),metaTags:Ct("meta",s),noscriptTags:Ct("noscript",i),scriptTags:Ct("script",c),styleTags:Ct("style",d)},m={},f={};Object.keys(h).forEach((e=>{const{newTags:t,oldTags:r}=h[e];t.length&&(m[e]=t),r.length&&(f[e]=h[e].oldTags)})),t&&t(),l(e,m,f)},Et=null,Tt=e=>{Et&&cancelAnimationFrame(Et),e.defer?Et=requestAnimationFrame((()=>{Nt(e,(()=>{Et=null}))})):(Nt(e),Et=null)},Rt=class extends n.Component{rendered=!1;shouldComponentUpdate(e){return!$e()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=(o=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:it(["href"],o),bodyAttributes:st("bodyAttributes",o),defer:nt(o,Xe),encode:nt(o,Ze),htmlAttributes:st("htmlAttributes",o),linkTags:lt("link",["rel","href"],o),metaTags:lt("meta",["name","charset","http-equiv","property","itemprop"],o),noscriptTags:lt("noscript",["innerHTML"],o),onChangeClientState:at(o),scriptTags:lt("script",["src","innerHTML"],o),styleTags:lt("style",["cssText"],o),title:ot(o),titleAttributes:st("titleAttributes",o),prioritizeSeoTags:ct(o,rt)});var o;St.canUseDOM?Tt(n):bt&&(r=bt(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},At=class extends n.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!Fe()(pt(this.props,"helmetData"),pt(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach((t=>{r={...r,[t]:e[t]}})),r}warnOnInvalidChildren(e,t){return Be()(Ve.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ve.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Be()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return n.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:n,...o}=e.props,a=Object.keys(o).reduce(((e,t)=>(e[Ge[t]||t]=o[t],e)),{});let{type:s}=e;switch("symbol"===typeof s?s=s.toString():this.warnOnInvalidChildren(e,n),s){case"Symbol(react.fragment)":t=this.mapChildrenToProps(n,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(e,r,a,n);break;default:t=this.mapObjectTypeChildren(e,t,a,n)}})),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:o}=t;if(e&&(r=this.mapChildrenToProps(e,r)),o&&!(o instanceof jt)){o=new jt(o.context,!0),delete r.helmetData}return o?n.createElement(Rt,{...r,context:o.value}):n.createElement(wt.Consumer,null,(e=>n.createElement(Rt,{...r,context:e})))}},zt="undefined"===typeof window||"Deno"in globalThis;function It(){}function Pt(e){return"number"===typeof e&&e>=0&&e!==1/0}function Ot(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Lt(e,t){return"function"===typeof e?e(t):e}function Dt(e,t){return"function"===typeof e?e(t):e}function Ft(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:s,stale:i}=e;if(s)if(n){if(t.queryHash!==Bt(s,t.options))return!1}else if(!$t(t.queryKey,s))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!==typeof i||t.isStale()===i)&&((!o||o===t.state.fetchStatus)&&!(a&&!a(t)))}function Mt(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Wt(t.options.mutationKey)!==Wt(a))return!1}else if(!$t(t.options.mutationKey,a))return!1}return(!n||t.state.status===n)&&!(o&&!o(t))}function Bt(e,t){return(t?.queryKeyHashFn||Wt)(e)}function Wt(e){return JSON.stringify(e,((e,t)=>Qt(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function $t(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((r=>$t(e[r],t[r]))))}function Ut(e,t){if(e===t)return e;const r=qt(e)&&qt(t);if(r||Qt(e)&&Qt(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),s=a.length,i=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<s;d++){const n=r?d:a[d];(!r&&l.has(n)||r)&&void 0===e[n]&&void 0===t[n]?(i[n]=void 0,c++):(i[n]=Ut(e[n],t[n]),i[n]===e[n]&&void 0!==e[n]&&c++)}return o===s&&c===o?e:i}return t}function Ht(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qt(e){if(!Vt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!Vt(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Vt(e){return"[object Object]"===Object.prototype.toString.call(e)}function Kt(e,t,r){return"function"===typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Ut(e,t):t}function Gt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Jt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Yt=Symbol();function Xt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Yt?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Zt(e,t){return"function"===typeof e?e(...t):!!e}var er=e=>setTimeout(e,0);var tr=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},o=er;const a=n=>{t?e.push(n):o((()=>{r(n)}))};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o((()=>{n((()=>{t.forEach((e=>{r(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];a((()=>{e(...r)}))},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{o=e}}}(),rr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nr=new class extends rr{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!zt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},or=new class extends rr{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!zt&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#n}};function ar(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}function sr(e){return Math.min(1e3*2**e,3e4)}function ir(e){return"online"!==(e??"online")||or.isOnline()}var lr=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function cr(e){return e instanceof lr}function dr(e){let t,r=!1,n=0,o=!1;const a=ar(),s=()=>nr.isFocused()&&("always"===e.networkMode||or.isOnline())&&e.canRun(),i=()=>ir(e.networkMode)&&e.canRun(),l=r=>{o||(o=!0,e.onSuccess?.(r),t?.(),a.resolve(r))},c=r=>{o||(o=!0,e.onError?.(r),t?.(),a.reject(r))},d=()=>new Promise((r=>{t=e=>{(o||s())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,o||e.onContinue?.()})),u=()=>{if(o)return;let t;const a=0===n?e.initialPromise:void 0;try{t=a??e.fn()}catch(i){t=Promise.reject(i)}Promise.resolve(t).then(l).catch((t=>{if(o)return;const a=e.retry??(zt?0:3),i=e.retryDelay??sr,l="function"===typeof i?i(n,t):i,p=!0===a||"number"===typeof a&&n<a||"function"===typeof a&&a(n,t);var h;!r&&p?(n++,e.onFail?.(n,t),(h=l,new Promise((e=>{setTimeout(e,h)}))).then((()=>s()?void 0:d())).then((()=>{r?c(t):u()}))):c(t)}))};return{promise:a,cancel:t=>{o||(c(new lr(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:i,start:()=>(i()?u():d().then(u),a)}}var ur=class{#o;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pt(this.gcTime)&&(this.#o=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zt?1/0:3e5))}clearGcTimeout(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}},pr=class extends ur{#a;#s;#i;#l;#c;#d;#u;constructor(e){super(),this.#u=!1,this.#d=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#i=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#a=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#a,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#i.remove(this)}setData(e,t){const r=Kt(this.state.data,e,this.options);return this.#p({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(It).catch(It):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.observers.some((e=>!1!==Dt(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===Lt(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Ot(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#c&&(this.#u?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,r.signal)})},o=()=>{const e=Xt(this.options,t),r=(()=>{const e={client:this.#l,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return this.#u=!1,this.options.persister?this.options.persister(e,r,this):e(r)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:o};return n(e),e})();this.options.behavior?.onFetch(a,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#p({type:"fetch",meta:a.fetchOptions?.meta});const s=e=>{cr(e)&&e.silent||this.#p({type:"error",error:e}),cr(e)||(this.#i.config.onError?.(e,this),this.#i.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=dr({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void s(t)}this.#i.config.onSuccess?.(e,this),this.#i.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#c.start()}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...hr(t.data,this.options),fetchMeta:e.meta??null};case"success":return this.#s=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return cr(r)&&r.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),tr.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#i.notify({query:this,type:"updated",action:e})}))}};function hr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ir(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var mr=class extends rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#h=new Map}#h;build(e,t,r){const n=t.queryKey,o=t.queryHash??Bt(n,t);let a=this.get(o);return a||(a=new pr({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tr.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Ft(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Ft(e,t))):t}notify(e){tr.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){tr.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){tr.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},fr=class extends ur{#m;#f;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#f=e.mutationCache,this.#m=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#m.includes(e)||(this.#m.push(e),this.clearGcTimeout(),this.#f.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#m=this.#m.filter((t=>t!==e)),this.scheduleGc(),this.#f.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#f.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#p({type:"continue"})};this.#c=dr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#f.canRun(this)});const r="pending"===this.state.status,n=!this.#c.canStart();try{if(r)t();else{this.#p({type:"pending",variables:e,isPaused:n}),await(this.#f.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#p({type:"pending",context:t,variables:e,isPaused:n})}const o=await this.#c.start();return await(this.#f.config.onSuccess?.(o,e,this.state.context,this)),await(this.options.onSuccess?.(o,e,this.state.context)),await(this.#f.config.onSettled?.(o,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(o,null,e,this.state.context)),this.#p({type:"success",data:o}),o}catch(o){try{throw await(this.#f.config.onError?.(o,e,this.state.context,this)),await(this.options.onError?.(o,e,this.state.context)),await(this.#f.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,o,e,this.state.context)),o}finally{this.#p({type:"error",error:o})}}finally{this.#f.runNext(this)}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),tr.batch((()=>{this.#m.forEach((t=>{t.onMutationUpdate(e)})),this.#f.notify({mutation:this,type:"updated",action:e})}))}};var gr=class extends rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#x=0}#g;#y;#x;build(e,t,r){const n=new fr({mutationCache:this,mutationId:++this.#x,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#g.add(e);const t=yr(e);if("string"===typeof t){const r=this.#y.get(t);r?r.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=yr(e);if("string"===typeof t){const r=this.#y.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=yr(e);if("string"===typeof t){const r=this.#y.get(t),n=r?.find((e=>"pending"===e.state.status));return!n||n===e}return!0}runNext(e){const t=yr(e);if("string"===typeof t){const r=this.#y.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){tr.batch((()=>{this.#g.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#g.clear(),this.#y.clear()}))}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Mt(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>Mt(e,t)))}notify(e){tr.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return tr.batch((()=>Promise.all(e.map((e=>e.continue().catch(It))))))}};function yr(e){return e.options.scope?.id}function xr(e){return{onFetch:(t,r)=>{const n=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let i={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=Xt(t.options,t.fetchOptions),d=async(e,n,o)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const a=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:o?"backward":"forward",meta:t.options.meta};var a;return a=e,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)}),e})(),s=await c(a),{maxPages:i}=t.options,l=o?Jt:Gt;return{pages:l(e.pages,s,i),pageParams:l(e.pageParams,n,i)}};if(o&&a.length){const e="backward"===o,t={pages:a,pageParams:s},r=(e?vr:br)(n,t);i=await d(t,r,e)}else{const t=e??a.length;do{const e=0===l?s[0]??n.initialPageParam:br(n,i);if(l>0&&null==e)break;i=await d(i,e),l++}while(l<t)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function br(e,t){let{pages:r,pageParams:n}=t;const o=r.length-1;return r.length>0?e.getNextPageParam(r[o],r,n[o],n):void 0}function vr(e,t){let{pages:r,pageParams:n}=t;return r.length>0?e.getPreviousPageParam?.(r[0],r,n[0],n):void 0}const kr={defaultOptions:{queries:{staleTime:6e4,cacheTime:3e5,retry:(e,t)=>!(t.response&&t.response.status>=400&&t.response.status<500)&&e<3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,onError:e=>{console.error("Query error:",e)}},mutations:{retry:(e,t)=>!(t.response&&t.response.status>=400&&t.response.status<500)&&e<2,onError:e=>{console.error("Mutation error:",e)}}}},jr=new class{#b;#f;#d;#v;#k;#j;#w;#S;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#b=e.queryCache||new mr,this.#f=e.mutationCache||new gr,this.#d=e.defaultOptions||{},this.#v=new Map,this.#k=new Map,this.#j=0}mount(){this.#j++,1===this.#j&&(this.#w=nr.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#b.onFocus())})),this.#S=or.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#b.onOnline())})))}unmount(){this.#j--,0===this.#j&&(this.#w?.(),this.#w=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#b.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#f.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#b.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Lt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#b.findAll(e).map((e=>{let{queryKey:t,state:r}=e;return[t,r.data]}))}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#b.get(n.queryHash),a=o?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,a);if(void 0!==s)return this.#b.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return tr.batch((()=>this.#b.findAll(e).map((e=>{let{queryKey:n}=e;return[n,this.setQueryData(n,t,r)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state}removeQueries(e){const t=this.#b;tr.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#b;return tr.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},r=tr.batch((()=>this.#b.findAll(e).map((e=>e.cancel(t)))));return Promise.all(r).then(It).catch(It)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tr.batch((()=>(this.#b.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={...t,cancelRefetch:t.cancelRefetch??!0},n=tr.batch((()=>this.#b.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(It)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(n).then(It)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#b.build(this,t);return r.isStaleByTime(Lt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(It).catch(It)}fetchInfiniteQuery(e){return e.behavior=xr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(It).catch(It)}ensureInfiniteQueryData(e){return e.behavior=xr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return or.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#f}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#v.set(Wt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#v.values()],r={};return t.forEach((t=>{$t(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){this.#k.set(Wt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#k.values()],r={};return t.forEach((t=>{$t(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yt&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#b.clear(),this.#f.clear()}}(kr),wr={tasks:{all:["tasks"],lists:()=>[...wr.tasks.all,"list"],list:e=>[...wr.tasks.lists(),e],details:()=>[...wr.tasks.all,"detail"],detail:e=>[...wr.tasks.details(),e],trees:()=>[...wr.tasks.all,"tree"],tree:e=>[...wr.tasks.trees(),e],stats:()=>[...wr.tasks.all,"stats"]},user:{all:["user"],profile:()=>[...wr.user.all,"profile"],preferences:()=>[...wr.user.all,"preferences"]},auth:{all:["auth"],session:()=>[...wr.auth.all,"session"]}},Sr={all:()=>jr.invalidateQueries({queryKey:wr.tasks.all}),list:()=>jr.invalidateQueries({queryKey:wr.tasks.lists()}),detail:e=>jr.invalidateQueries({queryKey:wr.tasks.detail(e)}),tree:e=>jr.invalidateQueries({queryKey:wr.tasks.tree(e)}),stats:()=>jr.invalidateQueries({queryKey:wr.tasks.stats()})};function Cr(e,t){return function(){return e.apply(t,arguments)}}const{toString:_r}=Object.prototype,{getPrototypeOf:Nr}=Object,{iterator:Er,toStringTag:Tr}=Symbol,Rr=(Ar=Object.create(null),e=>{const t=_r.call(e);return Ar[t]||(Ar[t]=t.slice(8,-1).toLowerCase())});var Ar;const zr=e=>(e=e.toLowerCase(),t=>Rr(t)===e),Ir=e=>t=>typeof t===e,{isArray:Pr}=Array,Or=Ir("undefined");const Lr=zr("ArrayBuffer");const Dr=Ir("string"),Fr=Ir("function"),Mr=Ir("number"),Br=e=>null!==e&&"object"===typeof e,Wr=e=>{if("object"!==Rr(e))return!1;const t=Nr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Tr in e)&&!(Er in e)},$r=zr("Date"),Ur=zr("File"),Hr=zr("Blob"),qr=zr("FileList"),Qr=zr("URLSearchParams"),[Vr,Kr,Gr,Jr]=["ReadableStream","Request","Response","Headers"].map(zr);function Yr(e,t){let r,n,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Pr(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let s;for(r=0;r<a;r++)s=n[r],t.call(null,e[s],s,e)}}function Xr(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,o=r.length;for(;o-- >0;)if(n=r[o],t===n.toLowerCase())return n;return null}const Zr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,en=e=>!Or(e)&&e!==Zr;const tn=(rn="undefined"!==typeof Uint8Array&&Nr(Uint8Array),e=>rn&&e instanceof rn);var rn;const nn=zr("HTMLFormElement"),on=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),an=zr("RegExp"),sn=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Yr(r,((r,o)=>{let a;!1!==(a=t(r,o,e))&&(n[o]=a||r)})),Object.defineProperties(e,n)};const ln=zr("AsyncFunction"),cn=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,n=[],Zr.addEventListener("message",(e=>{let{source:t,data:o}=e;t===Zr&&o===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),Zr.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Fr(Zr.postMessage)),dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Zr):"undefined"!==typeof process&&process.nextTick||cn,un={isArray:Pr,isArrayBuffer:Lr,isBuffer:function(e){return null!==e&&!Or(e)&&null!==e.constructor&&!Or(e.constructor)&&Fr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Fr(e.append)&&("formdata"===(t=Rr(e))||"object"===t&&Fr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Lr(e.buffer),t},isString:Dr,isNumber:Mr,isBoolean:e=>!0===e||!1===e,isObject:Br,isPlainObject:Wr,isReadableStream:Vr,isRequest:Kr,isResponse:Gr,isHeaders:Jr,isUndefined:Or,isDate:$r,isFile:Ur,isBlob:Hr,isRegExp:an,isFunction:Fr,isStream:e=>Br(e)&&Fr(e.pipe),isURLSearchParams:Qr,isTypedArray:tn,isFileList:qr,forEach:Yr,merge:function e(){const{caseless:t}=en(this)&&this||{},r={},n=(n,o)=>{const a=t&&Xr(r,o)||o;Wr(r[a])&&Wr(n)?r[a]=e(r[a],n):Wr(n)?r[a]=e({},n):Pr(n)?r[a]=n.slice():r[a]=n};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Yr(arguments[o],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Yr(t,((t,n)=>{r&&Fr(t)?e[n]=Cr(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let o,a,s;const i={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],n&&!n(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==r&&Nr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Rr,kindOfTest:zr,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Pr(e))return e;let t=e.length;if(!Mr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Er]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:nn,hasOwnProperty:on,hasOwnProp:on,reduceDescriptors:sn,freezeMethods:e=>{sn(e,((t,r)=>{if(Fr(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Fr(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Pr(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Xr,global:Zr,isContextDefined:en,isSpecCompliantForm:function(e){return!!(e&&Fr(e.append)&&"FormData"===e[Tr]&&e[Er])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Br(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=Pr(e)?[]:{};return Yr(e,((e,t)=>{const a=r(e,n+1);!Or(a)&&(o[t]=a)})),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:ln,isThenable:e=>e&&(Br(e)||Fr(e))&&Fr(e.then)&&Fr(e.catch),setImmediate:cn,asap:dn,isIterable:e=>null!=e&&Fr(e[Er])};function pn(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}un.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.status}}});const hn=pn.prototype,mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{mn[e]={value:e}})),Object.defineProperties(pn,mn),Object.defineProperty(hn,"isAxiosError",{value:!0}),pn.from=(e,t,r,n,o,a)=>{const s=Object.create(hn);return un.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),pn.call(s,e.message,t,r,n,o),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const fn=pn;function gn(e){return un.isPlainObject(e)||un.isArray(e)}function yn(e){return un.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,r){return e?e.concat(t).map((function(e,t){return e=yn(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const bn=un.toFlatObject(un,{},null,(function(e){return/^is[A-Z]/.test(e)}));const vn=function(e,t,r){if(!un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=un.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!un.isUndefined(t[e])}))).metaTokens,o=r.visitor||c,a=r.dots,s=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&un.isSpecCompliantForm(t);if(!un.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(un.isDate(e))return e.toISOString();if(!i&&un.isBlob(e))throw new fn("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(e)||un.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,o){let i=e;if(e&&!o&&"object"===typeof e)if(un.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(un.isArray(e)&&function(e){return un.isArray(e)&&!e.some(gn)}(e)||(un.isFileList(e)||un.endsWith(r,"[]"))&&(i=un.toArray(e)))return r=yn(r),i.forEach((function(e,n){!un.isUndefined(e)&&null!==e&&t.append(!0===s?xn([r],n,a):null===s?r:r+"[]",l(e))})),!1;return!!gn(e)||(t.append(xn(o,r,a),l(e)),!1)}const d=[],u=Object.assign(bn,{defaultVisitor:c,convertValue:l,isVisitable:gn});if(!un.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!un.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),un.forEach(r,(function(r,a){!0===(!(un.isUndefined(r)||null===r)&&o.call(t,r,un.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])})),d.pop()}}(e),t};function kn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function jn(e,t){this._pairs=[],e&&vn(e,this,t)}const wn=jn.prototype;wn.append=function(e,t){this._pairs.push([e,t])},wn.toString=function(e){const t=e?function(t){return e.call(this,t,kn)}:kn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Sn=jn;function Cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _n(e,t,r){if(!t)return e;const n=r&&r.encode||Cn;un.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(a=o?o(t,r):un.isURLSearchParams(t)?t.toString():new Sn(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Nn=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){un.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},En={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Sn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rn="undefined"!==typeof window&&"undefined"!==typeof document,An="object"===typeof navigator&&navigator||void 0,zn=Rn&&(!An||["ReactNative","NativeScript","NS"].indexOf(An.product)<0),In="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Pn=Rn&&window.location.href||"http://localhost",On={...e,...Tn};const Ln=function(e){function t(e,r,n,o){let a=e[o++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),i=o>=e.length;if(a=!a&&un.isArray(n)?n.length:a,i)return un.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!s;n[a]&&un.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],o)&&un.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}(n[a])),!s}if(un.isFormData(e)&&un.isFunction(e.entries)){const r={};return un.forEachEntry(e,((e,n)=>{t(function(e){return un.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Dn={transitional:En,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,o=un.isObject(e);o&&un.isHTMLForm(e)&&(e=new FormData(e));if(un.isFormData(e))return n?JSON.stringify(Ln(e)):e;if(un.isArrayBuffer(e)||un.isBuffer(e)||un.isStream(e)||un.isFile(e)||un.isBlob(e)||un.isReadableStream(e))return e;if(un.isArrayBufferView(e))return e.buffer;if(un.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vn(e,new On.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return On.isNode&&un.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=un.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vn(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,r){if(un.isString(e))try{return(t||JSON.parse)(e),un.trim(e)}catch(gd){if("SyntaxError"!==gd.name)throw gd}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Dn.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(un.isResponse(e)||un.isReadableStream(e))return e;if(e&&un.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(gd){if(r){if("SyntaxError"===gd.name)throw fn.from(gd,fn.ERR_BAD_RESPONSE,this,null,this.response);throw gd}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],(e=>{Dn.headers[e]={}}));const Fn=Dn,Mn=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bn=Symbol("internals");function Wn(e){return e&&String(e).trim().toLowerCase()}function $n(e){return!1===e||null==e?e:un.isArray(e)?e.map($n):String(e)}function Un(e,t,r,n,o){return un.isFunction(n)?n.call(this,t,r):(o&&(t=r),un.isString(t)?un.isString(n)?-1!==t.indexOf(n):un.isRegExp(n)?n.test(t):void 0:void 0)}class Hn{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function o(e,t,r){const o=Wn(t);if(!o)throw new Error("header name must be a non-empty string");const a=un.findKey(n,o);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=$n(e))}const a=(e,t)=>un.forEach(e,((e,r)=>o(e,r,t)));if(un.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(un.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),r=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!r||t[r]&&Mn[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(un.isObject(e)&&un.isIterable(e)){let r,n,o={};for(const t of e){if(!un.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[n=t[0]]=(r=o[n])?un.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(o,t)}else null!=e&&o(t,e,r);return this}get(e,t){if(e=Wn(e)){const r=un.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(un.isFunction(t))return t.call(this,e,r);if(un.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wn(e)){const r=un.findKey(this,e);return!(!r||void 0===this[r]||t&&!Un(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function o(e){if(e=Wn(e)){const o=un.findKey(r,e);!o||t&&!Un(0,r[o],o,t)||(delete r[o],n=!0)}}return un.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const o=t[r];e&&!Un(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,r={};return un.forEach(this,((n,o)=>{const a=un.findKey(r,o);if(a)return t[a]=$n(n),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(o):String(o).trim();s!==o&&delete t[o],t[s]=$n(n),r[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return un.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&un.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Bn]=this[Bn]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Wn(e);t[n]||(!function(e,t){const r=un.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return un.isArray(e)?e.forEach(n):n(e),this}}Hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),un.reduceDescriptors(Hn.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),un.freezeMethods(Hn);const qn=Hn;function Qn(e,t){const r=this||Fn,n=t||r,o=qn.from(n.headers);let a=n.data;return un.forEach(e,(function(e){a=e.call(r,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function Vn(e){return!(!e||!e.__CANCEL__)}function Kn(e,t,r){fn.call(this,null==e?"canceled":e,fn.ERR_CANCELED,t,r),this.name="CanceledError"}un.inherits(Kn,fn,{__CANCEL__:!0});const Gn=Kn;function Jn(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new fn("Request failed with status code "+r.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Yn=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,a=0,s=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[s];o||(o=l),r[a]=i,n[a]=l;let d=s,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Xn=function(e,t){let r,n,o=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=a?s(l,e):(r=l,n||(n=setTimeout((()=>{n=null,s(r)}),a-t)))},()=>r&&s(r)]},Zn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const o=Yn(50,250);return Xn((r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,i=a-n,l=o(i);n=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:i,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},eo=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},to=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return un.asap((()=>e(...r)))},ro=On.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,On.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,no=On.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const s=[e+"="+encodeURIComponent(t)];un.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),un.isString(n)&&s.push("path="+n),un.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function oo(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ao=e=>e instanceof qn?{...e}:e;function so(e,t){t=t||{};const r={};function n(e,t,r,n){return un.isPlainObject(e)&&un.isPlainObject(t)?un.merge.call({caseless:n},e,t):un.isPlainObject(t)?un.merge({},t):un.isArray(t)?t.slice():t}function o(e,t,r,o){return un.isUndefined(t)?un.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function a(e,t){if(!un.isUndefined(t))return n(void 0,t)}function s(e,t){return un.isUndefined(t)?un.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,o,a){return a in t?n(r,o):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,r)=>o(ao(e),ao(t),0,!0)};return un.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||o,s=a(e[n],t[n],n);un.isUndefined(s)&&a!==i||(r[n]=s)})),r}const io=e=>{const t=so({},e);let r,{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=qn.from(i),t.url=_n(oo(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),un.isFormData(n))if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(On.hasStandardBrowserEnv&&(o&&un.isFunction(o)&&(o=o(t)),o||!1!==o&&ro(t.url))){const e=a&&s&&no.read(s);e&&i.set(a,e)}return t},lo="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=io(e);let o=n.data;const a=qn.from(n.headers).normalize();let s,i,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=qn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Jn((function(e){t(e),m()}),(function(e){r(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new fn("Request aborted",fn.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new fn("Network Error",fn.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||En;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new fn(t,o.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,e,f)),f=null},void 0===o&&a.setContentType(null),"setRequestHeader"in f&&un.forEach(a.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),un.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),h&&([l,d]=Zn(h,!0),f.addEventListener("progress",l)),p&&f.upload&&([i,c]=Zn(p),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{f&&(r(!t||t.type?new Gn(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===On.protocols.indexOf(y)?r(new fn("Unsupported protocol "+y+":",fn.ERR_BAD_REQUEST,e)):f.send(o||null)}))},co=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const o=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof fn?t:new Gn(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new fn(`timeout ${t} of ms exceeded`,fn.ETIMEDOUT))}),t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:i}=n;return i.unsubscribe=()=>un.asap(s),i}},uo=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},po=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},ho=(e,t,r,n)=>{const o=async function*(e,t){for await(const r of po(e))yield*uo(r,t)}(e,t);let a,s=0,i=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return i(),void e.close();let a=n.byteLength;if(r){let e=s+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),o.return())},{highWaterMark:2})},mo="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,fo=mo&&"function"===typeof ReadableStream,go=mo&&("function"===typeof TextEncoder?(yo=new TextEncoder,e=>yo.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var yo;const xo=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(gd){return!1}},bo=fo&&xo((()=>{let e=!1;const t=new Request(On.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),vo=fo&&xo((()=>un.isReadableStream(new Response("").body))),ko={stream:vo&&(e=>e.body)};var jo;mo&&(jo=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ko[e]&&(ko[e]=un.isFunction(jo[e])?t=>t[e]():(t,r)=>{throw new fn(`Response type '${e}' is not supported`,fn.ERR_NOT_SUPPORT,r)})})));const wo=async(e,t)=>{const r=un.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(un.isBlob(e))return e.size;if(un.isSpecCompliantForm(e)){const t=new Request(On.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return un.isArrayBufferView(e)||un.isArrayBuffer(e)?e.byteLength:(un.isURLSearchParams(e)&&(e+=""),un.isString(e)?(await go(e)).byteLength:void 0)})(t):r},So=mo&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:s,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=io(e);c=c?(c+"").toLowerCase():"text";let h,m=co([o,a&&a.toAbortSignal()],s);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&bo&&"get"!==r&&"head"!==r&&0!==(g=await wo(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(un.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=eo(g,Zn(to(l)));n=ho(r.body,65536,e,t)}}un.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,{...p,signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:o?u:void 0});let a=await fetch(h);const s=vo&&("stream"===c||"response"===c);if(vo&&(i||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=un.toFiniteNumber(a.headers.get("content-length")),[r,n]=i&&eo(t,Zn(to(i),!0))||[];a=new Response(ho(a.body,65536,r,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let y=await ko[un.findKey(ko,c)||"text"](a,e);return!s&&f&&f(),await new Promise(((t,r)=>{Jn(t,r,{data:y,headers:qn.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})}))}catch(y){if(f&&f(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new fn("Network Error",fn.ERR_NETWORK,e,h),{cause:y.cause||y});throw fn.from(y,y&&y.code,e,h)}}),Co={http:null,xhr:lo,fetch:So};un.forEach(Co,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(gd){}Object.defineProperty(e,"adapterName",{value:t})}}));const _o=e=>`- ${e}`,No=e=>un.isFunction(e)||null===e||!1===e,Eo=e=>{e=un.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){let t;if(r=e[a],n=r,!No(r)&&(n=Co[(t=String(r)).toLowerCase()],void 0===n))throw new fn(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+a]=n}if(!n){const e=Object.entries(o).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(_o).join("\n"):" "+_o(e[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function To(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gn(null,e)}function Ro(e){To(e),e.headers=qn.from(e.headers),e.data=Qn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Eo(e.adapter||Fn.adapter)(e).then((function(t){return To(e),t.data=Qn.call(e,e.transformResponse,t),t.headers=qn.from(t.headers),t}),(function(t){return Vn(t)||(To(e),t&&t.response&&(t.response.data=Qn.call(e,e.transformResponse,t.response),t.response.headers=qn.from(t.response.headers))),Promise.reject(t)}))}const Ao="1.9.0",zo={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{zo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Io={};zo.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,o,a)=>{if(!1===e)throw new fn(n(o," has been removed"+(t?" in "+t:"")),fn.ERR_DEPRECATED);return t&&!Io[o]&&(Io[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}},zo.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const Po={assertOptions:function(e,t,r){if("object"!==typeof e)throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],s=t[a];if(s){const t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new fn("option "+a+" must be "+r,fn.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new fn("Unknown option "+a,fn.ERR_BAD_OPTION)}},validators:zo},Oo=Po.validators;class Lo{constructor(e){this.defaults=e||{},this.interceptors={request:new Nn,response:new Nn}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(gd){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=so(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:o}=t;void 0!==r&&Po.assertOptions(r,{silentJSONParsing:Oo.transitional(Oo.boolean),forcedJSONParsing:Oo.transitional(Oo.boolean),clarifyTimeoutError:Oo.transitional(Oo.boolean)},!1),null!=n&&(un.isFunction(n)?t.paramsSerializer={serialize:n}:Po.assertOptions(n,{encode:Oo.function,serialize:Oo.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Po.assertOptions(t,{baseUrl:Oo.spelling("baseURL"),withXsrfToken:Oo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&un.merge(o.common,o[t.method]);o&&un.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=qn.concat(a,o);const s=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Ro.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=Ro.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return _n(oo((e=so(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}un.forEach(["delete","get","head","options"],(function(e){Lo.prototype[e]=function(t,r){return this.request(so(r||{},{method:e,url:t,data:(r||{}).data}))}})),un.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(so(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Lo.prototype[e]=t(),Lo.prototype[e+"Form"]=t(!0)}));const Do=Lo;class Fo{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,o){r.reason||(r.reason=new Gn(e,n,o),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Fo((function(t){e=t})),cancel:e}}}const Mo=Fo;const Bo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bo).forEach((e=>{let[t,r]=e;Bo[r]=t}));const Wo=Bo;const $o=function e(t){const r=new Do(t),n=Cr(Do.prototype.request,r);return un.extend(n,Do.prototype,r,{allOwnKeys:!0}),un.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(so(t,r))},n}(Fn);$o.Axios=Do,$o.CanceledError=Gn,$o.CancelToken=Mo,$o.isCancel=Vn,$o.VERSION=Ao,$o.toFormData=vn,$o.AxiosError=fn,$o.Cancel=$o.CanceledError,$o.all=function(e){return Promise.all(e)},$o.spread=function(e){return function(t){return e.apply(null,t)}},$o.isAxiosError=function(e){return un.isObject(e)&&!0===e.isAxiosError},$o.mergeConfig=so,$o.AxiosHeaders=qn,$o.formToJSON=e=>Ln(un.isHTMLForm(e)?new FormData(e):e),$o.getAdapter=Eo,$o.HttpStatusCode=Wo,$o.default=$o;const Uo=$o,Ho="tasks_fetch",qo="task_create",Qo="task_update",Vo="task_delete",Ko="task_tree_fetch",Go="task_stats_fetch",Jo="auth_login",Yo="auth_register",Xo="auth_oauth",Zo="auth_refresh",ea="generate_details",ta="decompose_task",ra="export_trello",na="export_json",oa="save",aa="submit",sa="process";const ia=new class{constructor(){this.loadingStates=new Map,this.subscribers=new Set}setLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={...this.loadingStates.get(e)||{},isLoading:t,message:t?r||this.getDefaultMessage(e):null,timestamp:Date.now()};this.loadingStates.set(e,n),this.notifySubscribers(e,n)}getLoading(e){return this.loadingStates.get(e)||{isLoading:!1,message:null}}isAnyLoading(){return Array.from(this.loadingStates.values()).some((e=>e.isLoading))}getActiveLoadings(){const e=[];return this.loadingStates.forEach(((t,r)=>{t.isLoading&&e.push({type:r,...t})})),e}clearAll(){this.loadingStates.clear(),this.notifySubscribers("*",{cleared:!0})}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}notifySubscribers(e,t){this.subscribers.forEach((r=>{try{r(e,t)}catch(n){console.error("Error in loading state subscriber:",n)}}))}getDefaultMessage(e){return{[Ho]:"Loading tasks...",[qo]:"Creating task...",[Qo]:"Updating task...",[Vo]:"Deleting task...",[Ko]:"Loading task tree...",[Go]:"Loading statistics...",[Jo]:"Signing in...",[Yo]:"Creating account...",[Xo]:"Completing authentication...",[Zo]:"Refreshing session...",[ea]:"Generating implementation details...",[ta]:"Decomposing task...",[ra]:"Exporting to Trello...",[na]:"Preparing download...",[oa]:"Saving...",[aa]:"Submitting...",[sa]:"Processing..."}[e]||"Loading..."}},la=ia;var ca;const da=(null===(ca=window.CAHOOTS_CONFIG)||void 0===ca?void 0:ca.API_URL)||"/api";const ua=new class{constructor(){this.client=Uo.create({baseURL:da,timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use((e=>{const t=this.getAuthToken();t&&(e.headers.Authorization=`Bearer ${t}`);const r=this.getCurrentUser();return null!==r&&void 0!==r&&r.id&&(e.headers["X-User-ID"]=r.id),e}),(e=>Promise.reject(e))),this.client.interceptors.response.use((e=>e),(async e=>{var t;const r=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!r._retry){r._retry=!0;try{await this.refreshToken();const e=this.getAuthToken();return r.headers.Authorization=`Bearer ${e}`,this.client(r)}catch(n){return this.handleAuthError(),Promise.reject(e)}}return Promise.reject(this.enhanceError(e))}))}enhanceError(e){const t={...e};return e.response?t.userMessage=this.getErrorMessage(e.response.status,e.response.data):e.request?t.userMessage="Network error. Please check your connection.":t.userMessage="Request failed. Please try again.",t}getErrorMessage(e,t){return(null===t||void 0===t?void 0:t.detail)||(null===t||void 0===t?void 0:t.message)||{400:"Invalid request. Please check your input.",401:"Please log in to continue.",403:"You don't have permission to perform this action.",404:"The requested resource was not found.",500:"Server error. Please try again later.",503:"Service temporarily unavailable. Please try again later."}[e]||"An error occurred."}getAuthToken(){const e=localStorage.getItem("token");if(e)return e;return"true"===localStorage.getItem("has_logged_out")?null:"localhost"===window.location.hostname?"dev-bypass-token":null}setAuthToken(e){e?(localStorage.setItem("token",e),this.client.defaults.headers.common.Authorization=`Bearer ${e}`):(localStorage.removeItem("token"),delete this.client.defaults.headers.common.Authorization)}getCurrentUser(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch{return null}}async refreshToken(){const e=Uo.create({baseURL:da,withCredentials:!0,timeout:1e4});try{const r={},n=this.getAuthToken();"dev-bypass-token"===n&&(r.Authorization=`Bearer ${n}`);const o=localStorage.getItem("refresh_token"),a=await e.post("/auth/refresh-token",{refresh_token:o},{headers:r}),{access_token:s,refresh_token:i}=a.data;if(!s)throw new Error("No access token returned");this.setAuthToken(s),i&&localStorage.setItem("refresh_token",i);try{const e=await this.client.get("/auth/me");e.data&&localStorage.setItem("user",JSON.stringify(e.data))}catch(t){}return s}catch(r){throw localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),r}}handleAuthError(){this.setAuthToken(null),localStorage.removeItem("user"),window.__CAHOOTS_NAVIGATE?window.__CAHOOTS_NAVIGATE("/login"):window.location.href="/login"}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await this.client.get(e,t)).data}catch(r){throw this.enhanceError(r)}}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await this.client.post(e,t,r)).data}catch(n){throw this.enhanceError(n)}}async patch(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await this.client.patch(e,t,r)).data}catch(n){throw this.enhanceError(n)}}async put(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await this.client.put(e,t,r)).data}catch(n){throw this.enhanceError(n)}}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await this.client.delete(e,t)).data}catch(r){throw this.enhanceError(r)}}async getWithLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};la.setLoading(t,!0);try{return await this.get(e,r)}finally{la.setLoading(t,!1)}}async postWithLoading(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};la.setLoading(r,!0);try{return await this.post(e,t,n)}finally{la.setLoading(r,!1)}}async patchWithLoading(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};la.setLoading(r,!0);try{return await this.patch(e,t,n)}finally{la.setLoading(r,!1)}}async getTasks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get("/tasks",{params:e})}async getTask(e){return this.get(`/tasks/${e}`)}async getTaskTree(e){return this.get(`/tasks/${e}/tree`)}async createTask(e){return this.post("/tasks",e)}async updateTask(e,t){return this.patch(`/tasks/${e}`,t)}async deleteTask(e){return this.delete(`/tasks/${e}`)}async restartDecomposition(e,t){return this.post(`/tasks/${e}/restart-decomposition`,t)}async getTaskStats(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.get("/tasks/stats",{params:{top_level_only:e}})}},pa=ua,ha=(0,n.createContext)(),ma=e=>{let{children:t}=e;const[r,o]=(0,n.useState)((()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null})),[a,s]=(0,n.useState)(!0),[i,l]=(0,n.useState)(null),c=te(),d=(0,n.useRef)(!1),u=(0,n.useRef)(!1);(0,n.useMemo)((()=>{const e=pa;localStorage.getItem("refresh_token");return e}),[]);(0,n.useEffect)((()=>(window.__CAHOOTS_NAVIGATE=c,()=>{delete window.__CAHOOTS_NAVIGATE})),[c]),(0,n.useEffect)((()=>{if(d.current)return;d.current=!0;(async()=>{try{const t=localStorage.getItem("token"),r=localStorage.getItem("refresh_token");if(t||"dev-bypass-token"===t){localStorage.removeItem("has_logged_out");const e=await pa.get("/auth/me");console.log("[AuthContext] Initial auth check - userData:",e),console.log("[AuthContext] User role from /auth/me:",e.role),console.log("[AuthContext] User email from /auth/me:",e.email),o(e),localStorage.setItem("user",JSON.stringify(e))}else if(r)try{await pa.refreshToken();const e=await pa.get("/auth/me");o(e),localStorage.setItem("user",JSON.stringify(e))}catch(e){console.error("[AuthContext] Token refresh failed:",e),localStorage.removeItem("refresh_token"),p("Session expired. Please log in again.")}}catch(t){console.error("[AuthContext] Auth initialization error:",t),p("Session expired. Please log in again.")}finally{s(!1),d.current=!1}})()}),[]);const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authentication failed";o(null),l(e),pa.setAuthToken(null),localStorage.removeItem("user"),setTimeout((()=>l(null)),5e3)},h={user:r,loading:a,error:i,login:async(e,t)=>{try{l(null),s(!0);const r=new FormData;r.append("username",e),r.append("password",t);const n=await pa.post("/auth/token",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:a,refresh_token:i}=n;pa.setAuthToken(a),localStorage.setItem("refresh_token",i),localStorage.removeItem("has_logged_out");const c=await pa.get("/auth/me");return o(c),localStorage.setItem("user",JSON.stringify(c)),c}catch(r){const e=r.userMessage||"Login failed. Please check your credentials.";throw l(e),new Error(e)}finally{s(!1)}},register:async e=>{try{l(null),s(!0);return await pa.post("/auth/register",e)}catch(t){const e=t.userMessage||"Registration failed. Please try again.";throw l(e),new Error(e)}finally{s(!1)}},logout:async()=>{try{s(!0),r&&pa.getAuthToken()&&await pa.post("/auth/logout")}catch(e){console.error("Logout API call failed:",e)}finally{o(null),l(null),pa.setAuthToken(null),localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userSettings"),localStorage.setItem("has_logged_out","true"),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_retry_count"),s(!1)}},refreshToken:async()=>{if(u.current)return!1;u.current=!0;try{l(null);await pa.refreshToken();const e=await pa.get("/auth/me");return o(e),localStorage.setItem("user",JSON.stringify(e)),!0}catch(e){return p("Session expired. Please log in again."),!1}finally{u.current=!1}},getOAuthUrl:async e=>{try{l(null);const t=`${window.location.origin}/oauth/${e}/callback`,r=await pa.get(`/auth/${e}/authorize`,{params:{redirect_uri:t}});return r.state&&sessionStorage.setItem("oauth_state",r.state),r.redirect_uri}catch(t){const r=t.userMessage||`Failed to get ${e} authorization URL`;throw l(r),new Error(r)}},handleOAuthCallback:async e=>{try{if(l(null),null===e||void 0===e||!e.id)throw new Error("Invalid user data received from OAuth provider");console.log("[AuthContext] handleOAuthCallback - userData:",e),console.log("[AuthContext] User role:",e.role),console.log("[AuthContext] User email:",e.email),o(e),localStorage.setItem("user",JSON.stringify(e)),localStorage.removeItem("has_logged_out");if(!pa.getAuthToken())throw new Error("No authentication token received");return sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_retry_count"),e}catch(t){const e=t.message||"Failed to process OAuth authentication";throw p(e),new Error(e)}},isAuthenticated:()=>{const e=pa.getAuthToken();if("dev-bypass-token"===e){if(!r){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);o(t)}else{const e={id:"dev-user-123",email:"admin@cahoots.cc",username:"admin",full_name:"Admin User",role:"admin",subscription_tier:"enterprise",subscription_status:"active",monthly_task_limit:1e3,tasks_created_this_month:0};o(e),localStorage.setItem("user",JSON.stringify(e))}}return!0}return!(!r||!e)},clearError:()=>{l(null)},setUser:o,setLoading:s,setError:l};return(0,ze.jsx)(ha.Provider,{value:h,children:t})},fa=()=>{const e=(0,n.useContext)(ha);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ga={sidebarOpen:!1,theme:"dark",currentTaskId:null,notifications:[],globalLoading:!1,globalError:null},ya="SET_SIDEBAR_OPEN",xa="SET_CURRENT_TASK_ID",ba="SET_THEME",va="ADD_NOTIFICATION",ka="REMOVE_NOTIFICATION",ja="SET_GLOBAL_LOADING",wa="SET_GLOBAL_ERROR",Sa="CLEAR_GLOBAL_ERROR";function Ca(e,t){switch(t.type){case ya:return{...e,sidebarOpen:t.payload};case xa:return{...e,currentTaskId:t.payload};case ba:return{...e,theme:t.payload};case va:return{...e,notifications:[...e.notifications,{id:Date.now()+Math.random(),timestamp:new Date,...t.payload}]};case ka:return{...e,notifications:e.notifications.filter((e=>e.id!==t.payload))};case ja:return{...e,globalLoading:t.payload};case wa:return{...e,globalError:t.payload,globalLoading:!1};case Sa:return{...e,globalError:null};default:return e}}const _a=(0,n.createContext)(),Na=e=>{let{children:t}=e;const[r,o]=(0,n.useReducer)(Ca,ga),{user:a}=fa();(0,n.useEffect)((()=>{r.notifications.forEach((e=>{!1!==e.autoHide&&setTimeout((()=>{o({type:ka,payload:e.id})}),5e3)}))}),[r.notifications]);const s={setSidebarOpen:e=>{o({type:ya,payload:e})},setCurrentTaskId:e=>{o({type:xa,payload:e})},setTheme:e=>{o({type:ba,payload:e}),localStorage.setItem("theme",e)},addNotification:e=>{o({type:va,payload:e})},showSuccess:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.addNotification({type:"success",message:e,...t})},showError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.addNotification({type:"error",message:e,autoHide:!1,...t})},showWarning:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.addNotification({type:"warning",message:e,...t})},showInfo:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.addNotification({type:"info",message:e,...t})},removeNotification:e=>{o({type:ka,payload:e})},setGlobalLoading:e=>{o({type:ja,payload:e})},setGlobalError:e=>{o({type:wa,payload:e})},clearGlobalError:()=>{o({type:Sa})}};(0,n.useEffect)((()=>{const e=localStorage.getItem("theme");e&&e!==r.theme&&s.setTheme(e)}),[]);const i={...r,...s,isAuthenticated:!!a,hasNotifications:r.notifications.length>0};return(0,ze.jsx)(_a.Provider,{value:i,children:t})},Ea=()=>{const e=(0,n.useContext)(_a);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Ta=(0,n.createContext)();const Ra=new class{constructor(){this.ws=null,this.subscribers=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.isConnecting=!1,this.shouldReconnect=!0}connect(e,t){return this.ws&&this.ws.readyState===WebSocket.OPEN||this.isConnecting?Promise.resolve():(this.isConnecting=!0,this.shouldReconnect=!0,new Promise(((r,n)=>{try{const o=new URL(e);o.searchParams.set("token",t),this.ws=new WebSocket(o.toString()),this.ws.onopen=()=>{this.isConnecting=!1,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.notifySubscribers("connected",{connected:!0}),r()},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.notifySubscribers("message",t)}catch(t){console.error("Failed to parse WebSocket message:",t)}},this.ws.onclose=r=>{this.isConnecting=!1,this.notifySubscribers("disconnected",{connected:!1}),this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect(e,t)},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.isConnecting=!1,this.notifySubscribers("error",e),n(e)}}catch(o){this.isConnecting=!1,n(o)}})))}scheduleReconnect(e,t){this.reconnectAttempts++;const r=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout((()=>{this.shouldReconnect&&this.connect(e,t).catch((e=>{console.error("Reconnect failed:",e)}))}),r)}disconnect(){this.shouldReconnect=!1,this.ws&&(this.ws.close(),this.ws=null),this.subscribers.clear()}subscribe(e,t){return this.subscribers.set(e,t),()=>{this.subscribers.delete(e)}}notifySubscribers(e,t){this.subscribers.forEach((r=>{try{r(e,t)}catch(n){console.error("Error in WebSocket subscriber:",n)}}))}isConnected(){return this.ws&&this.ws.readyState===WebSocket.OPEN}send(e){return!!this.isConnected()&&(this.ws.send(JSON.stringify(e)),!0)}},Aa=e=>{let{children:t}=e;const[r,o]=(0,n.useState)({connected:!1,connecting:!1,error:null}),{user:a,isAuthenticated:s}=fa(),{showError:i,showSuccess:l}=Ea(),c=Pe(),d=(0,n.useRef)(null),u=()=>{const e="https:"===window.location.protocol?"wss:":"ws:",t=window.location.hostname,r=window.location.port||("https:"===window.location.protocol?"443":"80");return`${e}//${t}${"80"!==r&&"443"!==r?":"+r:""}/ws/global`},p=(e,t)=>{switch(e){case"connected":o({connected:!0,connecting:!1,error:null});break;case"disconnected":o({connected:!1,connecting:!1,error:null});break;case"error":o({connected:!1,connecting:!1,error:t}),i("WebSocket connection error");break;case"message":h(t)}},h=e=>{if(e.type)switch(e.type){case"task.created":case"task.updated":case"task.status_changed":Sr.list(),Sr.stats(),e.task_id&&(c.invalidateQueries({queryKey:wr.tasks.detail(e.task_id)}),c.invalidateQueries({queryKey:wr.tasks.tree(e.task_id)}));break;case"task.approved":l(`Task approved: ${e.task_id} by ${e.approved_by}`),Sr.list(),Sr.stats(),e.task_id&&(c.invalidateQueries({queryKey:wr.tasks.detail(e.task_id)}),c.invalidateQueries({queryKey:wr.tasks.tree(e.task_id)}));break;case"task.rejected":const t=e.new_description?`Task rejected and resubmitted: ${e.task_id} by ${e.rejected_by}`:`Task rejected: ${e.task_id} by ${e.rejected_by}`;i(t),Sr.list(),Sr.stats(),e.task_id&&(c.invalidateQueries({queryKey:wr.tasks.detail(e.task_id)}),c.invalidateQueries({queryKey:wr.tasks.tree(e.task_id)}));break;case"task.completed":l(`Task completed: ${e.description||e.task_id}`),Sr.list(),Sr.stats(),e.task_id&&(c.invalidateQueries({queryKey:wr.tasks.detail(e.task_id)}),c.invalidateQueries({queryKey:wr.tasks.tree(e.task_id)}));break;case"task.deleted":e.task_id&&(c.removeQueries({queryKey:wr.tasks.detail(e.task_id)}),c.removeQueries({queryKey:wr.tasks.tree(e.task_id)})),Sr.list(),Sr.stats();break;case"operator.status":break;case"service.status":e.task_id&&(c.invalidateQueries({queryKey:wr.tasks.detail(e.task_id)}),c.invalidateQueries({queryKey:wr.tasks.tree(e.task_id)}))}};(0,n.useEffect)((()=>{if(s()&&a){const e=localStorage.getItem("token")||"dev-bypass-token";o({connected:!1,connecting:!0,error:null}),d.current=Ra.subscribe("app-context",p),Ra.connect(u(),e).then((()=>{})).catch((e=>{console.error("WebSocket connection failed:",e),o({connected:!1,connecting:!1,error:e})}))}else d.current&&(d.current(),d.current=null),Ra.disconnect(),o({connected:!1,connecting:!1,error:null});return()=>{d.current&&d.current()}}),[s(),a]);const m={...r,send:e=>Ra.send(e),reconnect:()=>{if(s()&&a){const e=localStorage.getItem("token")||"dev-bypass-token";return Ra.connect(u(),e)}},subscribe:e=>Ra.subscribe(`subscriber-${Date.now()}`,((t,r)=>{e("message"===t?r:t)}))};return(0,ze.jsx)(Ta.Provider,{value:m,children:t})},za=()=>{const e=(0,n.useContext)(Ta);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e},Ia={darkMode:!1,notifications:!0,trelloIntegration:{enabled:!1,apiKey:"",token:""},jiraIntegration:{enabled:!1,jiraUrl:"",userEmail:"",apiToken:"",accountId:""}},Pa=(0,n.createContext)({settings:Ia,updateSettings:()=>{},loadUserSettings:()=>{},settingsLoaded:!1}),Oa=e=>{let{children:t}=e;const[r,o]=(0,n.useState)(Ia),[a,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(!1),c=(0,n.useCallback)((e=>{if(console.log("[SettingsContext] loadUserSettings called with userId:",e,"currentUserId:",a,"settingsLoaded:",i),!e)return console.log("[SettingsContext] No user, resetting to default settings"),o(Ia),s(null),void l(!0);if(e===a&&i)return void console.log("[SettingsContext] Same user and settings loaded, no reload needed");const t=`userSettings:${e}`,r=localStorage.getItem(t);if(console.log("[SettingsContext] Loading settings for key:",t),console.log("[SettingsContext] Saved settings:",r),r)try{const e=JSON.parse(r);console.log("[SettingsContext] Parsed settings:",e);const t={...Ia,...e,trelloIntegration:{...Ia.trelloIntegration,...e.trelloIntegration},jiraIntegration:{...Ia.jiraIntegration,...e.jiraIntegration}};console.log("[SettingsContext] Merged settings:",t),o(t)}catch(n){console.error("[SettingsContext] Error parsing user settings:",n),o(Ia)}else console.log("[SettingsContext] No saved settings, using defaults"),o(Ia);s(e),l(!0)}),[a,i]);(0,n.useEffect)((()=>{if(a){const e=`userSettings:${a}`;console.log("[SettingsContext] Saving settings to key:",e),console.log("[SettingsContext] Settings being saved:",r),localStorage.setItem(e,JSON.stringify(r)),void 0!==r.notifications&&console.log(`[SettingsContext] Email notifications preference changed for user ${a}:`,r.notifications?"enabled":"disabled")}else console.log("[SettingsContext] No currentUserId, not saving settings")}),[r,a]);const d=(0,n.useCallback)((e=>{console.log("[SettingsContext] updateSettings called with:",e),o(e)}),[]);return(0,ze.jsx)(Pa.Provider,{value:{settings:r,updateSettings:d,loadUserSettings:c,settingsLoaded:i},children:t})},La=()=>(0,n.useContext)(Pa),Da={colors:{primary:{50:"#FDF1ED",100:"#FAE0D8",200:"#F4BDB0",300:"#E89A7E",400:"#DC6F51",500:"#D24E26",600:"#B83E1C",700:"#973118",800:"#7B2A19",900:"#652518"},secondary:{50:"#F0F9F8",100:"#DCF0EF",200:"#B9E1DE",300:"#96D2CE",400:"#78B7B4",500:"#5FA09C",600:"#4C807D",700:"#3F6765",800:"#355452",900:"#2E4544"},neutral:{0:"#FFFFFF",50:"#FAF9F7",100:"#F5F3F0",200:"#E8E4DD",300:"#D4CFC5",400:"#A39B8B",500:"#7A6F5C",600:"#593E0C",700:"#3D2A08",800:"#2A1D05",900:"#1A1206",950:"#0D0903"},dark:{bg:"var(--color-bg, #0D0903)",surface:"var(--color-surface, #1A1206)",border:"var(--color-border, #2A1D05)",text:"var(--color-text, #FAF9F7)",muted:"var(--color-text-muted, #A39B8B)",body:"var(--color-text-body, #FAF9F7)"},success:{50:"#F0F9F8",100:"#DCF0EF",500:"#78B7B4",600:"#5FA09C",700:"#4C807D"},warning:{50:"#FEF8F1",100:"#FDF3E3",500:"#F7CA84",600:"#E5B36B",700:"#D39C52"},error:{50:"#FDF1ED",100:"#FAE0D8",500:"#D24E26",600:"#B83E1C",700:"#973118"},info:{50:"#EEF4FD",100:"#DCE8FB",500:"#5B8FD9",600:"#4A7AC7",700:"#3A65B5"}},typography:{fontFamily:{sans:["Inter","system-ui","sans-serif"],mono:["JetBrains Mono","Monaco","Courier New","monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}]},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"},letterSpacing:{tight:"-0.025em",normal:"0em",wide:"0.025em"}},spacing:{0:"0",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem"},borderRadius:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},boxShadow:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)"},transitionDuration:{fast:"150ms",normal:"300ms",slow:"500ms"},transitionTimingFunction:{ease:"cubic-bezier(0.4, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)",easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)"},transitions:{colors:"color 150ms ease, background-color 150ms ease, border-color 150ms ease",all:"all 150ms ease",transform:"transform 150ms ease"},zIndex:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}},Fa=(Da.colors.primary[50],Da.colors.primary[100],Da.colors.primary[500],Da.colors.primary[600],Da.colors.primary[700],Da.colors.secondary[400],Da.colors.secondary[500],Da.colors.secondary[600],Da.colors.success[500],Da.colors.warning[500],Da.colors.error[500],Da.colors.info[500],Da.typography.fontFamily.sans.join(", "),Da.typography.fontFamily.mono.join(", "),Da.spacing[1],Da.spacing[2],Da.spacing[4],Da.spacing[6],Da.spacing[8],Da.borderRadius.base,Da.borderRadius.lg,Da.borderRadius.xl,Da.boxShadow.base,Da.boxShadow.lg,Da.boxShadow.xl,Da),Ma=(0,n.createContext)(),Ba={bg:"#FFFFFF",surface:"#F8F9FA",border:"#D1D5DB",text:"#111827",muted:"#6B7280",body:"#374151"},Wa={bg:Da.colors.dark.bg,surface:Da.colors.dark.surface,border:Da.colors.dark.border,text:Da.colors.dark.text,muted:Da.colors.dark.muted,body:Da.colors.dark.text},$a=e=>{let{children:t}=e;const{settings:r,settingsLoaded:o}=La(),{isAuthenticated:a,loading:s}=fa(),i=!s&&o&&a()&&r.darkMode;(0,n.useEffect)((()=>{const e=i?Wa:Ba,t=document.documentElement;t.style.setProperty("--color-bg",e.bg),t.style.setProperty("--color-surface",e.surface),t.style.setProperty("--color-border",e.border),t.style.setProperty("--color-text",e.text),t.style.setProperty("--color-text-muted",e.muted),t.style.setProperty("--color-text-body",e.body),document.body.style.backgroundColor=e.bg,document.body.style.color=e.text,i?(document.documentElement.classList.add("dark-theme"),document.documentElement.classList.remove("light-theme")):(document.documentElement.classList.add("light-theme"),document.documentElement.classList.remove("dark-theme"))}),[i]);const l={isDark:i,theme:i?Wa:Ba};return(0,ze.jsx)(Ma.Provider,{value:l,children:t})},Ua=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0 0 24 24",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n=>{let{size:o=24,className:a="",...s}=n;return(0,ze.jsx)("svg",{width:o,height:o,viewBox:t,fill:r?"none":"currentColor",stroke:r?"currentColor":"none",strokeWidth:r?2:0,strokeLinecap:r?"round":void 0,strokeLinejoin:r?"round":void 0,className:a,...s,children:(0,ze.jsx)("path",{d:e})})}},Ha=Ua("M12 2L13.09 8.26L22 9L17 14.74L18.18 22.5L12 19.77L5.82 22.5L7 14.74L2 9L10.91 8.26L12 2Z","0 0 24 24",!1),qa=Ua("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z","0 0 24 24",!1),Qa=Ua("M8 12h8m-8 0a4 4 0 01-4-4V7a4 4 0 118 0v1m0 4a4 4 0 104 4v-1a4 4 0 10-8 0v1"),Va=Ua("M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),Ka=Ua("M4.5 12.75l6 6 9-13.5"),Ga=Ua("M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),Ja=Ua("M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"),Ya=Ua("M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),Xa=(Ua("M6 18L18 6M6 6l12 12"),Ua("M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z")),Za=Ua("M12 4.5v15m7.5-7.5h-15"),es=(Ua("M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"),Ua("M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0")),ts=Ua("M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z M15 12a3 3 0 11-6 0 3 3 0 016 0z"),rs=Ua("M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),ns=Ua("M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),os=Ua("M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),as=Ua("M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"),ss=Ua("M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"),is=(Ua("M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"),Ua("M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75")),ls=Ua("M8.25 4.5l7.5 7.5-7.5 7.5"),cs=Ua("M19.5 8.25l-7.5 7.5-7.5-7.5"),ds=Ua("M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"),us=(Ua("M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25H11.69z"),Ua("M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z")),ps=Ua("M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z M15 12a3 3 0 11-6 0 3 3 0 016 0z"),hs=Ua("M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18c-2.305 0-4.408.867-6 2.292m0-14.25v14.25"),ms=n.forwardRef(((e,t)=>{let{children:r,variant:n="primary",size:o="md",disabled:a=!1,loading:s=!1,icon:i,iconPosition:l="left",className:c="",...d}=e;const u={display:"inline-flex",alignItems:"center",justifyContent:"center",fontFamily:Da.typography.fontFamily.sans.join(", "),fontWeight:Da.typography.fontWeight.medium,borderRadius:Da.borderRadius.lg,transition:`all ${Da.transitionDuration.fast} ${Da.transitionTimingFunction.ease}`,cursor:a||s?"not-allowed":"pointer",outline:"none",border:"1px solid transparent"},p={sm:{padding:`${Da.spacing[2]} ${Da.spacing[3]}`,fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.fontSize.sm[1].lineHeight},md:{padding:`${Da.spacing[3]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.base[0],lineHeight:Da.typography.fontSize.base[1].lineHeight},lg:{padding:`${Da.spacing[4]} ${Da.spacing[6]}`,fontSize:Da.typography.fontSize.lg[0],lineHeight:Da.typography.fontSize.lg[1].lineHeight}},h={primary:{backgroundColor:Da.colors.primary[500],color:Da.colors.neutral[0],boxShadow:Da.boxShadow.base,...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.primary[600],boxShadow:Da.boxShadow.lg,transform:"translateY(-1px)"},"&:active":{backgroundColor:Da.colors.primary[700],transform:"translateY(0)"},"&:focus":{boxShadow:`${Da.boxShadow.base}, 0 0 0 3px rgba(255, 140, 26, 0.1)`}}},secondary:{backgroundColor:Da.colors.dark.surface,color:Da.colors.dark.text,borderColor:Da.colors.dark.border,...a||s?{backgroundColor:Da.colors.neutral[700],color:Da.colors.neutral[500],borderColor:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.neutral[700],borderColor:Da.colors.primary[500]},"&:focus":{borderColor:Da.colors.primary[500],boxShadow:"0 0 0 3px rgba(255, 140, 26, 0.1)"}}},success:{backgroundColor:Da.colors.success[500],color:Da.colors.neutral[0],...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.success[600]}}},danger:{backgroundColor:Da.colors.error[500],color:Da.colors.neutral[0],...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.error[600]}}},ghost:{backgroundColor:"transparent",color:Da.colors.dark.text,"&:hover":{backgroundColor:Da.colors.dark.surface}}},m={...u,...p[o],...h[n]},f=()=>(0,ze.jsxs)("svg",{className:"animate-spin",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ze.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"32",strokeDashoffset:"32",opacity:"0.3"}),(0,ze.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeDasharray:"32",strokeDashoffset:"24",strokeLinecap:"round"})]});return(0,ze.jsxs)("button",{ref:t,style:m,disabled:a||s,className:c,...d,children:[s&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(f,{}),(0,ze.jsx)("span",{style:{marginLeft:Da.spacing[2]},children:r})]}),!s&&i&&"left"===l&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(i,{size:"sm"===o?16:"lg"===o?20:18}),(0,ze.jsx)("span",{style:{marginLeft:Da.spacing[2]},children:r})]}),!s&&!i&&r,!s&&i&&"right"===l&&(0,ze.jsxs)(ze.Fragment,{children:[r,(0,ze.jsx)("span",{style:{marginLeft:Da.spacing[2]},children:(0,ze.jsx)(i,{size:"sm"===o?16:"lg"===o?20:18})})]})]})}));ms.displayName="Button";const fs=ms,gs=n.forwardRef(((e,t)=>{let{icon:r,variant:n="ghost",size:o="md",disabled:a=!1,loading:s=!1,className:i="",...l}=e;const c={display:"inline-flex",alignItems:"center",justifyContent:"center",fontFamily:Da.typography.fontFamily.sans.join(", "),borderRadius:Da.borderRadius.md,transition:`all ${Da.transitionDuration.fast} ${Da.transitionTimingFunction.ease}`,cursor:a||s?"not-allowed":"pointer",outline:"none",border:"1px solid transparent"},d={primary:{backgroundColor:Da.colors.primary[500],color:Da.colors.neutral[0],...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.primary[600]}}},secondary:{backgroundColor:Da.colors.dark.surface,color:Da.colors.dark.text,borderColor:Da.colors.dark.border,...a||s?{backgroundColor:Da.colors.neutral[700],color:Da.colors.neutral[500],borderColor:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.neutral[700],borderColor:Da.colors.primary[500]}}},success:{backgroundColor:Da.colors.success[500],color:Da.colors.neutral[0],...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.success[600]}}},danger:{backgroundColor:Da.colors.error[500],color:Da.colors.neutral[0],...a||s?{backgroundColor:Da.colors.neutral[400],color:Da.colors.neutral[600]}:{"&:hover":{backgroundColor:Da.colors.error[600]}}},ghost:{backgroundColor:"transparent",color:Da.colors.dark.text,"&:hover":{backgroundColor:Da.colors.dark.surface}}},u="sm"===o?16:"lg"===o?24:20,p={...c,...{sm:{width:"32px",height:"32px"},md:{width:"40px",height:"40px"},lg:{width:"48px",height:"48px"}}[o],...d[n]};return(0,ze.jsx)("button",{ref:t,style:p,disabled:a||s,className:i,...l,children:r&&(0,ze.jsx)(r,{size:u})})}));gs.displayName="IconButton";const ys=gs,xs=n.forwardRef(((e,t)=>{let{children:r,variant:n="default",hover:o=!1,padding:a="md",className:s="",...i}=e;const l={backgroundColor:Da.colors.dark.surface,borderRadius:Da.borderRadius.lg,border:`1px solid ${Da.colors.dark.border}`,overflow:"hidden",transition:`all ${Da.transitionDuration.normal} ${Da.transitionTimingFunction.ease}`},c={none:{padding:0},sm:{padding:Da.spacing[4]},md:{padding:Da.spacing[6]},lg:{padding:Da.spacing[8]}},d={default:{boxShadow:Da.boxShadow.base},elevated:{boxShadow:Da.boxShadow.lg},outlined:{boxShadow:"none",borderColor:Da.colors.dark.border},gradient:{background:`linear-gradient(135deg, ${Da.colors.dark.surface} 0%, ${Da.colors.neutral[800]} 100%)`,boxShadow:Da.boxShadow.base}},u=o?{"&:hover":{transform:"translateY(-2px)",boxShadow:Da.boxShadow.xl,borderColor:`${Da.colors.primary[500]}40`}}:{},p={...l,...c[a],...d[n],...u};return(0,ze.jsx)("div",{ref:t,style:p,className:s,...i,children:r})}));xs.displayName="Card";const bs=e=>{let{children:t,className:r="",...n}=e;return(0,ze.jsx)("div",{style:{paddingBottom:Da.spacing[4],marginBottom:Da.spacing[4],borderBottom:`1px solid ${Da.colors.dark.border}`},className:r,...n,children:t})},vs=e=>{let{children:t,className:r="",...n}=e;return(0,ze.jsx)("div",{className:r,...n,children:t})},ks=xs,js=e=>{let{children:t,variant:r="primary",size:n="md",icon:o,className:a="",...s}=e;const i={display:"inline-flex",alignItems:"center",justifyContent:"center",fontFamily:Da.typography.fontFamily.sans.join(", "),fontWeight:Da.typography.fontWeight.medium,borderRadius:Da.borderRadius.full,border:"1px solid transparent",whiteSpace:"nowrap",textTransform:"capitalize"},l={sm:{padding:`${Da.spacing[1]} ${Da.spacing[2]}`,fontSize:Da.typography.fontSize.xs[0],lineHeight:Da.typography.fontSize.xs[1].lineHeight},md:{padding:`${Da.spacing[1]} ${Da.spacing[3]}`,fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.fontSize.sm[1].lineHeight},lg:{padding:`${Da.spacing[2]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.base[0],lineHeight:Da.typography.fontSize.base[1].lineHeight}},c={primary:{backgroundColor:`${Da.colors.primary[500]}20`,color:Da.colors.primary[400],borderColor:`${Da.colors.primary[500]}30`},success:{backgroundColor:`${Da.colors.success[500]}20`,color:Da.colors.success[400],borderColor:`${Da.colors.success[500]}30`},warning:{backgroundColor:`${Da.colors.warning[500]}20`,color:Da.colors.warning[400],borderColor:`${Da.colors.warning[500]}30`},error:{backgroundColor:`${Da.colors.error[500]}20`,color:Da.colors.error[400],borderColor:`${Da.colors.error[500]}30`},info:{backgroundColor:`${Da.colors.info[500]}20`,color:Da.colors.info[400],borderColor:`${Da.colors.info[500]}30`},neutral:{backgroundColor:`${Da.colors.neutral[500]}20`,color:Da.colors.neutral[300],borderColor:`${Da.colors.neutral[500]}30`},completed:{backgroundColor:`${Da.colors.success[500]}20`,color:Da.colors.success[400],borderColor:`${Da.colors.success[500]}30`},in_progress:{backgroundColor:`${Da.colors.warning[500]}20`,color:Da.colors.warning[400],borderColor:`${Da.colors.warning[500]}30`},pending:{backgroundColor:`${Da.colors.info[500]}20`,color:Da.colors.info[400],borderColor:`${Da.colors.info[500]}30`},failed:{backgroundColor:`${Da.colors.error[500]}20`,color:Da.colors.error[400],borderColor:`${Da.colors.error[500]}30`}},d={...i,...l[n],...c[r]};return(0,ze.jsxs)("span",{style:d,className:a,...s,children:[o&&(0,ze.jsx)(o,{size:"sm"===n?12:"lg"===n?16:14,style:{marginRight:Da.spacing[1]}}),t]})},ws=e=>{let{isOpen:t=!1,onClose:r,title:o,children:a,size:s="md",...i}=e;if((0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t&&r&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,r]),!t)return null;return(0,ze.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:Da.zIndex.modal,padding:Da.spacing[4],overflowY:"auto"},onClick:r,...i,children:(0,ze.jsxs)("div",{style:{backgroundColor:"var(--color-surface)",borderRadius:Da.borderRadius.lg,border:"1px solid var(--color-border)",boxShadow:Da.boxShadow.xl,width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",margin:"auto",...{sm:{maxWidth:"400px"},md:{maxWidth:"600px"},lg:{maxWidth:"800px"},xl:{maxWidth:"1200px"}}[s]},onClick:e=>e.stopPropagation(),children:[o&&(0,ze.jsxs)("div",{style:{padding:`${Da.spacing[4]} ${Da.spacing[6]}`,borderBottom:"1px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[(0,ze.jsx)("h2",{style:{margin:0,fontSize:Da.typography.fontSize.xl[0],fontWeight:Da.typography.fontWeight.semibold,color:"var(--color-text)"},children:o}),r&&(0,ze.jsx)("button",{onClick:r,style:{background:"none",border:"none",color:"var(--color-text-muted)",cursor:"pointer",padding:Da.spacing[1],fontSize:Da.typography.fontSize.xl[0]},children:"\xd7"})]}),(0,ze.jsx)("div",{style:{padding:Da.spacing[6],overflowY:"auto",flex:1},children:a})]})})},Ss=e=>{let{size:t="md",color:r=Da.colors.primary[500],style:n={},...o}=e;const a={sm:"16px",md:"24px",lg:"32px",xl:"48px"};return(0,ze.jsx)("div",{style:{width:a[t],height:a[t],border:`3px solid ${Da.colors.dark.border}`,borderTop:`3px solid ${r}`,borderRadius:Da.borderRadius.full,animation:"spin 1s linear infinite",...n},...o})},Cs=e=>{let{icon:t,title:r,description:n,action:o,size:a="md",style:s={},...i}=e;const l={sm:{iconSize:32,titleSize:Da.typography.fontSize.lg[0],padding:Da.spacing[4]},md:{iconSize:48,titleSize:Da.typography.fontSize.xl[0],padding:Da.spacing[8]},lg:{iconSize:64,titleSize:Da.typography.fontSize["2xl"][0],padding:Da.spacing[12]}}[a];return(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:l.padding,color:Da.colors.dark.muted,...s},...i,children:[t&&(0,ze.jsx)(t,{size:l.iconSize,style:{marginBottom:Da.spacing[4],color:Da.colors.dark.border}}),r&&(0,ze.jsx)("h3",{style:{margin:0,marginBottom:Da.spacing[2],fontSize:l.titleSize,fontWeight:Da.typography.fontWeight.semibold,color:Da.colors.dark.text},children:r}),n&&(0,ze.jsx)("p",{style:{margin:0,marginBottom:o?Da.spacing[4]:0,fontSize:Da.typography.fontSize.sm[0],color:Da.colors.dark.muted,maxWidth:"400px"},children:n}),o]})},_s=e=>{let{title:t="Something went wrong",message:r,onRetry:n,style:o={},...a}=e;return(0,ze.jsxs)("div",{style:{backgroundColor:`${Da.colors.error[500]}15`,border:`1px solid ${Da.colors.error[500]}30`,borderRadius:Da.borderRadius.lg,padding:Da.spacing[6],textAlign:"center",...o},...a,children:[(0,ze.jsx)("div",{style:{width:"48px",height:"48px",backgroundColor:`${Da.colors.error[500]}20`,borderRadius:Da.borderRadius.full,display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${Da.spacing[4]}`},children:(0,ze.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:Da.colors.error[500],strokeWidth:"2",children:[(0,ze.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,ze.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,ze.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),(0,ze.jsx)("h3",{style:{margin:0,marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.lg[0],fontWeight:Da.typography.fontWeight.semibold,color:Da.colors.dark.text},children:t}),r&&(0,ze.jsx)("p",{style:{margin:0,marginBottom:n?Da.spacing[4]:0,fontSize:Da.typography.fontSize.sm[0],color:Da.colors.dark.muted},children:r}),n&&(0,ze.jsx)("button",{onClick:n,style:{backgroundColor:Da.colors.error[500],color:Da.colors.neutral[0],border:"none",borderRadius:Da.borderRadius.md,padding:`${Da.spacing[2]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium,cursor:"pointer",transition:Da.transitions.colors},children:"Try Again"})]})},Ns=e=>{let{value:t=0,max:r=100,size:n="md",variant:o="primary",showLabel:a=!1,style:s={},...i}=e;const l=Math.min(Math.max(t/r*100,0),100),c={sm:{height:"6px",borderRadius:Da.borderRadius.sm},md:{height:"8px",borderRadius:Da.borderRadius.md},lg:{height:"12px",borderRadius:Da.borderRadius.md}},d={primary:{backgroundColor:Da.colors.primary[500]},success:{backgroundColor:Da.colors.success[500]},warning:{backgroundColor:Da.colors.warning[500]},error:{backgroundColor:Da.colors.error[500]},info:{backgroundColor:Da.colors.info[500]}};return(0,ze.jsxs)("div",{style:{...s},children:[a&&(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Da.spacing[1],fontSize:Da.typography.fontSize.sm[0],color:Da.colors.dark.text},children:[(0,ze.jsx)("span",{children:"Progress"}),(0,ze.jsxs)("span",{children:[Math.round(l),"%"]})]}),(0,ze.jsx)("div",{style:{width:"100%",backgroundColor:Da.colors.dark.border,overflow:"hidden",...c[n]},...i,children:(0,ze.jsx)("div",{style:{width:`${l}%`,height:"100%",transition:Da.transitions.all,...d[o]}})})]})},Es=e=>{let{type:t="text",placeholder:r,value:n,onChange:o,className:a="",disabled:s=!1,required:i=!1,...l}=e;const c={width:"100%",padding:`${Da.spacing[3]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.lineHeight.normal,color:"var(--color-text)",backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Da.borderRadius.md,outline:"none",transition:Da.transitions.colors,fontFamily:Da.typography.fontFamily.sans.join(", ")},d=(Da.colors.primary[500],Da.colors.primary[500],s?{opacity:.6,cursor:"not-allowed",backgroundColor:"var(--color-surface)"}:{});return(0,ze.jsx)("input",{type:t,placeholder:r,value:n,onChange:o,disabled:s,required:i,className:a,style:{...c,...d},onFocus:e=>{s||(e.target.style.borderColor=Da.colors.primary[500],e.target.style.boxShadow=`0 0 0 3px ${Da.colors.primary[500]}20`)},onBlur:e=>{e.target.style.borderColor="var(--color-border)",e.target.style.boxShadow="none"},...l})},Ts=e=>{let{placeholder:t,value:r,onChange:n,rows:o=3,className:a="",disabled:s=!1,required:i=!1,...l}=e;const c={width:"100%",padding:`${Da.spacing[3]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.lineHeight.relaxed,color:"var(--color-text)",backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Da.borderRadius.md,outline:"none",transition:Da.transitions.colors,fontFamily:Da.typography.fontFamily.sans.join(", "),resize:"vertical",minHeight:"80px"},d=s?{opacity:.6,cursor:"not-allowed",backgroundColor:"var(--color-surface)"}:{};return(0,ze.jsx)("textarea",{placeholder:t,value:r,onChange:n,rows:o,disabled:s,required:i,className:a,style:{...c,...d},onFocus:e=>{s||(e.target.style.borderColor=Da.colors.primary[500],e.target.style.boxShadow=`0 0 0 3px ${Da.colors.primary[500]}20`)},onBlur:e=>{e.target.style.borderColor="var(--color-border)",e.target.style.boxShadow="none"},...l})},Rs=e=>{let{value:t,onChange:r,children:n,className:o="",disabled:a=!1,required:s=!1,...i}=e;const l={width:"100%",padding:`${Da.spacing[3]} ${Da.spacing[4]}`,fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.lineHeight.normal,color:"var(--color-text)",backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Da.borderRadius.md,outline:"none",transition:Da.transitions.colors,fontFamily:Da.typography.fontFamily.sans.join(", "),cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:Da.spacing[10]},c=a?{opacity:.6,cursor:"not-allowed",backgroundColor:"var(--color-surface)"}:{};return(0,ze.jsx)("select",{value:t,onChange:r,disabled:a,required:s,className:o,style:{...l,...c},onFocus:e=>{a||(e.target.style.borderColor=Da.colors.primary[500],e.target.style.boxShadow=`0 0 0 3px ${Da.colors.primary[500]}20`)},onBlur:e=>{e.target.style.borderColor="var(--color-border)",e.target.style.boxShadow="none"},...i,children:n})},As=e=>{let{checked:t=!1,onChange:r,disabled:n=!1,className:o="",...a}=e;const s=()=>{!n&&r&&r(!t)},i={position:"relative",display:"inline-flex",alignItems:"center",width:"44px",height:"24px",backgroundColor:t?Da.colors.primary[500]:Da.colors.dark.border,borderRadius:Da.borderRadius.full,cursor:n?"not-allowed":"pointer",transition:Da.transitions.colors,opacity:n?.6:1},l={position:"absolute",top:"2px",left:t?"22px":"2px",width:"20px",height:"20px",backgroundColor:Da.colors.neutral[0],borderRadius:Da.borderRadius.full,transition:"left 0.2s ease-in-out",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"};return(0,ze.jsx)("div",{className:o,style:i,onClick:s,role:"switch","aria-checked":t,tabIndex:n?-1:0,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||n||(e.preventDefault(),s())},...a,children:(0,ze.jsx)("div",{style:l})})},zs=(e,t)=>n.forwardRef(((r,n)=>{let{as:o=e,variant:a,color:s="text",align:i="left",children:l,className:c="",...d}=r;const u={text:Da.colors.dark.text,muted:Da.colors.dark.muted,primary:Da.colors.primary[500],success:Da.colors.success[500],warning:Da.colors.warning[500],error:Da.colors.error[500],info:Da.colors.info[500]},p={...t,color:u[s]||s,textAlign:{left:"left",center:"center",right:"right",justify:"justify"}[i]};return(0,ze.jsx)(o,{ref:n,style:p,className:c,...d,children:l})})),Is=zs("h1",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize["3xl"][0],lineHeight:Da.typography.fontSize["3xl"][1].lineHeight,fontWeight:Da.typography.fontWeight.bold,marginBottom:Da.spacing[4]}),Ps=zs("h2",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize["2xl"][0],lineHeight:Da.typography.fontSize["2xl"][1].lineHeight,fontWeight:Da.typography.fontWeight.semibold,marginBottom:Da.spacing[3]}),Os=zs("h3",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.xl[0],lineHeight:Da.typography.fontSize.xl[1].lineHeight,fontWeight:Da.typography.fontWeight.semibold,marginBottom:Da.spacing[3]}),Ls=(zs("h4",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.lg[0],lineHeight:Da.typography.fontSize.lg[1].lineHeight,fontWeight:Da.typography.fontWeight.medium,marginBottom:Da.spacing[2]}),zs("p",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.base[0],lineHeight:Da.typography.fontSize.base[1].lineHeight,fontWeight:Da.typography.fontWeight.normal,marginBottom:Da.spacing[3]})),Ds=zs("span",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.fontSize.sm[1].lineHeight,fontWeight:Da.typography.fontWeight.normal}),Fs=zs("span",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.lg[0],lineHeight:Da.typography.fontSize.lg[1].lineHeight,fontWeight:Da.typography.fontWeight.normal}),Ms=zs("span",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.xs[0],lineHeight:Da.typography.fontSize.xs[1].lineHeight,fontWeight:Da.typography.fontWeight.normal,color:Da.colors.dark.muted}),Bs=(zs("code",{fontFamily:Da.typography.fontFamily.mono.join(", "),fontSize:Da.typography.fontSize.sm[0],backgroundColor:Da.colors.neutral[800],color:Da.colors.primary[400],padding:`${Da.spacing[1]} ${Da.spacing[2]}`,borderRadius:Da.borderRadius.base,border:`1px solid ${Da.colors.dark.border}`}),zs("label",{fontFamily:Da.typography.fontFamily.sans.join(", "),fontSize:Da.typography.fontSize.sm[0],lineHeight:Da.typography.fontSize.sm[1].lineHeight,fontWeight:Da.typography.fontWeight.medium,color:Da.colors.dark.text,display:"block",marginBottom:Da.spacing[1]})),Ws=Ls,$s=e=>{let{children:t}=e;const{isAuthenticated:r,loading:n}=fa(),o=Z();if(n)return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:Fa.spacing[4],backgroundColor:Fa.colors.dark.bg},children:[(0,ze.jsx)("div",{style:{width:"48px",height:"48px",border:`4px solid ${Fa.colors.dark.border}`,borderTop:`4px solid ${Fa.colors.primary[500]}`,borderRadius:Fa.borderRadius.full,animation:"spin 1s linear infinite"}}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted},children:"Checking authentication..."})]});return r()?t:(0,ze.jsx)(ye,{to:"/login",state:{from:o},replace:!0})},Us=e=>{let{notification:t,onClose:r}=e;const{id:n,type:o,message:a,title:s,autoHide:i=!0}=t,l=(e=>{switch(e){case"success":return{icon:Va,iconColor:Fa.colors.success[400],backgroundColor:`${Fa.colors.success[500]}15`,borderColor:`${Fa.colors.success[500]}40`,titleColor:Fa.colors.success[300],messageColor:Fa.colors.success[200]};case"error":return{icon:Ja,iconColor:Fa.colors.error[400],backgroundColor:`${Fa.colors.error[500]}15`,borderColor:`${Fa.colors.error[500]}40`,titleColor:Fa.colors.error[300],messageColor:Fa.colors.error[200]};case"warning":return{icon:Ja,iconColor:Fa.colors.warning[400],backgroundColor:`${Fa.colors.warning[500]}15`,borderColor:`${Fa.colors.warning[500]}40`,titleColor:Fa.colors.warning[300],messageColor:Fa.colors.warning[200]};default:return{icon:Ya,iconColor:Fa.colors.info[400],backgroundColor:`${Fa.colors.info[500]}15`,borderColor:`${Fa.colors.info[500]}40`,titleColor:Fa.colors.info[300],messageColor:Fa.colors.info[200]}}})(o),c=l.icon;return(0,ze.jsxs)("div",{style:{position:"relative",minWidth:"320px",maxWidth:"480px",backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderStyle:"solid",borderWidth:"1px",borderRadius:Fa.borderRadius.lg,padding:Fa.spacing[4],marginBottom:Fa.spacing[2],boxShadow:Fa.boxShadow.lg,animation:"slideIn 0.3s ease-out"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:Fa.spacing[3]},children:[(0,ze.jsx)(c,{size:20,style:{color:l.iconColor,marginTop:"2px"}}),(0,ze.jsxs)("div",{style:{flex:1,minWidth:0},children:[s&&(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,fontSize:Fa.typography.fontSize.sm[0],margin:`0 0 ${Fa.spacing[1]} 0`,color:l.titleColor},children:s}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],lineHeight:"1.4",margin:0,color:l.messageColor},children:a})]}),(0,ze.jsx)(fs,{variant:"ghost",size:"sm",onClick:()=>r(n),style:{padding:Fa.spacing[1],minWidth:"auto",height:"auto",color:Fa.colors.dark.muted,backgroundColor:"transparent"},children:"\xd7"})]}),i&&(0,ze.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"2px",backgroundColor:l.borderColor,transformOrigin:"left",animation:"shrink 5s linear forwards"}})]})};if(!document.querySelector("#notification-styles")){const e=document.createElement("style");e.id="notification-styles",e.textContent="\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateX(100%);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes shrink {\n    from {\n      transform: scaleX(1);\n    }\n    to {\n      transform: scaleX(0);\n    }\n  }\n",document.head.appendChild(e)}const Hs=()=>{const{notifications:e,removeNotification:t}=Ea();return 0===e.length?null:s.createPortal((0,ze.jsx)("div",{style:{position:"fixed",top:Fa.spacing[4],right:Fa.spacing[4],zIndex:Fa.zIndex.toast,pointerEvents:"none"},children:(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:Fa.spacing[2]},children:e.map((e=>(0,ze.jsx)("div",{style:{pointerEvents:"auto"},children:(0,ze.jsx)(Us,{notification:e,onClose:t})},e.id)))})}),document.body)},qs=()=>{const e=te();return(0,ze.jsx)("footer",{className:"border-t",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-surface)"},children:(0,ze.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[(0,ze.jsxs)("div",{className:"md:col-span-2",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("img",{src:"/icons/cottage.png",alt:"Cahoots",width:"32",height:"32",className:"mr-3"}),(0,ze.jsx)("h3",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Cahoots"})]}),(0,ze.jsx)("p",{className:"mb-4 max-w-md",style:{color:"var(--color-text-muted)"},children:"AI-powered task decomposition that breaks down complex software projects into manageable, actionable work items."}),(0,ze.jsxs)("div",{className:"flex space-x-4",children:[(0,ze.jsx)("a",{href:"https://www.linkedin.com/company/cahoots-llc/about",target:"_blank",rel:"noopener noreferrer",className:"text-brand-vibrant-blue hover:text-brand-vibrant-blue transition-colors","aria-label":"LinkedIn",children:(0,ze.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,ze.jsx)("a",{href:"https://github.com/cahoots-org",target:"_blank",rel:"noopener noreferrer",className:"hover:text-brand-vibrant-orange transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"GitHub",children:(0,ze.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-semibold mb-4",style:{color:"var(--color-text)"},children:"Product"}),(0,ze.jsxs)("ul",{className:"space-y-2",children:[(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Home"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/about"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"About"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/login"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Get Started"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/blog"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Blog"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/dashboard"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Dashboard"})})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-semibold mb-4",style:{color:"var(--color-text)"},children:"Support"}),(0,ze.jsxs)("ul",{className:"space-y-2",children:[(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/contact"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Contact Us"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("a",{href:"mailto:admin@cahoots.cc",className:"hover:text-brand-vibrant-orange transition-colors",style:{color:"var(--color-text-muted)"},children:"admin@cahoots.cc"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/privacy"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Privacy Policy"})}),(0,ze.jsx)("li",{children:(0,ze.jsx)("button",{onClick:()=>e("/terms"),className:"hover:text-brand-vibrant-orange transition-colors cursor-pointer text-left",style:{color:"var(--color-text-muted)"},children:"Terms of Service"})})]})]})]}),(0,ze.jsxs)("div",{className:"flex justify-center space-x-6 mb-6 text-2xl",children:[(0,ze.jsx)("span",{title:"Growth & Stability",children:"\ud83c\udf33"}),(0,ze.jsx)("span",{title:"Innovation",children:"\ud83c\udf44"}),(0,ze.jsx)("span",{title:"Interconnection",children:"\ud83d\udd78\ufe0f"}),(0,ze.jsx)("span",{title:"Natural Flow",children:"\ud83c\udf3f"}),(0,ze.jsx)("span",{title:"Adaptation",children:"\ud83c\udf0a"}),(0,ze.jsx)("span",{title:"Collaboration",children:"\ud83d\udc1d"}),(0,ze.jsx)("span",{title:"Intelligence",children:"\ud83e\udd8a"}),(0,ze.jsx)("span",{title:"Wisdom",children:"\ud83e\udd89"}),(0,ze.jsx)("span",{title:"Transformation",children:"\ud83e\udd8b"})]}),(0,ze.jsxs)("div",{className:"border-t pt-6 flex flex-col md:flex-row justify-between items-center",style:{borderColor:"var(--color-border)"},children:[(0,ze.jsx)("p",{className:"text-sm mb-4 md:mb-0",style:{color:"var(--color-text-muted)"},children:"\xa9 2025 Cahoots LLC. All rights reserved."}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Built with \u2764\ufe0f for software development teams"})]})]})})};function Qs(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Vs=n.forwardRef(Qs);function Ks(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Gs=n.forwardRef(Ks),Js=e=>{let{children:t}=e;const{user:r,isAuthenticated:o,logout:a}=fa(),{globalLoading:s}=Ea(),i=Z(),l=te(),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=()=>{p(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{d(!1)}),[i.pathname]),(0,n.useEffect)((()=>{console.log("[Layout] User changed:",r),r&&(console.log("[Layout] User role:",r.role),console.log("[Layout] User email:",r.email))}),[r]);const h=(0,n.useMemo)((()=>{const e=[{path:"/dashboard",icon:ds,label:"Dashboard"},{path:"/tasks/create",icon:Za,label:"Create Task"},{path:"/pipeline",icon:us,label:"Pipeline"},{path:"/blog",icon:hs,label:"Blog"},{path:"/settings",icon:ps,label:"Settings"}];return"admin"===(null===r||void 0===r?void 0:r.role)&&(console.log("[Layout] Adding Blog Admin to nav - user role:",r.role),e.push({path:"/admin/blog",icon:us,label:"Blog Admin"})),e}),[r]),m=async()=>{try{await a(),l("/")}catch(e){console.error("Logout error:",e)}};return(0,ze.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:Fa.colors.dark.bg,display:"flex",flexDirection:"column"},children:[(0,ze.jsx)("header",{style:{backgroundColor:Fa.colors.dark.surface,borderBottom:`1px solid ${Fa.colors.dark.border}`,position:"sticky",top:0,zIndex:Fa.zIndex.sticky},children:(0,ze.jsx)("div",{className:"container",children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px"},children:[(0,ze.jsx)(Te,{to:o()?"/dashboard":"/",style:{textDecoration:"none",display:"flex",alignItems:"center"},children:(0,ze.jsx)("img",{src:"/text-logo.png",alt:"Cahoots",style:{height:"36px",objectFit:"contain"}})}),!u&&(0,ze.jsx)("nav",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1]},children:o()?h.map((e=>{const t=i.pathname===e.path,r=e.icon;return(0,ze.jsx)(Te,{to:e.path,style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:t?"primary":"ghost",size:"sm",icon:r,children:e.label})},e.path)})):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Te,{to:"/",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/"===i.pathname?"primary":"ghost",size:"sm",icon:ds,children:"Home"})}),(0,ze.jsx)(Te,{to:"/about",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/about"===i.pathname?"primary":"ghost",size:"sm",children:"About"})}),(0,ze.jsx)(Te,{to:"/contact",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/contact"===i.pathname?"primary":"ghost",size:"sm",children:"Contact"})}),(0,ze.jsx)(Te,{to:"/blog",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:i.pathname.startsWith("/blog")?"primary":"ghost",size:"sm",icon:hs,children:"Blog"})}),(0,ze.jsx)(Te,{to:"/login",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"secondary",size:"sm",children:"Sign In"})})]})}),u&&(0,ze.jsx)("button",{onClick:()=>d(!c),style:{background:"none",border:"none",color:Fa.colors.dark.text,cursor:"pointer",padding:Fa.spacing[2],display:"flex",alignItems:"center",justifyContent:"center"},children:c?(0,ze.jsx)(Vs,{style:{width:"24px",height:"24px"}}):(0,ze.jsx)(Gs,{style:{width:"24px",height:"24px"}})}),o()&&!u&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3]},children:[r&&(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0],margin:0},children:r.full_name||r.email}),(0,ze.jsx)(fs,{variant:"secondary",size:"sm",onClick:m,children:"Logout"})]})]})})}),u&&c&&(0,ze.jsx)("div",{style:{position:"fixed",top:"64px",left:0,right:0,backgroundColor:Fa.colors.dark.surface,borderBottom:`1px solid ${Fa.colors.dark.border}`,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:Fa.zIndex.dropdown,maxHeight:"calc(100vh - 64px)",overflowY:"auto"},children:(0,ze.jsx)("div",{style:{padding:Fa.spacing[4],display:"flex",flexDirection:"column",gap:Fa.spacing[2]},children:o()?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{padding:`${Fa.spacing[3]} 0`,borderBottom:`1px solid ${Fa.colors.dark.border}`,marginBottom:Fa.spacing[2]},children:(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0],margin:0},children:(null===r||void 0===r?void 0:r.full_name)||(null===r||void 0===r?void 0:r.email)})}),h.map((e=>{const t=i.pathname===e.path,r=e.icon;return(0,ze.jsx)(Te,{to:e.path,style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:t?"primary":"ghost",size:"md",icon:r,style:{width:"100%",justifyContent:"flex-start"},children:e.label})},e.path)})),(0,ze.jsx)("div",{style:{marginTop:Fa.spacing[2],paddingTop:Fa.spacing[2],borderTop:`1px solid ${Fa.colors.dark.border}`},children:(0,ze.jsx)(fs,{variant:"secondary",size:"md",onClick:m,style:{width:"100%"},children:"Logout"})})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Te,{to:"/",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/"===i.pathname?"primary":"ghost",size:"md",icon:ds,style:{width:"100%",justifyContent:"flex-start"},children:"Home"})}),(0,ze.jsx)(Te,{to:"/about",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/about"===i.pathname?"primary":"ghost",size:"md",style:{width:"100%",justifyContent:"flex-start"},children:"About"})}),(0,ze.jsx)(Te,{to:"/contact",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"/contact"===i.pathname?"primary":"ghost",size:"md",style:{width:"100%",justifyContent:"flex-start"},children:"Contact"})}),(0,ze.jsx)(Te,{to:"/blog",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:i.pathname.startsWith("/blog")?"primary":"ghost",size:"md",icon:hs,style:{width:"100%",justifyContent:"flex-start"},children:"Blog"})}),(0,ze.jsx)("div",{style:{marginTop:Fa.spacing[2],paddingTop:Fa.spacing[2],borderTop:`1px solid ${Fa.colors.dark.border}`},children:(0,ze.jsx)(Te,{to:"/login",style:{textDecoration:"none"},children:(0,ze.jsx)(fs,{variant:"primary",size:"md",style:{width:"100%"},children:"Sign In"})})})]})})}),(0,ze.jsx)("main",{style:{flex:1,position:"relative"},children:t}),(0,ze.jsx)(qs,{}),s&&(0,ze.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:Fa.zIndex.overlay},children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:Fa.spacing[4]},children:[(0,ze.jsx)("div",{style:{width:"48px",height:"48px",border:`4px solid ${Fa.colors.dark.border}`,borderTop:`4px solid ${Fa.colors.primary[500]}`,borderRadius:Fa.borderRadius.full,animation:"spin 1s linear infinite"}}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text},children:"Loading..."})]})}),(0,ze.jsx)(Hs,{})]})};var Ys=class extends rr{constructor(e,t){super(),this.options=t,this.#l=e,this.#C=null,this.#_=ar(),this.options.experimental_prefetchInRender||this.#_.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#N=void 0;#E=void 0;#T=void 0;#R;#A;#_;#C;#z;#I;#P;#O;#L;#D;#F=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#N.addObserver(this),Xs(this.#N,this.options)?this.#M():this.updateResult(),this.#B())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zs(this.#N,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zs(this.#N,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#W(),this.#$(),this.#N.removeObserver(this)}setOptions(e){const t=this.options,r=this.#N;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof Dt(this.options.enabled,this.#N))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#U(),this.#N.setOptions(this.options),t._defaulted&&!Ht(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#N,observer:this});const n=this.hasListeners();n&&ei(this.#N,r,this.options,t)&&this.#M(),this.updateResult(),!n||this.#N===r&&Dt(this.options.enabled,this.#N)===Dt(t.enabled,this.#N)&&Lt(this.options.staleTime,this.#N)===Lt(t.staleTime,this.#N)||this.#H();const o=this.#q();!n||this.#N===r&&Dt(this.options.enabled,this.#N)===Dt(t.enabled,this.#N)&&o===this.#D||this.#Q(o)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),r=this.createResult(t,e);return function(e,t){if(!Ht(e.getCurrentResult(),t))return!0;return!1}(this,r)&&(this.#T=r,this.#A=this.options,this.#R=this.#N.state),r}getCurrentResult(){return this.#T}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#F.add(e)}getCurrentQuery(){return this.#N}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),r=this.#l.getQueryCache().build(this.#l,t);return r.fetch().then((()=>this.createResult(r,t)))}fetch(e){return this.#M({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#T)))}#M(e){this.#U();let t=this.#N.fetch(this.options,e);return e?.throwOnError||(t=t.catch(It)),t}#H(){this.#W();const e=Lt(this.options.staleTime,this.#N);if(zt||this.#T.isStale||!Pt(e))return;const t=Ot(this.#T.dataUpdatedAt,e)+1;this.#O=setTimeout((()=>{this.#T.isStale||this.updateResult()}),t)}#q(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#N):this.options.refetchInterval)??!1}#Q(e){this.#$(),this.#D=e,!zt&&!1!==Dt(this.options.enabled,this.#N)&&Pt(this.#D)&&0!==this.#D&&(this.#L=setInterval((()=>{(this.options.refetchIntervalInBackground||nr.isFocused())&&this.#M()}),this.#D))}#B(){this.#H(),this.#Q(this.#q())}#W(){this.#O&&(clearTimeout(this.#O),this.#O=void 0)}#$(){this.#L&&(clearInterval(this.#L),this.#L=void 0)}createResult(e,t){const r=this.#N,n=this.options,o=this.#T,a=this.#R,s=this.#A,i=e!==r?e.state:this.#E,{state:l}=e;let c,d={...l},u=!1;if(t._optimisticResults){const o=this.hasListeners(),a=!o&&Xs(e,t),s=o&&ei(e,r,t,n);(a||s)&&(d={...d,...hr(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:h,status:m}=d;c=d.data;let f=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===m){let e;o?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=o.data,f=!0):e="function"===typeof t.placeholderData?t.placeholderData(this.#P?.state.data,this.#P):t.placeholderData,void 0!==e&&(m="success",c=Kt(o?.data,e,t),u=!0)}if(t.select&&void 0!==c&&!f)if(o&&c===a?.data&&t.select===this.#z)c=this.#I;else try{this.#z=t.select,c=t.select(c),c=Kt(o?.data,c,t),this.#I=c,this.#C=null}catch(j){this.#C=j}this.#C&&(p=this.#C,c=this.#I,h=Date.now(),m="error");const g="fetching"===d.fetchStatus,y="pending"===m,x="error"===m,b=y&&g,v=void 0!==c,k={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:"success"===m,isError:x,isInitialLoading:b,isLoading:b,data:c,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:h,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>i.dataUpdateCount||d.errorUpdateCount>i.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:x&&!v,isPaused:"paused"===d.fetchStatus,isPlaceholderData:u,isRefetchError:x&&v,isStale:ti(e,t),refetch:this.refetch,promise:this.#_,isEnabled:!1!==Dt(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===k.status?e.reject(k.error):void 0!==k.data&&e.resolve(k.data)},n=()=>{const e=this.#_=k.promise=ar();t(e)},o=this.#_;switch(o.status){case"pending":e.queryHash===r.queryHash&&t(o);break;case"fulfilled":"error"!==k.status&&k.data===o.value||n();break;case"rejected":"error"===k.status&&k.error===o.reason||n()}}return k}updateResult(){const e=this.#T,t=this.createResult(this.#N,this.options);if(this.#R=this.#N.state,this.#A=this.options,void 0!==this.#R.data&&(this.#P=this.#N),Ht(t,e))return;this.#T=t;this.#V({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"===typeof t?t():t;if("all"===r||!r&&!this.#F.size)return!0;const n=new Set(r??this.#F);return this.options.throwOnError&&n.add("error"),Object.keys(this.#T).some((t=>{const r=t;return this.#T[r]!==e[r]&&n.has(r)}))})()})}#U(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#N)return;const t=this.#N;this.#N=e,this.#E=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#B()}#V(e){tr.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#T)})),this.#l.getQueryCache().notify({query:this.#N,type:"observerResultsUpdated"})}))}};function Xs(e,t){return function(e,t){return!1!==Dt(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Zs(e,t,t.refetchOnMount)}function Zs(e,t,r){if(!1!==Dt(t.enabled,e)&&"static"!==Lt(t.staleTime,e)){const n="function"===typeof r?r(e):r;return"always"===n||!1!==n&&ti(e,t)}return!1}function ei(e,t,r,n){return(e!==t||!1===Dt(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&ti(e,r)}function ti(e,t){return!1!==Dt(t.enabled,e)&&e.isStaleByTime(Lt(t.staleTime,e))}function ri(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ni=n.createContext(ri()),oi=n.createContext(!1),ai=(oi.Provider,(e,t,r)=>t.fetchOptimistic(e).catch((()=>{r.clearReset()})));function si(e,t,r){const o=n.useContext(oi),a=n.useContext(ni),s=Pe(r),i=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=o?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"===typeof r?function(){return t(r(...arguments))}:t(r),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(i),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(i,a),(e=>{n.useEffect((()=>{e.clearReset()}),[e])})(a);const l=!s.getQueryCache().get(i.queryHash),[c]=n.useState((()=>new t(s,i))),d=c.getOptimisticResult(i),u=!o&&!1!==e.subscribed;if(n.useSyncExternalStore(n.useCallback((e=>{const t=u?c.subscribe(tr.batchCalls(e)):It;return c.updateResult(),t}),[c,u]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),n.useEffect((()=>{c.setOptions(i)}),[i,c]),((e,t)=>e?.suspense&&t.isPending)(i,d))throw ai(i,c,a);if((e=>{let{result:t,errorResetBoundary:r,throwOnError:n,query:o,suspense:a}=e;return t.isError&&!r.isReset()&&!t.isFetching&&o&&(a&&void 0===t.data||Zt(n,[t.error,o]))})({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if(s.getDefaultOptions().queries?._experimental_afterQuery?.(i,d),i.experimental_prefetchInRender&&!zt&&((e,t)=>e.isLoading&&e.isFetching&&!t)(d,o)){const e=l?ai(i,c,a):s.getQueryCache().get(i.queryHash)?.promise;e?.catch(It).finally((()=>{c.updateResult()}))}return i.notifyOnChangeProps?d:c.trackResult(d)}function ii(e,t){return si(e,Ys,t)}var li=class extends rr{#l;#T=void 0;#K;#G;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#J()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),Ht(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#K,observer:this}),t?.mutationKey&&this.options.mutationKey&&Wt(t.mutationKey)!==Wt(this.options.mutationKey)?this.reset():"pending"===this.#K?.state.status&&this.#K.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#K?.removeObserver(this)}onMutationUpdate(e){this.#J(),this.#V(e)}getCurrentResult(){return this.#T}reset(){this.#K?.removeObserver(this),this.#K=void 0,this.#J(),this.#V()}mutate(e,t){return this.#G=t,this.#K?.removeObserver(this),this.#K=this.#l.getMutationCache().build(this.#l,this.options),this.#K.addObserver(this),this.#K.execute(e)}#J(){const e=this.#K?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#T={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#V(e){tr.batch((()=>{if(this.#G&&this.hasListeners()){const t=this.#T.variables,r=this.#T.context;"success"===e?.type?(this.#G.onSuccess?.(e.data,t,r),this.#G.onSettled?.(e.data,null,t,r)):"error"===e?.type&&(this.#G.onError?.(e.error,t,r),this.#G.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach((e=>{e(this.#T)}))}))}};function ci(e,t){const r=Pe(t),[o]=n.useState((()=>new li(r,e)));n.useEffect((()=>{o.setOptions(e)}),[o,e]);const a=n.useSyncExternalStore(n.useCallback((e=>o.subscribe(tr.batchCalls(e))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),s=n.useCallback(((e,t)=>{o.mutate(e,t).catch(It)}),[o]);if(a.error&&Zt(o.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const di=e=>{if(!e)return"";const t=new Date(e),r=new Date,n=Math.floor((r-t)/864e5);if(0===n){return`Today ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}`}return 1===n?"Yesterday":n<7?`${n} days ago`:t.toLocaleDateString()},ui=e=>{if(!e)return"";const t=new Date(e),r=new Date,n=Math.floor((r-t)/864e5);if(0===n){return`Today at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}`}if(1===n){return`Yesterday at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}`}return t.toLocaleDateString()+" at "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})},pi=e=>{var t;let{task:r,onDelete:o,navigateOnClick:a=!1,variant:s="default",showActions:i=!0}=e;const l=te(),{showSuccess:c,showError:d}=Ea(),[u,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),f=(()=>{const e=Pe();return ci({mutationFn:async e=>await pa.deleteTask(e),onSuccess:(t,r)=>{e.removeQueries({queryKey:wr.tasks.detail(r)}),e.removeQueries({queryKey:wr.tasks.tree(r)}),Sr.list(),Sr.stats()},onError:e=>{console.error("Failed to delete task:",e)}})})(),g=(()=>{const e=Pe();return ci({mutationFn:async e=>await pa.post(`/tasks/${e}/complete`),onSuccess:(t,r)=>{e.setQueryData(wr.tasks.detail(r),(e=>e?{...e,status:"completed"}:e)),Sr.list(),Sr.tree(r),Sr.stats()},onError:e=>{console.error("Failed to complete task:",e)}})})(),y=(x=r.complexity_score||0)>=8?Ha:x>=5?qa:Qa;var x;const b=(e=>{switch(e){case"completed":return Va;case"in_progress":case"processing":return Ga;case"failed":case"error":return Ja;case"rejected":return Xa;default:return Ya}})(r.status),v=e=>{e.preventDefault(),e.stopPropagation(),a&&l(`/tasks/${r.task_id}`)},k=e=>e>=8?Fa.colors.error[400]:e>=5?Fa.colors.warning[400]:Fa.colors.success[400];return(0,ze.jsxs)(ks,{variant:s,hover:a,padding:"md",style:{cursor:a?"pointer":"default",position:"relative",transition:`all ${Fa.transitionDuration.normal} ${Fa.transitionTimingFunction.ease}`},onClick:v,children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:Fa.spacing[3]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsx)(y,{size:20,style:{color:k(r.complexity_score||0)}}),(0,ze.jsxs)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,fontSize:Fa.typography.fontSize.base[0],lineHeight:"1.4",margin:0},children:[r.description.split("\n")[0].substring(0,60),r.description.split("\n")[0].length>60&&"..."]})]}),(0,ze.jsx)(js,{variant:(j=r.status,{completed:"completed",in_progress:"in_progress",processing:"in_progress",pending:"pending",submitted:"pending",failed:"failed",error:"failed",rejected:"failed"}[j]||"neutral"),size:"sm",icon:b,children:(null===(t=r.status)||void 0===t?void 0:t.replace("_"," "))||"pending"})]}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.sm[0],lineHeight:"1.5",margin:`0 0 ${Fa.spacing[4]} 0`,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r.description}),"rejected"===r.status&&r.rejection_reason&&(0,ze.jsxs)("div",{style:{padding:Fa.spacing[3],backgroundColor:`${Fa.colors.error[500]}10`,border:`1px solid ${Fa.colors.error[500]}30`,borderRadius:Fa.borderRadius.md,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.error[400],margin:0,fontWeight:Fa.typography.fontWeight.medium},children:"Rejection Reason:"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.error[300],margin:`${Fa.spacing[1]} 0 0 0`,lineHeight:"1.4"},children:r.rejection_reason})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:Fa.spacing[4],flexWrap:"wrap",gap:Fa.spacing[2]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1]},children:[(0,ze.jsx)(Ga,{size:14,style:{color:Fa.colors.dark.muted}}),(0,ze.jsx)(Ms,{children:di(r.created_at)})]}),r.complexity_score&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1]},children:[(0,ze.jsx)("span",{style:{fontSize:"12px",color:k(r.complexity_score)},children:"\u25cf"}),(0,ze.jsx)(Ms,{style:{color:k(r.complexity_score)},children:r.complexity_score.toFixed(1)})]})]}),(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1]},children:(0,ze.jsxs)(Ms,{children:[r.children_count||0," subtasks"]})})]}),i&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:Fa.spacing[4],borderTop:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:(0,ze.jsx)(fs,{variant:"ghost",size:"sm",icon:ts,onClick:v,children:"View"})}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:["completed"!==r.status&&"rejected"!==r.status&&(0,ze.jsx)(fs,{variant:"success",size:"sm",loading:h,onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),"completed"!==r.status)try{m(!0),await g.mutateAsync(r.task_id),c("Task completed successfully!"),o&&o(r.task_id)}catch(t){d(t.message||"Failed to complete task")}finally{m(!1)}},disabled:u,children:"Complete"}),(0,ze.jsx)(fs,{variant:"danger",size:"sm",icon:es,loading:u,onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),window.confirm(`Are you sure you want to delete "${r.description.substring(0,50)}..."? This will also delete all subtasks.`))try{p(!0),await f.mutateAsync(r.task_id),c("Task deleted successfully"),o&&o(r.task_id)}catch(t){d(t.message||"Failed to delete task")}finally{p(!1)}},disabled:h,children:"Delete"})]})]}),(u||h)&&(0,ze.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:Fa.borderRadius.lg,zIndex:1},children:(0,ze.jsx)(Ws,{style:{color:Fa.colors.neutral[0]},children:u?"Deleting...":"Completing..."})})]});var j},hi=()=>{var e;const[t,r]=(0,n.useState)(1),[o]=(0,n.useState)(9),[a,s]=(0,n.useState)(window.innerWidth<768),{showError:i}=Ea();(0,n.useEffect)((()=>{const e=()=>s(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const{data:l,isLoading:c,error:d,isError:u}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{page:t=1,pageSize:r=10,topLevelOnly:n=!0,...o}=e;return ii({queryKey:wr.tasks.list({page:t,pageSize:r,topLevelOnly:n}),queryFn:async()=>{const e=new URLSearchParams({page:t.toString(),page_size:r.toString()});n&&e.append("top_level_only","true");const o=await pa.get(`/tasks?${e.toString()}`);if(o&&"object"===typeof o){if(o.tasks&&Array.isArray(o.tasks))return{items:o.tasks,total:o.total||o.tasks.length,page:o.page||t,pageSize:o.page_size||r,totalPages:Math.ceil((o.total||o.tasks.length)/r)};if(o.task_id)return{items:[o],total:1,page:1,pageSize:1,totalPages:1}}else if(Array.isArray(o))return{items:o,total:o.length,page:1,pageSize:o.length,totalPages:1};return{items:[],total:0,page:1,pageSize:r,totalPages:0}},...o})}({page:t,pageSize:o,topLevelOnly:!0}),{data:p,isLoading:h,error:m}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ii({queryKey:wr.tasks.stats(),queryFn:async()=>{const t=new URLSearchParams;t.append("top_level_only",e.toString());const r=await pa.get(`/tasks/stats?${t.toString()}`);return{total:r.total||0,completed:r.completed||0,inProgress:r.in_progress||0,pending:r.pending||0}},staleTime:3e4,...t})}(!0),f=e=>{r(e)};(0,n.useEffect)((()=>{var e;if(l&&t>1&&((null===(e=l.items)||void 0===e||!e.length)&&l.total>0)){const e=Math.max(t-1,1);r(e)}}),[l,t]);const g=e=>{var t,r,o,a,s,i;let{stats:l}=e;const c=(null===l||void 0===l?void 0:l.total)>0?Math.round(l.completed/l.total*100):0,[d,u]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{u(window.innerWidth<768);const e=()=>u(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,ze.jsx)(ks,{children:(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:d?"repeat(2, 1fr)":"repeat(auto-fit, minmax(100px, 1fr))",gap:d?Fa.spacing[2]:Fa.spacing[3],padding:d?Fa.spacing[2]:Fa.spacing[3],marginBottom:d?Fa.spacing[2]:Fa.spacing[4]},className:"compact-stats",children:[(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:d?(null===Fa||void 0===Fa||null===(t=Fa.typography)||void 0===t||null===(r=t.fontSize)||void 0===r||null===(o=r.sm)||void 0===o?void 0:o[0])||"0.875rem":(null===Fa||void 0===Fa||null===(a=Fa.typography)||void 0===a||null===(s=a.fontSize)||void 0===s||null===(i=s.lg)||void 0===i?void 0:i[0])||"1.125rem",fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.primary[500],margin:0},children:(null===l||void 0===l?void 0:l.total)||0}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Total"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.success[500],margin:0},children:(null===l||void 0===l?void 0:l.completed)||0}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Done"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.warning[500],margin:0},children:(null===l||void 0===l?void 0:l.inProgress)||0}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Active"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.info[500],margin:0},children:(null===l||void 0===l?void 0:l.pending)||0}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Pending"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.error[500],margin:0},children:(null===l||void 0===l?void 0:l.rejected)||0}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Rejected"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:100===c?Fa.colors.success[500]:Fa.colors.primary[400],margin:0},children:[c,"%"]}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:"Complete"})]}),(0,ze.jsx)("div",{style:{gridColumn:"1 / -1",marginTop:d?Fa.spacing[2]:Fa.spacing[1],padding:d?`0 ${Fa.spacing[1]}`:0},children:(0,ze.jsx)(Ns,{value:c,variant:100===c?"success":"primary",style:{height:d?"2px":"3px"}})})]})})};if(c||h)return(0,ze.jsx)("div",{className:"container",style:{paddingTop:Fa.spacing[6]},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50vh",flexDirection:"column",gap:Fa.spacing[4]},children:[(0,ze.jsx)("div",{style:{width:"48px",height:"48px",border:`4px solid ${Fa.colors.dark.border}`,borderTop:`4px solid ${Fa.colors.primary[500]}`,borderRadius:Fa.borderRadius.full,animation:"spin 1s linear infinite"}}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted},children:"Loading dashboard..."})]})});(u||m)&&i((null===d||void 0===d?void 0:d.message)||(null===m||void 0===m?void 0:m.message)||"Failed to load dashboard");const y=!(null!==l&&void 0!==l&&null!==(e=l.items)&&void 0!==e&&e.length);return(0,ze.jsxs)("div",{className:"container",style:{paddingTop:Fa.spacing[6]},children:[(0,ze.jsx)("header",{style:{marginBottom:a?Fa.spacing[6]:Fa.spacing[8]},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:Fa.spacing[2],flexWrap:"wrap",gap:Fa.spacing[3]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Is,{style:{margin:0,fontSize:a?Fa.typography.fontSize["2xl"][0]:void 0,color:Fa.colors.primary[500]},children:"Dashboard"}),!a&&(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,marginTop:Fa.spacing[1],margin:0},children:"Manage your AI-powered task decomposition projects"})]}),(0,ze.jsx)(Te,{to:"/tasks/create",children:(0,ze.jsx)(fs,{variant:"primary",size:a?"md":"lg",icon:Za,children:a?"New Task":"Create New Task"})})]})}),(0,ze.jsx)("section",{style:{marginBottom:Fa.spacing[8]},children:(0,ze.jsx)(g,{stats:p})}),(0,ze.jsxs)("section",{children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:Fa.spacing[6]},children:[(0,ze.jsx)(Ps,{children:"Recent Tasks"}),!y&&(0,ze.jsxs)(Ws,{style:{color:Fa.colors.dark.muted,margin:0},children:["Showing ",l.items.length," of ",l.total," tasks"]})]}),y?(0,ze.jsx)(ks,{padding:"lg",style:{textAlign:"center"},children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:Fa.spacing[8]},children:[(0,ze.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:Fa.borderRadius.full,backgroundColor:`${Fa.colors.primary[500]}20`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:Fa.spacing[4]},children:(0,ze.jsx)(ds,{size:32,style:{color:Fa.colors.primary[500]}})}),(0,ze.jsx)(Ps,{style:{marginBottom:Fa.spacing[2]},children:"Welcome to Cahoots!"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[6],maxWidth:"400px"},children:"Start your AI collaboration journey by creating your first task. Our intelligent system will help decompose complex projects into manageable subtasks."}),(0,ze.jsx)(Te,{to:"/tasks/create",children:(0,ze.jsx)(fs,{variant:"primary",size:"lg",icon:Za,children:"Create Your First Task"})})]})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{display:"grid",gridTemplateColumns:a?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:a?Fa.spacing[4]:Fa.spacing[6],marginBottom:Fa.spacing[8]},children:l.items.map((e=>(0,ze.jsx)("div",{className:"fade-in",children:(0,ze.jsx)(pi,{task:e,navigateOnClick:!0,variant:"elevated"})},e.task_id)))}),l.totalPages>1&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:Fa.spacing[2],marginTop:Fa.spacing[8]},children:[(0,ze.jsx)(fs,{variant:"secondary",size:"sm",disabled:1===t,onClick:()=>f(Math.max(t-1,1)),children:"Previous"}),(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1]},children:Array.from({length:Math.min(5,l.totalPages)},((e,r)=>{let n;return n=l.totalPages<=5||t<=3?r+1:t>=l.totalPages-2?l.totalPages-4+r:t-2+r,(0,ze.jsx)(fs,{variant:t===n?"primary":"secondary",size:"sm",onClick:()=>f(n),style:{minWidth:"40px"},children:n},n)}))}),(0,ze.jsx)(fs,{variant:"secondary",size:"sm",disabled:t===l.totalPages,onClick:()=>f(Math.min(t+1,l.totalPages)),children:"Next"})]})]})]})]})},mi=()=>{const{showNotification:e}=Ea();return{showNotification:function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log(`${r.toUpperCase()}: ${t}`),e&&e(t,r)}}},fi=e=>{let{isOpen:t,onClose:r,targetTask:o,onAddTask:a}=e;const[s,i]=(0,n.useState)({description:"",position:"after",auto_decompose:!0}),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),p=(e,t)=>{i((r=>({...r,[e]:t}))),d&&u(null)};return o?(0,ze.jsx)(ws,{isOpen:t,onClose:r,title:"Add Task to Tree",size:"md",children:(0,ze.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),s.description.trim()){c(!0),u(null);try{await a({target_task_id:o.task_id,description:s.description.trim(),position:s.position,auto_decompose:s.auto_decompose}),i({description:"",position:"after",auto_decompose:!0}),r()}catch(t){u(t.message||"Failed to add task")}finally{c(!1)}}else u("Task description is required")},children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[6],padding:Fa.spacing[1]},children:[(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],backgroundColor:"var(--color-surface)",borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",margin:0,marginBottom:Fa.spacing[2]},children:"Adding relative to:"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text)",margin:0,fontWeight:Fa.typography.fontWeight.medium},children:o.description}),(0,ze.jsx)("div",{style:{marginTop:Fa.spacing[2]},children:(0,ze.jsxs)(js,{variant:"secondary",size:"sm",children:["ID: ",o.task_id]})})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",margin:0,marginBottom:Fa.spacing[2]},children:"Task Description *"}),(0,ze.jsx)(Ts,{value:s.description,onChange:e=>p("description",e.target.value),placeholder:"Describe the new task to add...",rows:3,style:{width:"100%",fontSize:Fa.typography.fontSize.sm[0]}})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",margin:0,marginBottom:Fa.spacing[2]},children:"Position"}),(0,ze.jsxs)(Rs,{value:s.position,onChange:e=>p("position",e.target.value),style:{width:"100%"},children:[(0,ze.jsx)("option",{value:"before",children:"Before this task (as sibling)"}),(0,ze.jsx)("option",{value:"after",children:"After this task (as sibling)"}),(0,ze.jsx)("option",{value:"child",children:"As child of this task"})]}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0,marginTop:Fa.spacing[1]},children:"child"===s.position?"The new task will be added as a subtask":`The new task will be added as a sibling ${s.position} the selected task`})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:Fa.spacing[4],backgroundColor:"var(--color-surface)",borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",margin:0,marginBottom:Fa.spacing[1]},children:"Auto-decompose complex tasks"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Automatically break down the task if it appears complex"})]}),(0,ze.jsx)(As,{checked:s.auto_decompose,onChange:e=>p("auto_decompose",e)})]}),d&&(0,ze.jsx)("div",{style:{padding:Fa.spacing[3],backgroundColor:Fa.colors.error[500]+"15",border:`1px solid ${Fa.colors.error[500]}30`,borderRadius:Fa.borderRadius.md},children:(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.error[400],margin:0},children:d})}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3],paddingTop:Fa.spacing[2],borderTop:"1px solid var(--color-border)"},children:[(0,ze.jsx)(fs,{type:"button",variant:"ghost",onClick:r,disabled:l,children:"Cancel"}),(0,ze.jsx)(fs,{type:"submit",variant:"primary",loading:l,disabled:!s.description.trim(),children:l?"Adding Task...":"Add Task"})]})]})})}):null},gi=e=>{var t,r;let{node:n,level:o,expanded:a,onToggle:s,selectedNode:i,onSelect:l,expandedNodes:c,toggleNode:d,onAddTask:u}=e;const p=n.children&&n.children.length>0,h=i===n.task_id,m=e=>{switch(e){case"completed":return Fa.colors.success[500];case"in_progress":case"processing":return Fa.colors.info[500];case"error":case"failed":case"rejected":return Fa.colors.error[500];default:return Fa.colors.warning[500]}},f=(e=>{switch(e){case"completed":return Ka;case"in_progress":case"processing":return ss;case"rejected":return Xa;default:return Ga}})(n.status);return(0,ze.jsxs)("div",{style:{marginLeft:o>0?24*o+"px":0,width:o>0?`calc(100% - ${24*o}px)`:"100%",overflow:"hidden"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",padding:`${Fa.spacing[3]} ${Fa.spacing[3]}`,borderRadius:Fa.borderRadius.md,backgroundColor:h?`${Fa.colors.primary[500]}15`:"transparent",border:h?`1px solid ${Fa.colors.primary[500]}30`:"1px solid transparent",marginBottom:Fa.spacing[1],cursor:"pointer",transition:Fa.transitions.colors,minHeight:"auto",width:"100%","&:hover":{backgroundColor:`${Fa.colors.dark.surface}80`}},onClick:()=>l(h?null:n.task_id),children:[(0,ze.jsx)("div",{style:{width:"20px",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:Fa.spacing[1],flexShrink:0},children:p?(0,ze.jsx)(ys,{icon:a?cs:ls,size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),s()},title:a?"Collapse subtasks":"Expand subtasks"}):(0,ze.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:Fa.borderRadius.full,backgroundColor:m(n.status)}})}),(0,ze.jsx)("div",{style:{marginLeft:Fa.spacing[2],marginRight:Fa.spacing[3],display:"flex",alignItems:"flex-start",paddingTop:Fa.spacing[1],flexShrink:0},children:(0,ze.jsx)(f,{size:16,style:{color:m(n.status)}})}),(0,ze.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:Fa.spacing[1]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0,wordWrap:"break-word",overflowWrap:"break-word",hyphens:"auto",lineHeight:Fa.typography.lineHeight.normal},children:n.description}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2],marginTop:Fa.spacing[1]},children:[(0,ze.jsx)(js,{variant:(e=>{switch(e){case"completed":return"success";case"in_progress":case"processing":return"info";case"error":case"failed":case"rejected":return"error";default:return"warning"}})(n.status),size:"sm",children:n.status.replace("_"," ")}),p&&(0,ze.jsxs)(js,{variant:"secondary",size:"sm",children:[n.children.length," subtask",1!==n.children.length?"s":""]})]})]})]}),h&&(0,ze.jsxs)("div",{style:{marginLeft:Fa.spacing[6],marginBottom:Fa.spacing[3],padding:Fa.spacing[4],backgroundColor:Fa.colors.dark.surface,borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[1]},children:"Task ID"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontFamily:Fa.typography.fontFamily.mono.join(", "),color:Fa.colors.dark.text,margin:0},children:n.task_id})]}),n.created_at&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[1]},children:"Created"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.text,margin:0},children:new Date(n.created_at).toLocaleDateString()})]}),void 0!==n.complexity&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[1]},children:"Complexity"}),(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.text,margin:0},children:[n.complexity,"/10"]})]})]}),(null===(t=n.context)||void 0===t?void 0:t.tech_stack)&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[2]},children:"Tech Stack"}),(0,ze.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:Fa.spacing[2],marginBottom:Fa.spacing[3]},children:[n.context.tech_stack.frontend&&(0,ze.jsxs)(js,{variant:"info",size:"sm",children:["Frontend: ","object"===typeof n.context.tech_stack.frontend?n.context.tech_stack.frontend.framework||JSON.stringify(n.context.tech_stack.frontend):n.context.tech_stack.frontend]}),n.context.tech_stack.backend&&(0,ze.jsxs)(js,{variant:"info",size:"sm",children:["Backend: ","object"===typeof n.context.tech_stack.backend?n.context.tech_stack.backend.framework||n.context.tech_stack.backend.language||JSON.stringify(n.context.tech_stack.backend):n.context.tech_stack.backend]}),n.context.tech_stack.database&&(0,ze.jsxs)(js,{variant:"info",size:"sm",children:["Database: ","object"===typeof n.context.tech_stack.database?JSON.stringify(n.context.tech_stack.database):n.context.tech_stack.database]}),n.context.tech_stack.deployment&&(0,ze.jsxs)(js,{variant:"info",size:"sm",children:["Deploy: ","object"===typeof n.context.tech_stack.deployment?JSON.stringify(n.context.tech_stack.deployment):n.context.tech_stack.deployment]})]}),n.context.tech_stack.description&&(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,lineHeight:Fa.typography.lineHeight.relaxed,margin:0},children:n.context.tech_stack.description})]}),(null===(r=n.context)||void 0===r?void 0:r.best_practices)&&n.context.best_practices.length>0&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[2]},children:"Best Practices"}),(0,ze.jsx)("ul",{style:{margin:0,paddingLeft:Fa.spacing[4],fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,lineHeight:Fa.typography.lineHeight.relaxed},children:n.context.best_practices.map(((e,t)=>(0,ze.jsx)("li",{style:{marginBottom:Fa.spacing[1]},children:e},t)))})]}),n.additional_context&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[2]},children:"Additional Context"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,lineHeight:Fa.typography.lineHeight.relaxed,margin:0},children:n.additional_context})]}),u&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[4],paddingTop:Fa.spacing[4],borderTop:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[3]},children:"Actions"}),(0,ze.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:Fa.spacing[2]},children:(0,ze.jsx)(fs,{variant:"ghost",size:"sm",icon:Za,onClick:e=>{e.stopPropagation(),u(n)},children:"Add Task"})})]})]}),p&&a&&(0,ze.jsx)("div",{style:{marginTop:Fa.spacing[1]},children:n.children.map((e=>(0,ze.jsx)(gi,{node:e,level:o+1,expanded:(null===c||void 0===c?void 0:c.has(e.task_id))||!1,onToggle:()=>d?d(e.task_id):()=>{},selectedNode:i,onSelect:l,expandedNodes:c,toggleNode:d,onAddTask:u},e.task_id)))})]})},yi=e=>{let{taskTree:t,onTaskSelect:r,onRefreshTree:o}=e;const[a,s]=(0,n.useState)((()=>{if(!t)return new Set;const e=new Set,r=t=>{e.add(t.task_id),t.children&&t.children.forEach(r)};return r(t),e})),[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(t&&0===a.size){const e=new Set,r=t=>{e.add(t.task_id),t.children&&t.children.forEach(r)};r(t),s(e)}}),[t,a.size]);const h=e=>{const t=new Set(a);t.has(e)?t.delete(e):t.add(e),s(t)},m=(0,n.useMemo)((()=>{if(!t)return{total:0,completed:0,pending:0,inProgress:0,rejected:0};const e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{total:0,completed:0,pending:0,inProgress:0,rejected:0};switch(r.total++,t.status){case"completed":r.completed++;break;case"in_progress":case"processing":r.inProgress++;break;case"rejected":r.rejected++;break;default:r.pending++}return t.children&&t.children.forEach((t=>e(t,r))),r};return e(t)}),[t]);return t?(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[4]},children:[(0,ze.jsx)(ks,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text,margin:0},children:"Task Tree"}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsxs)(js,{variant:"secondary",size:"sm",children:[m.total," tasks"]}),m.completed>0&&(0,ze.jsxs)(js,{variant:"success",size:"sm",children:[m.completed," completed"]}),m.inProgress>0&&(0,ze.jsxs)(js,{variant:"info",size:"sm",children:[m.inProgress," in progress"]}),m.pending>0&&(0,ze.jsxs)(js,{variant:"warning",size:"sm",children:[m.pending," pending"]}),m.rejected>0&&(0,ze.jsxs)(js,{variant:"error",size:"sm",children:[m.rejected," rejected"]})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsx)(fs,{variant:"ghost",size:"sm",onClick:()=>{const e=new Set,r=t=>{e.add(t.task_id),t.children&&t.children.forEach(r)};t&&r(t),s(e)},children:"Expand All"}),(0,ze.jsx)(fs,{variant:"ghost",size:"sm",onClick:()=>{s(new Set)},children:"Collapse All"})]})]})}),(0,ze.jsx)(ks,{children:(0,ze.jsx)("div",{style:{padding:Fa.spacing[2],overflow:"hidden",width:"100%"},children:(0,ze.jsx)(gi,{node:t,level:0,expanded:a.has(t.task_id),onToggle:()=>h(t.task_id),selectedNode:i,onSelect:e=>{if(l(e),r){const n=t=>{if(t.task_id===e)return t;if(t.children)for(const e of t.children){const t=n(e);if(t)return t}return null},o=e?n(t):null;r(o)}},expandedNodes:a,toggleNode:h,onAddTask:e=>{p(e),d(!0)}})})}),(0,ze.jsx)(fi,{isOpen:c,onClose:()=>{d(!1),p(null)},targetTask:u,onAddTask:async e=>{try{const t=await fetch(`/api/tasks/${e.target_task_id}/add-task`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")||"dev-bypass-token"}`},body:JSON.stringify({description:e.description,target_task_id:e.target_task_id,position:e.position,auto_decompose:e.auto_decompose})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Failed to add task")}const r=await t.json();return console.log("Task added successfully:",r),o&&await o(),r}catch(t){throw console.error("Error adding task:",t),t}}})]}):(0,ze.jsx)(ks,{children:(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:Fa.spacing[12],textAlign:"center"},children:(0,ze.jsxs)("div",{children:[(0,ze.jsx)(us,{size:48,style:{color:Fa.colors.dark.border,marginBottom:Fa.spacing[4]}}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.lg[0]},children:"No task tree available"})]})})})},xi=e=>{let{taskId:t,isDecomposing:r,onDecompositionComplete:o}=e;const{connected:a,subscribe:s}=za(),[i,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)(0),[h,m]=(0,n.useState)(null),f={source:"Source Processing",context_fetch:"Context Analysis",complexity_scorer:"Complexity Analysis",root_processor:"Technical Planning",decomposer:"Task Decomposition",composer:"Final Composition"},g=e=>({source:10,context_fetch:25,complexity_scorer:40,root_processor:55,decomposer:75,composer:90}[e]||0),y=e=>{var r;switch(e.type){case"service.status":if(e.task_id===t){const{stage:t,status:r,message:n,timestamp:o}=e,a=f[t]||t;if(d(n),"started"===r){p(g(t));i.findIndex((e=>e.id.startsWith(t)))>=0?b(a,"in_progress",n):x(a,"in_progress",n)}else"processing"===r?(d(n),v(a,n)):"completed"===r?(b(a,"completed",n),p(g(t)+10)):"error"===r&&(b(a,"error",n),m(n))}break;case"task.updated":e.task_id===t&&"completed"===(null===(r=e.task)||void 0===r?void 0:r.status)&&(d("Task processing completed successfully!"),p(100),setTimeout((()=>{o&&o()}),2e3));break;case"task.decomposed":e.task_id===t&&(d("Task decomposed into subtasks successfully!"),p(100),setTimeout((()=>{o&&o()}),2e3))}};(0,n.useEffect)((()=>{if(t&&a){return s((e=>{var r;e.task_id!==t&&(null===(r=e.task)||void 0===r?void 0:r.parent_id)!==t||y(e)}))}}),[t,a,s,y]),(0,n.useEffect)((()=>{if(r&&0===u&&0===i.length){const e=setTimeout((()=>{0===u&&(d("AI is analyzing your task..."),p(15),x("Task Analysis","in_progress","Breaking down the task requirements"))}),5e3);return()=>clearTimeout(e)}}),[r,u,i.length]);const x=(e,t,r)=>{l((n=>[...n,{id:e.toLowerCase().replace(/\s+/g,"-"),title:e,status:t,description:r,timestamp:(new Date).toLocaleTimeString()}]))},b=(e,t,r)=>{l((n=>n.map((n=>n.title===e?{...n,status:t,description:r||n.description,timestamp:(new Date).toLocaleTimeString()}:n))))},v=(e,t)=>{l((r=>r.map((r=>r.title===e?{...r,description:t}:r))))},k=e=>{switch(e){case"completed":return Fa.colors.success[500];case"in_progress":return Fa.colors.primary[500];case"error":return Fa.colors.error[500];default:return Fa.colors.dark.muted}};if(!r&&!h)return null;const j=r&&0===i.length&&!c;return(0,ze.jsx)(ks,{children:(0,ze.jsxs)("div",{style:{padding:Fa.spacing[1]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3]},children:[r&&(0,ze.jsx)(Ss,{size:"sm"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text,margin:0},children:r?"Decomposing Task":"Decomposition Complete"})]}),(0,ze.jsx)(js,{variant:h?"danger":r?"info":"success",children:h?"Failed":r?"Running":"Complete"})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,margin:0,marginBottom:Fa.spacing[2]},children:j?"Waiting for AI to start decomposition...":c}),(0,ze.jsx)(Ns,{value:j?10:u,variant:j?"info":h?"error":"primary"}),j&&(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0,marginTop:Fa.spacing[1],fontStyle:"italic"},children:"The AI is analyzing your task and will start creating subtasks shortly..."})]}),h&&(0,ze.jsx)("div",{style:{padding:Fa.spacing[3],backgroundColor:`${Fa.colors.error[500]}10`,border:`1px solid ${Fa.colors.error[500]}30`,borderRadius:Fa.borderRadius.md,marginBottom:Fa.spacing[4]},children:(0,ze.jsx)(Ws,{style:{color:Fa.colors.error[500],fontSize:Fa.typography.fontSize.sm[0],margin:0},children:h})}),i.length>0&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text,margin:0,marginBottom:Fa.spacing[3]},children:"Process Steps"}),(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[2]},children:i.map(((e,t)=>{const r=(e=>{switch(e){case"completed":return Ka;case"in_progress":return ps;case"error":return Ja;default:return Ga}})(e.status);return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:Fa.spacing[3],backgroundColor:Fa.colors.dark.surface,borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",marginRight:Fa.spacing[3]},children:"in_progress"===e.status?(0,ze.jsx)(Ss,{size:"xs"}):(0,ze.jsx)(r,{size:16,style:{color:k(e.status)}})}),(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:Fa.spacing[1]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0},children:e.title}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:e.timestamp})]}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0},children:e.description})]})]},e.id)}))})]})]})})},bi=e=>{var t,r,o,a,s;let{isOpen:i,onClose:l,task:c,onApprove:d,onReject:u,isProcessing:p=!1}=e;const[h,m]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),[y,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),k=()=>{m(""),g(""),x(!1),l()};return c&&i?(0,ze.jsx)("div",{className:"approval-modal-overlay",children:(0,ze.jsxs)("div",{className:"approval-modal-container",children:[(0,ze.jsxs)("div",{className:"approval-modal-header",children:[(0,ze.jsx)("h2",{children:"Decomposition Approval Review"}),(0,ze.jsx)("span",{className:"approval-status-badge",children:"Awaiting Approval"}),(0,ze.jsx)("button",{className:"approval-modal-close",onClick:k,disabled:b,children:"\xd7"})]}),(0,ze.jsxs)("div",{className:"approval-modal-body",children:[(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsx)("h3",{children:"Original Task:"}),(0,ze.jsxs)("div",{className:"approval-task-description",children:[(0,ze.jsx)("h4",{children:(null===(t=c.parent_task)||void 0===t?void 0:t.title)||"Task"}),(0,ze.jsx)("p",{children:(null===(r=c.parent_task)||void 0===r?void 0:r.description)||"No description available"})]})]}),(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsxs)("h3",{children:["Proposed Subtasks (",(null===(o=c.proposed_subtasks)||void 0===o?void 0:o.length)||0,"):"]}),(0,ze.jsx)("div",{className:"approval-subtasks-list",children:(null===(a=c.proposed_subtasks)||void 0===a?void 0:a.map(((e,t)=>(0,ze.jsxs)("div",{className:"subtask-item",children:[(0,ze.jsxs)("div",{className:"subtask-header",children:[(0,ze.jsxs)("span",{className:"subtask-number",children:[t+1,"."]}),(0,ze.jsx)("h5",{className:"subtask-title",children:e.title||`Subtask ${t+1}`})]}),(0,ze.jsx)("div",{className:"subtask-description",children:e.description||"No description provided"}),e.story_points&&(0,ze.jsxs)("div",{className:"subtask-story-points",children:["Story Points: ",e.story_points]})]},t))))||(0,ze.jsx)("p",{children:"No subtasks available"})})]}),c.implementation_details&&(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsx)("h3",{children:"Implementation Approach:"}),(0,ze.jsx)("div",{className:"approval-implementation-details",children:c.implementation_details})]}),(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsx)("h3",{children:"Summary:"}),(0,ze.jsxs)("div",{className:"approval-task-details",children:[(0,ze.jsxs)("div",{className:"detail-row",children:[(0,ze.jsx)("span",{className:"detail-label",children:"Task ID:"}),(0,ze.jsx)("span",{className:"detail-value",children:c.task_id})]}),c.story_points>0&&(0,ze.jsxs)("div",{className:"detail-row",children:[(0,ze.jsx)("span",{className:"detail-label",children:"Total Story Points:"}),(0,ze.jsx)("span",{className:"detail-value",children:c.story_points})]}),(0,ze.jsxs)("div",{className:"detail-row",children:[(0,ze.jsx)("span",{className:"detail-label",children:"Number of Subtasks:"}),(0,ze.jsx)("span",{className:"detail-value",children:(null===(s=c.proposed_subtasks)||void 0===s?void 0:s.length)||0})]})]})]}),(0,ze.jsx)("div",{className:"approval-divider"}),(0,ze.jsxs)("div",{className:"approval-instructions",children:[(0,ze.jsx)("h3",{children:"Review Instructions"}),(0,ze.jsx)("p",{children:"Please review this task carefully. You can approve it to continue decomposition, or reject it with feedback. If rejecting, you can optionally provide a new description to resubmit the task."})]}),(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsx)("label",{htmlFor:"rejection-reason",children:"Rejection Reason (if rejecting):"}),(0,ze.jsx)("textarea",{id:"rejection-reason",value:h,onChange:e=>m(e.target.value),placeholder:"Explain why this task needs revision...",rows:3,disabled:b})]}),(0,ze.jsxs)("div",{className:"approval-section",children:[(0,ze.jsxs)("label",{className:"approval-checkbox",children:[(0,ze.jsx)("input",{type:"checkbox",checked:y,onChange:e=>x(e.target.checked),disabled:b}),"Provide new description for resubmission"]}),y&&(0,ze.jsxs)("div",{className:"approval-new-description",children:[(0,ze.jsx)("label",{htmlFor:"new-description",children:"New Task Description:"}),(0,ze.jsx)("textarea",{id:"new-description",value:f,onChange:e=>g(e.target.value),placeholder:"Enter the revised task description...",rows:4,disabled:b})]})]}),(0,ze.jsx)("div",{className:"approval-divider"}),(0,ze.jsxs)("div",{className:"approval-actions",children:[(0,ze.jsx)("button",{className:"approval-btn approval-btn-cancel",onClick:k,disabled:b,children:"Cancel"}),(0,ze.jsx)("button",{className:"approval-btn approval-btn-reject",onClick:async()=>{if(h.trim())if(!y||f.trim()){v(!0);try{await u(c.task_id,{reason:h,new_description:y?f:null}),l()}catch(e){console.error("Failed to reject task:",e)}finally{v(!1)}}else alert("Please provide a new description for resubmission or uncheck the option.");else alert("Please provide a reason for rejecting this task.")},disabled:b||!h.trim()||y&&!f.trim(),children:b?"Rejecting...":"Reject"}),(0,ze.jsx)("button",{className:"approval-btn approval-btn-approve",onClick:async()=>{v(!0);try{await d(c.task_id),l()}catch(e){console.error("Failed to approve task:",e)}finally{v(!1)}},disabled:b,children:b?"Approving...":"Approve"})]})]})]})}):null},vi=e=>{let{refreshTrigger:t=0,parentTaskId:r}=e;console.log("DEBUG: PendingApprovalsPanel mounted with parentTaskId:",r);const[o,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(new Set),m=(0,n.useRef)(null),f=(0,n.useRef)(null),[g,y]=(0,n.useState)(!1),x=(0,n.useRef)(null),b=(0,n.useCallback)((()=>{const e="https:"===window.location.protocol?"wss:":"ws:",t=window.location.hostname;if("https:"===window.location.protocol)return`${e}//${t}/ws/global`;return`${e}//${t}:${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL&&new URL({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL).port||"8080"}/ws/global`}),[]),v=(0,n.useCallback)((e=>{try{const t=JSON.parse(e.data);console.log("Approval panel received WebSocket message:",t),"task.updated"===t.type&&"awaiting_approval"===t.status&&(console.log("Task requires approval, refreshing pending tasks list"),x.current&&x.current()),"task.updated"!==t.type||"approved"!==t.status&&"rejected"!==t.status&&"processing"!==t.status||(console.log("Task approval status changed, refreshing pending tasks list"),x.current&&x.current())}catch(t){console.error("Error parsing WebSocket message:",t)}}),[]),k=(0,n.useCallback)((()=>{var e;if((null===(e=m.current)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN)try{const e=b();console.log("Connecting to approval WebSocket:",e),m.current=new WebSocket(e),m.current.onopen=()=>{console.log("Approval WebSocket connected"),y(!0),f.current&&(clearTimeout(f.current),f.current=null)},m.current.onmessage=v,m.current.onclose=e=>{console.log("Approval WebSocket disconnected:",e.code,e.reason),y(!1),1e3!==e.code&&(f.current=setTimeout((()=>{console.log("Attempting to reconnect approval WebSocket..."),k()}),3e3))},m.current.onerror=e=>{console.error("Approval WebSocket error:",e),y(!1)}}catch(t){console.error("Error creating approval WebSocket connection:",t)}}),[b,v]);(0,n.useEffect)((()=>()=>{f.current&&clearTimeout(f.current),m.current&&m.current.close(1e3,"Component unmounting")}),[]),(0,n.useEffect)((()=>{k()}),[k]);const j=(0,n.useCallback)((async()=>{try{i(!0);const e=r?`/tasks/pending-approval?parent_task_id=${r}`:"/tasks/pending-approval";console.log("DEBUG: PendingApprovalsPanel fetching from URL:",e),console.log("DEBUG: parentTaskId:",r);const t=await pa.get(e);console.log("DEBUG: PendingApprovalsPanel response:",t),a(t.tasks||[]),console.log("DEBUG: Set pending tasks:",t.tasks||[])}catch(e){console.error("Error fetching pending approval tasks:",e),a([])}finally{i(!1)}}),[r]);(0,n.useEffect)((()=>{x.current=j}),[j]),(0,n.useEffect)((()=>{j()}),[t]);const w=e=>{if(!e)return"Unknown";try{const t=new Date(e),r=new Date-t,n=Math.floor(r/6e4),o=Math.floor(r/36e5),a=Math.floor(r/864e5);return n<60?`${n} min${1!==n?"s":""} ago`:o<24?`${o} hour${1!==o?"s":""} ago`:`${a} day${1!==a?"s":""} ago`}catch(t){return"Unknown"}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return e?e.length>t?e.substring(0,t)+"...":e:""};return s?(0,ze.jsxs)("div",{className:"pending-approvals-loading",children:[(0,ze.jsx)("div",{className:"spinner"}),(0,ze.jsx)("p",{children:"Loading pending approvals..."})]}):0===o.length?null:(0,ze.jsxs)(ks,{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{className:"pending-approvals-panel",style:{padding:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{className:"pending-approvals-header",style:{display:"flex",alignItems:"center",gap:Fa.spacing[3],marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)("h2",{style:{margin:0,fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text},children:"Pending Approvals"}),(0,ze.jsx)("span",{style:{background:`${Fa.colors.error[500]}20`,color:Fa.colors.error[500],padding:"4px 8px",borderRadius:Fa.borderRadius.xl,fontSize:Fa.typography.fontSize.xs[0],fontWeight:Fa.typography.fontWeight.semibold,minWidth:"20px",textAlign:"center"},children:o.length}),(0,ze.jsx)("button",{style:{background:"none",border:`1px solid ${Fa.colors.dark.border}`,color:Fa.colors.dark.muted,padding:"4px 8px",borderRadius:Fa.borderRadius.base,cursor:"pointer",transition:Fa.transitions.colors,opacity:s?.5:1},onClick:j,disabled:s,title:"Refresh pending approvals",children:"\u21bb"})]}),(0,ze.jsx)("div",{className:"pending-tasks-list",style:{display:"flex",flexDirection:"column",gap:Fa.spacing[4]},children:o.map((e=>(0,ze.jsxs)("div",{style:{border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.lg,padding:Fa.spacing[4],backgroundColor:Fa.colors.dark.surface,opacity:p.has(e.task_id)?.6:1,transition:Fa.transitions.all},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Fa.spacing[3]},children:[(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[2],flexWrap:"wrap"},children:[(0,ze.jsx)("span",{style:{background:`${Fa.colors.warning[500]}20`,color:Fa.colors.warning[500],padding:"4px 8px",borderRadius:Fa.borderRadius.base,fontSize:Fa.typography.fontSize.xs[0],fontWeight:Fa.typography.fontWeight.medium},children:"Decomposition Awaiting Approval"}),e.story_points>0&&(0,ze.jsxs)("span",{style:{background:`${Fa.colors.info[500]}20`,color:Fa.colors.info[500],padding:"4px 8px",borderRadius:Fa.borderRadius.base,fontSize:Fa.typography.fontSize.xs[0],fontWeight:Fa.typography.fontWeight.medium},children:[e.story_points," points"]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[1],color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.xs[0]},children:[(0,ze.jsx)("span",{children:"\ud83d\udd52"}),(0,ze.jsx)("span",{children:w(e.created_at)})]})]}),(0,ze.jsxs)("div",{className:"task-card-body",children:[(0,ze.jsxs)("div",{className:"task-description-section",children:[(0,ze.jsx)("h4",{children:"Original Task:"}),(0,ze.jsx)("h5",{style:{color:"#FFFFFF",fontSize:"16px",margin:"4px 0"},children:e.parent_task.title||"Task"}),(0,ze.jsx)("p",{style:{color:"#A3A3A3"},children:S(e.parent_task.description)})]}),(0,ze.jsxs)("div",{className:"proposed-subtasks-section",style:{marginTop:"16px"},children:[(0,ze.jsxs)("h4",{style:{color:"#FFFFFF"},children:["Proposed Subtasks (",e.proposed_subtasks.length,"):"]}),(0,ze.jsxs)("div",{className:"subtasks-preview",style:{marginTop:"8px"},children:[e.proposed_subtasks.slice(0,3).map(((e,t)=>(0,ze.jsxs)("div",{className:"subtask-preview-item",style:{display:"flex",marginBottom:"6px",color:"#A3A3A3",fontSize:"14px"},children:[(0,ze.jsxs)("span",{style:{color:"#FF8C1A",marginRight:"8px",fontWeight:"bold"},children:[t+1,"."]}),(0,ze.jsx)("span",{children:S(e.description||e.title||"Untitled subtask",80)})]},t))),e.proposed_subtasks.length>3&&(0,ze.jsxs)("div",{style:{color:"#737373",fontSize:"12px",fontStyle:"italic",marginTop:"4px"},children:["... and ",e.proposed_subtasks.length-3," more subtasks"]})]})]}),e.implementation_details&&(0,ze.jsxs)("div",{className:"implementation-details-section",style:{marginTop:"16px"},children:[(0,ze.jsx)("h4",{style:{color:"#FFFFFF"},children:"Implementation Approach:"}),(0,ze.jsx)("p",{style:{color:"#A3A3A3"},children:S(e.implementation_details)})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:Fa.spacing[4],paddingTop:Fa.spacing[3],borderTop:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsxs)("span",{style:{color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.xs[0]},children:["ID: ",e.task_id.substring(0,8),"..."]}),(0,ze.jsx)("button",{style:{background:Fa.colors.primary[500],color:Fa.colors.neutral[0],border:"none",padding:`${Fa.spacing[2]} ${Fa.spacing[4]}`,borderRadius:Fa.borderRadius.base,fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,cursor:"pointer",transition:Fa.transitions.all,opacity:p.has(e.task_id)?.5:1,pointerEvents:p.has(e.task_id)?"none":"auto"},onClick:()=>(c(e),void u(!0)),disabled:p.has(e.task_id),onMouseEnter:t=>!p.has(e.task_id)&&(t.target.style.background=Fa.colors.primary[600]),onMouseLeave:t=>!p.has(e.task_id)&&(t.target.style.background=Fa.colors.primary[500]),title:"Review and approve/reject the proposed task decomposition",children:"\ud83d\udc41 Review Decomposition"})]})]})]},e.task_id)))})]}),(0,ze.jsx)(bi,{isOpen:d,onClose:()=>{c(null),u(!1)},task:l,onApprove:async e=>{try{await pa.post(`/tasks/${e}/approve`),h((t=>new Set([...t,e]))),await j()}catch(t){throw console.error("Error approving task:",t),t}},onReject:async(e,t)=>{try{await pa.post(`/tasks/${e}/reject`,t),h((t=>new Set([...t,e]))),await j()}catch(r){throw console.error("Error rejecting task:",r),r}}})]})},ki="NETWORK_ERROR",ji="AUTH_ERROR",wi="PERMISSION_ERROR",Si="VALIDATION_ERROR",Ci="NOT_FOUND",_i="SERVER_ERROR",Ni="UNKNOWN_ERROR",Ei=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{showAlert:r=!0,customMessages:n={},onAuthError:o=null,onValidationError:a=null}=t,s=(e=>{if(!e.response)return{type:ki,message:"Network connection failed. Please check your internet connection.",details:e.message,status:null};const{status:t,data:r}=e.response;let n=Ni,o="An unexpected error occurred. Please try again.";switch(t){case 400:n=Si,o=(null===r||void 0===r?void 0:r.detail)||"Invalid request. Please check your input.";break;case 401:n=ji,o="Authentication required. Please log in again.";break;case 403:n=wi,o="You do not have permission to perform this action.";break;case 404:n=Ci,o=(null===r||void 0===r?void 0:r.detail)||"The requested resource was not found.";break;case 422:n=Si,o=(null===r||void 0===r?void 0:r.detail)||"Validation failed. Please check your input.";break;case 500:n=_i,o="Server error. Please try again later.";break;default:t>=500&&(n=_i,o="Server error. Please try again later.")}return{type:n,message:o,details:(null===r||void 0===r?void 0:r.detail)||(null===r||void 0===r?void 0:r.message),status:t,validationErrors:(null===r||void 0===r?void 0:r.errors)||null}})(e),i=n[s.type]||s.message;switch(console.error("API Error:",{type:s.type,status:s.status,message:s.message,details:s.details,originalError:e}),s.type){case ji:o?o(s):(localStorage.removeItem("token"),localStorage.removeItem("user"),"/login"!==window.location.pathname&&(window.location.href="/login"));break;case Si:a&&a(s)}return r&&s.type!==ji&&console.error("User Error:",i),s},Ti=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return{data:(await e()).data,error:null}}catch(r){return{data:null,error:Ei(r,t)}}},Ri=e=>{let{isOpen:t,onClose:r,exportId:o,onSuccess:a,onError:s}=e;const[i,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)("Initializing export..."),[h,m]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),[y,x]=(0,n.useState)(""),[b,v]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(!t)return;if(!o)return void p("Initializing export...");l(0),d(""),p("Connecting to export service..."),m(!1),g(!1),x(""),v(null);const e="https:"===window.location.protocol?"wss:":"ws:",r=window.location.host,n=new WebSocket(`${e}//${r}/ws/jira-export/${o}`);return n.onopen=()=>{console.log("WebSocket connected for JIRA export progress"),p("Connected to export service...")},n.onmessage=e=>{try{const t=JSON.parse(e.data);if(console.log("WebSocket message received:",t),"connection_established"===t.type)p("Export service connected, starting export...");else if("jira.export.progress"===t.type){const{step:e,progress:r,message:n}=t.payload;d(e),l(r),p(n),"completion"===e&&100===r&&m(!0)}else"jira.export.success"===t.type?(v(t.payload),m(!0),l(100),p("Export completed successfully!"),a&&setTimeout((()=>a(t.payload)),1e3)):"jira.export.error"===t.type&&(g(!0),x(t.payload.message||"Export failed"),s&&s(t.payload))}catch(t){console.error("Error parsing WebSocket message:",t)}},n.onerror=e=>{console.error("WebSocket error:",e),g(!0),x("Connection error during export")},n.onclose=()=>{console.log("WebSocket connection closed")},()=>{n.readyState===WebSocket.OPEN&&n.close()}}),[t,o,a,s]);return t?(0,ze.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,ze.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-lg mx-4",children:[(0,ze.jsx)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ze.jsx)("h2",{className:"text-lg font-medium",children:"JIRA Export Progress"}),(0,ze.jsx)("span",{className:"text-2xl",children:(e=>{if(f)return"\u274c";if(h)return"\u2705";switch(e){case"project_creation":return"\ud83c\udfd7\ufe0f";case"issue_creation":return"\ud83d\udccb";case"label_update":return"\ud83c\udff7\ufe0f";case"completion":return"\ud83c\udf89";default:return"\u2699\ufe0f"}})(c)})]})}),(0,ze.jsx)("div",{className:"p-6",children:(0,ze.jsxs)("div",{className:"space-y-6",children:[f?(0,ze.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex",children:[(0,ze.jsx)("div",{className:"flex-shrink-0",children:(0,ze.jsx)("span",{className:"text-red-400",children:"\u274c"})}),(0,ze.jsxs)("div",{className:"ml-3",children:[(0,ze.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Export Failed"}),(0,ze.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:y})]})]})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ze.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(e=>{switch(e){case"project_creation":return"Creating JIRA Project";case"issue_creation":return"Creating Issues";case"label_update":return"Updating Labels";case"completion":return"Finalizing Export";default:return"Processing"}})(c)}),(0,ze.jsxs)("span",{className:"text-sm text-gray-500",children:[i,"%"]})]}),(0,ze.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,ze.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 "+(h?"bg-green-500":"bg-blue-500"),style:{width:`${i}%`}})})]}),(0,ze.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[!h&&!f&&(0,ze.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,ze.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:u})]})}),h&&b&&(0,ze.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex",children:[(0,ze.jsx)("div",{className:"flex-shrink-0",children:(0,ze.jsx)("span",{className:"text-green-400",children:"\u2705"})}),(0,ze.jsxs)("div",{className:"ml-3",children:[(0,ze.jsx)("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Export Completed!"}),(0,ze.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:["Created ",b.issues_created," issues in project ",b.project_key]})]})]})})]}),(0,ze.jsxs)("div",{className:"flex justify-end space-x-3",children:[h&&(null===b||void 0===b?void 0:b.project_url)&&(0,ze.jsx)("a",{href:b.project_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Open JIRA Project"}),(0,ze.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm rounded-md "+(h||f?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-500 cursor-not-allowed"),disabled:!h&&!f,children:h||f?"Close":"Cancel"})]})]})})]})}):null},Ai=e=>{let{isOpen:t,onClose:r,exportId:o,onSuccess:a,onError:s}=e;const[i,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)("Initializing export..."),[h,m]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),[y,x]=(0,n.useState)(""),[b,v]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(!t)return;if(!o)return void p("Initializing export...");l(0),d(""),p("Connecting to export service..."),m(!1),g(!1),x(""),v(null);const e="https:"===window.location.protocol?"wss:":"ws:",r=window.location.host,n=new WebSocket(`${e}//${r}/ws/trello-export/${o}`);return n.onopen=()=>{console.log("WebSocket connected for Trello export progress"),p("Connected to export service...")},n.onmessage=e=>{try{const t=JSON.parse(e.data);if(console.log("WebSocket message received:",t),"connection_established"===t.type)p("Export service connected, starting export...");else if("trello.export.progress"===t.type){const{step:e,progress:r,message:n}=t.payload;d(e),l(r),p(n),"completion"===e&&100===r&&m(!0)}else"trello.export.success"===t.type?(v(t.payload),m(!0),l(100),p("Export completed successfully!"),a&&setTimeout((()=>a(t.payload)),1e3)):"trello.export.error"===t.type&&(g(!0),x(t.payload.message||"Export failed"),s&&s(t.payload))}catch(t){console.error("Error parsing WebSocket message:",t)}},n.onerror=e=>{console.error("WebSocket error:",e),g(!0),x("Connection error during export")},n.onclose=()=>{console.log("WebSocket connection closed")},()=>{n.readyState===WebSocket.OPEN&&n.close()}}),[t,o,a,s]);return t?(0,ze.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,ze.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-lg mx-4",children:[(0,ze.jsx)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ze.jsx)("h2",{className:"text-lg font-medium",children:"Trello Export Progress"}),(0,ze.jsx)("span",{className:"text-2xl",children:(e=>{if(f)return"\u274c";if(h)return"\u2705";switch(e){case"board_creation":return"\ud83d\udccb";case"list_creation":return"\ud83d\udcdd";case"card_creation":return"\ud83c\udccf";case"label_creation":return"\ud83c\udff7\ufe0f";case"completion":return"\ud83c\udf89";default:return"\u2699\ufe0f"}})(c)})]})}),(0,ze.jsx)("div",{className:"p-6",children:(0,ze.jsxs)("div",{className:"space-y-6",children:[f?(0,ze.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex",children:[(0,ze.jsx)("div",{className:"flex-shrink-0",children:(0,ze.jsx)("span",{className:"text-red-400",children:"\u274c"})}),(0,ze.jsxs)("div",{className:"ml-3",children:[(0,ze.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Export Failed"}),(0,ze.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:y})]})]})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ze.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:(e=>{switch(e){case"board_creation":return"Creating Trello Board";case"list_creation":return"Creating Lists";case"card_creation":return"Creating Cards";case"label_creation":return"Creating Labels";case"completion":return"Finalizing Export";default:return"Processing"}})(c)}),(0,ze.jsxs)("span",{className:"text-sm text-gray-500",children:[i,"%"]})]}),(0,ze.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,ze.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 "+(h?"bg-green-500":"bg-blue-500"),style:{width:`${i}%`}})})]}),(0,ze.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex items-center space-x-3",children:[!h&&!f&&(0,ze.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,ze.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:u})]})}),h&&b&&(0,ze.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 rounded-md",children:(0,ze.jsxs)("div",{className:"flex",children:[(0,ze.jsx)("div",{className:"flex-shrink-0",children:(0,ze.jsx)("span",{className:"text-green-400",children:"\u2705"})}),(0,ze.jsxs)("div",{className:"ml-3",children:[(0,ze.jsx)("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Export Completed!"}),(0,ze.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:["Created ",b.cards_created,' cards in board "',b.board_name,'"']})]})]})})]}),(0,ze.jsxs)("div",{className:"flex justify-end space-x-3",children:[h&&(null===b||void 0===b?void 0:b.board_url)&&(0,ze.jsx)("a",{href:b.board_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Open Trello Board"}),(0,ze.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm rounded-md "+(h||f?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-gray-100 dark:bg-gray-800 text-gray-500 cursor-not-allowed"),disabled:!h&&!f,children:h||f?"Close":"Cancel"})]})]})})]})}):null},zi=e=>{var t,r,o,a,s,i,l,c,d,u,p,h,m,f;let{task:g,localTaskTree:y,onShowToast:x}=e;const[b,v]=(0,n.useState)(!1),[k,j]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),[C,_]=(0,n.useState)(!1),[N,E]=(0,n.useState)(!1),[T,R]=(0,n.useState)(""),[A,z]=(0,n.useState)(!1),[I,P]=(0,n.useState)(null),[O,L]=(0,n.useState)(null),[D,F]=(0,n.useState)(null),[M,B]=(0,n.useState)({projectName:"",projectKey:"",jiraUrl:"",apiToken:"",userEmail:"",accountId:"",users:[{username:"",email:""}]}),{settings:W}=La(),$=()=>v(!1),U=()=>j(!1),H=e=>{x(`JIRA export failed: ${e.message||"Unknown error"}`,"error"),S(!1),P(null)},q=e=>{x(`Trello export failed: ${e.message||"Unknown error"}`,"error"),_(!1),L(null)},Q=e=>/^[A-Z0-9]{2,10}$/.test(e);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{className:"relative inline-block text-left mr-2",children:[(0,ze.jsx)("div",{children:(0,ze.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600",id:"export-menu-button","aria-expanded":N,"aria-haspopup":"true",onClick:e=>{e.preventDefault(),E(!N)},children:[(0,ze.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7l4-4m0 0l4 4m-4-4v18"})}),"Export"]})}),N&&(0,ze.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"export-menu-button",tabIndex:"-1",children:(0,ze.jsxs)("div",{className:"py-1",role:"none",children:[(0,ze.jsx)("button",{className:"text-gray-700 dark:text-gray-200 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",tabIndex:"-1",onClick:()=>{(()=>{if(!g)return;const e=JSON.stringify(y,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),r=`${g.description.split("\n")[0].substring(0,30)}-task-tree.json`,n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",r),n.click()})(),E(!1)},children:"Export to JSON"}),(0,ze.jsx)("button",{className:(null!==(t=W.jiraIntegration)&&void 0!==t&&t.enabled?"":"opacity-50 cursor-not-allowed")+" text-gray-700 dark:text-gray-200 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",tabIndex:"-1",onClick:()=>{var e;null!==(e=W.jiraIntegration)&&void 0!==e&&e.enabled&&((()=>{var e,t,r,n,o;B({projectName:null!==g&&void 0!==g&&g.description?`Cahoots: ${g.description.split("\n")[0].substring(0,30)}`:"Cahoots Project",projectKey:"CAHOOTS",jiraUrl:(null===(e=W.jiraIntegration)||void 0===e?void 0:e.jiraUrl)||"https://your-domain.atlassian.net",apiToken:(null===(t=W.jiraIntegration)||void 0===t?void 0:t.apiToken)||"",userEmail:(null===(r=W.jiraIntegration)||void 0===r?void 0:r.userEmail)||"",accountId:(null===(n=W.jiraIntegration)||void 0===n?void 0:n.accountId)||"",users:[{username:"project-admin",email:(null===(o=W.jiraIntegration)||void 0===o?void 0:o.userEmail)||""}]}),j(!0)})(),E(!1))},title:null!==(r=W.jiraIntegration)&&void 0!==r&&r.enabled?"":"Enable JIRA integration in Settings",children:"Export to JIRA"}),(0,ze.jsx)("button",{className:(null!==(o=W.trelloIntegration)&&void 0!==o&&o.enabled?"":"opacity-50 cursor-not-allowed")+" text-gray-700 dark:text-gray-200 block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",tabIndex:"-1",onClick:()=>{var e;null!==(e=W.trelloIntegration)&&void 0!==e&&e.enabled&&(null!==g&&void 0!==g&&g.description&&R(`Cahoots: ${g.description.split("\n")[0].substring(0,30)}`),v(!0),E(!1))},title:null!==(a=W.trelloIntegration)&&void 0!==a&&a.enabled?"":"Enable Trello integration in Settings",children:"Export to Trello"})]})})]}),b&&(0,ze.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,ze.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-md",children:[(0,ze.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,ze.jsx)("h2",{className:"text-lg font-medium",children:"Export to Trello"}),(0,ze.jsx)("button",{onClick:$,className:"text-gray-500 hover:text-gray-700",children:(0,ze.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ze.jsxs)("div",{className:"p-4 space-y-4",children:[null!==(s=W.trelloIntegration)&&void 0!==s&&s.enabled&&null!==(i=W.trelloIntegration)&&void 0!==i&&i.apiKey&&null!==(l=W.trelloIntegration)&&void 0!==l&&l.token?(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"Trello Connection"}),(0,ze.jsx)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-md",children:(0,ze.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200",children:[(0,ze.jsx)("strong",{children:"\u2705 Using saved Trello credentials"}),(0,ze.jsx)("br",{}),"API Key: ",W.trelloIntegration.apiKey.substring(0,8),"...",(0,ze.jsx)("br",{}),"Token: ",W.trelloIntegration.token.substring(0,8),"..."]})})]}):(0,ze.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900 rounded-md",children:(0,ze.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,ze.jsx)("strong",{children:"\u26a0\ufe0f Trello credentials not configured"}),(0,ze.jsx)("br",{}),"Please add your Trello API key and token in the Settings page first."]})}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Board Name"}),(0,ze.jsx)("input",{type:"text",value:T,onChange:e=>R(e.target.value),placeholder:"Enter board name",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:30}),(0,ze.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum ",30," characters"]})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"What will be created:"}),(0,ze.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,ze.jsx)("li",{children:"\u2022 Trello board with your specified name"}),(0,ze.jsx)("li",{children:"\u2022 Lists for task organization (To Do, In Progress, Done)"}),(0,ze.jsx)("li",{children:"\u2022 Cards for each task with descriptions and story points"}),(0,ze.jsx)("li",{children:"\u2022 Labels for different task types and priorities"}),(0,ze.jsx)("li",{children:"\u2022 Checklists for subtasks within parent cards"})]})]})]}),(0,ze.jsxs)("div",{className:"flex justify-end p-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ze.jsx)("button",{className:"px-4 py-2 mr-2 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",onClick:$,children:"Cancel"}),(0,ze.jsx)("button",{className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",onClick:async()=>{var e,t;if(!g||!y)return;const r=null===(e=W.trelloIntegration)||void 0===e?void 0:e.apiKey,n=null===(t=W.trelloIntegration)||void 0===t?void 0:t.token;if(r&&n)if(T.trim()){z(!0),$(),_(!0);try{const e={config:{trello_api_key:r,trello_token:n,board_name:T||`Cahoots: ${g.description.substring(0,30)}`},task_tree:y},t=await fetch("/api/trello/start-export",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"dev-bypass-token"}`},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.detail||`HTTP ${t.status}: ${t.statusText}`)}const o=await t.json();L(o.export_id)}catch(o){console.error("Error exporting to Trello:",o),q({message:o.message})}finally{z(!1)}}else x("Board name is required","error");else x("Please add your Trello API key and token in the Settings page first.","warning")},disabled:A||!T.trim()||!(null!==(c=W.trelloIntegration)&&void 0!==c&&c.apiKey)||!(null!==(d=W.trelloIntegration)&&void 0!==d&&d.token),children:A?"Creating Trello Board...":"Export to Trello"})]})]})}),k&&(0,ze.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,ze.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,ze.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,ze.jsx)("h2",{className:"text-lg font-medium",children:"Configure JIRA Export"}),(0,ze.jsx)("button",{onClick:U,className:"text-gray-500 hover:text-gray-700",children:(0,ze.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ze.jsxs)("div",{className:"p-6 space-y-6",children:[null!==(u=W.jiraIntegration)&&void 0!==u&&u.enabled&&null!==(p=W.jiraIntegration)&&void 0!==p&&p.jiraUrl&&null!==(h=W.jiraIntegration)&&void 0!==h&&h.userEmail&&null!==(m=W.jiraIntegration)&&void 0!==m&&m.apiToken&&null!==(f=W.jiraIntegration)&&void 0!==f&&f.accountId?(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"JIRA Connection"}),(0,ze.jsx)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-md",children:(0,ze.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200",children:[(0,ze.jsx)("strong",{children:"Using saved JIRA credentials:"}),(0,ze.jsx)("br",{}),"URL: ",W.jiraIntegration.jiraUrl,(0,ze.jsx)("br",{}),"Email: ",W.jiraIntegration.userEmail,(0,ze.jsx)("br",{}),"Account ID: ",W.jiraIntegration.accountId]})})]}):(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"JIRA Connection"}),(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"JIRA URL"}),(0,ze.jsx)("input",{type:"url",value:M.jiraUrl,onChange:e=>B((t=>({...t,jiraUrl:e.target.value}))),placeholder:"https://your-domain.atlassian.net",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Email"}),(0,ze.jsx)("input",{type:"email",value:M.userEmail,onChange:e=>B((t=>({...t,userEmail:e.target.value}))),placeholder:"your.email@example.com",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Token"}),(0,ze.jsx)("input",{type:"password",value:M.apiToken,onChange:e=>B((t=>({...t,apiToken:e.target.value}))),placeholder:"Your JIRA API token",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Atlassian Account ID"}),(0,ze.jsx)("input",{type:"text",value:M.accountId,onChange:e=>B((t=>({...t,accountId:e.target.value}))),placeholder:"Your Atlassian account ID",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ze.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Find your account ID at"," ",(0,ze.jsx)("a",{href:"https://id.atlassian.com/manage-profile/profile-and-visibility",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Atlassian Account Settings"})," ",'(usually starts with "5" and is 24 characters long)']})]}),(0,ze.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900 rounded-md",children:(0,ze.jsxs)("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[(0,ze.jsx)("strong",{children:"How to get your API token:"}),(0,ze.jsx)("br",{}),"1. Go to ",(0,ze.jsx)("a",{href:"https://id.atlassian.com/manage-profile/security/api-tokens",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Atlassian Account Settings"}),(0,ze.jsx)("br",{}),'2. Click "Create API token"',(0,ze.jsx)("br",{}),"3. Copy the token and paste it above"]})})]})]}),(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"Project Configuration"}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),(0,ze.jsx)("input",{type:"text",value:M.projectName,onChange:e=>B((t=>({...t,projectName:e.target.value}))),placeholder:"Enter project name",className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Key"}),(0,ze.jsx)("input",{type:"text",value:M.projectKey,onChange:e=>{const t=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,10);B((e=>({...e,projectKey:t})))},placeholder:"PROJ",className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white "+(M.projectKey&&!Q(M.projectKey)?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"),maxLength:"10"}),(0,ze.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"2-10 uppercase alphanumeric characters (e.g., PROJ, TEST123)"}),M.projectKey&&!Q(M.projectKey)&&(0,ze.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Invalid format: use only uppercase letters and numbers"})]})]})]}),(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100",children:"What will be created:"}),(0,ze.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,ze.jsx)("li",{children:"\u2022 JIRA project with your specified name and key"}),(0,ze.jsx)("li",{children:"\u2022 Epics for each non-atomic first-level subtask"}),(0,ze.jsx)("li",{children:"\u2022 Stories for each atomic first-level subtask"}),(0,ze.jsx)("li",{children:"\u2022 Sub-tasks for all child tasks, linked to their parents"}),(0,ze.jsx)("li",{children:"\u2022 Story point estimates included in issue details"}),(0,ze.jsx)("li",{children:"\u2022 Confluence pages for tech stack, best practices, and project standards"})]})]})]}),(0,ze.jsxs)("div",{className:"flex justify-end p-4 border-t border-gray-200 dark:border-gray-700 space-x-2",children:[(0,ze.jsx)("button",{className:"px-4 py-2 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",onClick:U,children:"Cancel"}),(0,ze.jsx)("button",{className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{(()=>{if(!M.projectName.trim())return x("Project name is required","error"),!1;if(!M.projectKey.trim())return x("Project key is required","error"),!1;if(!Q(M.projectKey))return x("Project key must be 2-10 uppercase alphanumeric characters (e.g., PROJ, TEST123)","error"),!1;if(!M.jiraUrl.trim())return x("JIRA URL is required","error"),!1;if(!M.userEmail.trim())return x("Your email is required","error"),!1;if(e=M.userEmail,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return x("Invalid email format","error"),!1;var e;if(!M.apiToken.trim())return x("API token is required","error"),!1;if(!M.accountId.trim())return x("Account ID is required","error"),!1;try{new URL(M.jiraUrl)}catch{return x("Invalid JIRA URL format","error"),!1}return!0})()&&(async()=>{if(g&&y){z(!0),U(),S(!0);try{const e={config:{jira_url:M.jiraUrl,user_email:M.userEmail,api_token:M.apiToken,account_id:M.accountId,project_name:M.projectName,project_key:M.projectKey,users:M.users},task_tree:y},t=await fetch("/api/jira/start-export",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"dev-bypass-token"}`},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.detail||`HTTP ${t.status}: ${t.statusText}`)}const r=await t.json();P(r.export_id)}catch(e){console.error("Error exporting to JIRA:",e),H({message:e.message})}finally{z(!1)}}})()},disabled:A,children:A?"Creating JIRA Project...":"Export to JIRA"})]})]})}),(0,ze.jsx)(Ri,{isOpen:w,onClose:()=>S(!1),exportId:I,onSuccess:e=>{x(`Successfully created JIRA project with ${e.issues_created} issues`,"success"),e.project_url&&window.open(e.project_url,"_blank")},onError:H}),(0,ze.jsx)(Ai,{isOpen:C,onClose:()=>_(!1),exportId:O,onSuccess:e=>{x(`Successfully created Trello board with ${e.cards_created} cards`,"success"),e.board_url&&window.open(e.board_url,"_blank")},onError:q})]})},Ii=!1,Pi=function(){Ii},Oi=function(){Ii},Li=(e,t)=>{const[r,o]=(0,n.useState)(""),[a,s]=(0,n.useState)(1),[i,l]=(0,n.useState)({}),[c,d]=(0,n.useState)({}),[u,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),f=(e,t,r,n)=>{Oi(`Operator ${t} status: ${r} (${n}%)`)};(0,n.useEffect)((()=>{if(!t||!e)return;Oi(`useTaskData: Loading task details for ${e.task_id}`),o(e.implementation_details||""),s(e.story_points||1);const r=e.context||{},n=r.project_standards||r.standards||{},a=r.tech_stack||r.technologies||{};l(n),d(a);const i=e.is_atomic,c=e.implementation_details&&e.implementation_details.trim().length>0;i&&!c&&(Oi("useTaskData: Atomic task detected without implementation details, generating them..."),g())}),[t,e]);const g=async()=>{if(!e)return;m(!0),f(e.task_id,"details_generator","processing",0);const{data:t,error:n}=await Ti((()=>pa.postWithLoading(`/tasks/${e.task_id}/generate-details`,{task_description:e.description,complexity_score:e.complexity_score||0},ea)),{customMessages:{SERVER_ERROR:"Failed to generate implementation details. Please try again.",NOT_FOUND:"Task not found. Please refresh and try again.",VALIDATION_ERROR:"Invalid task data. Please check the task details."}});if(n)throw console.error("Failed to generate implementation details:",n),f(e.task_id,"details_generator","failed",0),n;{t&&t.implementation_details&&o(t.implementation_details),t&&t.story_points&&(s(t.story_points),f(e.task_id,"details_generator","processing",50));const{error:n}=await Ti((()=>pa.patch(`/tasks/${e.task_id}`,{implementation_details:t.implementation_details||r,story_points:t.story_points||a})),{customMessages:{SERVER_ERROR:"Failed to save generated details. Please try saving manually."}});n?(console.error("Failed to update task with generated details:",n),f(e.task_id,"details_generator","failed",0)):f(e.task_id,"details_generator","completed",100)}m(!1)};return{implementationDetails:r,setImplementationDetails:o,storyPoints:a,setStoryPoints:s,projectStandards:i,techStack:c,isSaving:u,isGenerating:h,generateImplementationDetails:g,handleSave:async()=>{if(!e)return{success:!1};p(!0);try{const{data:t,error:n}=await Ti((()=>pa.patchWithLoading(`/tasks/${e.task_id}/details`,{implementation_details:r,story_points:a},oa)),{customMessages:{VALIDATION_ERROR:"Please check your task details and try again.",SERVER_ERROR:"Unable to save task details. Please try again later."}});if(n)throw n;return t&&t.story_points&&t.story_points!==a&&(Oi(`Server adjusted story points from ${a} to ${t.story_points}`),s(t.story_points)),!t||!t.implementation_details||r&&""!==r.trim()||""===t.implementation_details.trim()||(Oi("Server generated implementation details for atomic task"),o(t.implementation_details)),{success:!0,adjustedStoryPoints:null===t||void 0===t?void 0:t.story_points,generatedDetails:null===t||void 0===t?void 0:t.implementation_details}}catch(t){return Pi("Error saving task details:",t),{success:!1,error:t}}finally{p(!1)}}}},Di={"web-application":{label:"Web Application",description:"Full-stack web applications with user interfaces",stacks:[{id:"react-node-postgres",name:"React + Node.js + PostgreSQL",description:"Modern SPA stack",frontend_framework:"React",backend_language:"JavaScript/Node.js",database:"PostgreSQL"},{id:"nextjs-postgres",name:"Next.js + PostgreSQL",description:"Full-stack React framework",frontend_framework:"Next.js",backend_language:"JavaScript/Node.js",database:"PostgreSQL"},{id:"vue-express-mysql",name:"Vue.js + Express + MySQL",description:"Progressive framework stack",frontend_framework:"Vue.js",backend_language:"JavaScript/Node.js",database:"MySQL"},{id:"angular-dotnet-sqlserver",name:"Angular + .NET + SQL Server",description:"Enterprise stack",frontend_framework:"Angular",backend_language:"C#",database:"SQL Server"},{id:"svelte-fastapi-postgres",name:"Svelte + FastAPI + PostgreSQL",description:"Modern lightweight stack",frontend_framework:"Svelte",backend_language:"Python",database:"PostgreSQL"},{id:"wordpress-mysql",name:"WordPress + MySQL",description:"Content management",frontend_framework:"WordPress",backend_language:"PHP",database:"MySQL"},{id:"django-postgres",name:"Django + PostgreSQL",description:"Python full-stack",frontend_framework:"Django Templates",backend_language:"Python",database:"PostgreSQL"},{id:"rails-postgres",name:"Ruby on Rails + PostgreSQL",description:"Convention over configuration",frontend_framework:"Rails Views",backend_language:"Ruby",database:"PostgreSQL"}]},"mobile-application":{label:"Mobile Application",description:"Native and cross-platform mobile apps",stacks:[{id:"react-native-firebase",name:"React Native + Firebase",description:"Cross-platform with backend-as-a-service",frontend_framework:"React Native",backend_language:"Firebase Functions",database:"Firebase"},{id:"flutter-firebase",name:"Flutter + Firebase",description:"Google's cross-platform framework",frontend_framework:"Flutter",backend_language:"Firebase Functions",database:"Firebase"},{id:"swift-coredata",name:"Swift + Core Data",description:"Native iOS",frontend_framework:"SwiftUI",backend_language:"Swift",database:"Core Data"},{id:"kotlin-room",name:"Kotlin + Room + Retrofit",description:"Native Android",frontend_framework:"Android Views",backend_language:"Kotlin",database:"Room/SQLite"},{id:"expo-supabase",name:"Expo + Supabase",description:"Managed React Native",frontend_framework:"React Native",backend_language:"Supabase Edge Functions",database:"Supabase"},{id:"ionic-angular-firebase",name:"Ionic + Angular + Firebase",description:"Hybrid mobile",frontend_framework:"Ionic",backend_language:"Firebase Functions",database:"Firebase"},{id:"xamarin-azure",name:"Xamarin + Azure",description:"Microsoft cross-platform",frontend_framework:"Xamarin",backend_language:"C#",database:"Azure SQL"}]},"api-backend":{label:"API/Backend Service",description:"Server-side applications and microservices",stacks:[{id:"fastapi-postgres",name:"FastAPI + PostgreSQL",description:"Modern Python API",frontend_framework:"API Only",backend_language:"Python",database:"PostgreSQL"},{id:"express-mongodb",name:"Express.js + MongoDB",description:"Node.js REST API",frontend_framework:"API Only",backend_language:"JavaScript/Node.js",database:"MongoDB"},{id:"spring-boot-mysql",name:"Spring Boot + MySQL",description:"Enterprise Java",frontend_framework:"API Only",backend_language:"Java",database:"MySQL"},{id:"aspnet-core-sqlserver",name:"ASP.NET Core + SQL Server",description:"Microsoft stack",frontend_framework:"API Only",backend_language:"C#",database:"SQL Server"},{id:"go-postgres",name:"Go + PostgreSQL",description:"High-performance API",frontend_framework:"API Only",backend_language:"Go",database:"PostgreSQL"},{id:"rails-api-postgres",name:"Ruby on Rails API + PostgreSQL",description:"API-only mode",frontend_framework:"API Only",backend_language:"Ruby",database:"PostgreSQL"},{id:"graphql-postgres",name:"GraphQL + PostgreSQL",description:"Query language API",frontend_framework:"API Only",backend_language:"JavaScript/Node.js",database:"PostgreSQL"},{id:"serverless-dynamodb",name:"Serverless + DynamoDB",description:"AWS Lambda functions",frontend_framework:"API Only",backend_language:"JavaScript/Node.js",database:"DynamoDB"}]},"desktop-application":{label:"Desktop Application",description:"Native desktop applications",stacks:[{id:"electron-react",name:"Electron + React",description:"Cross-platform desktop",frontend_framework:"React",backend_language:"JavaScript/Node.js",database:"SQLite"},{id:"tauri-react",name:"Tauri + React/Vue",description:"Rust-based lightweight desktop",frontend_framework:"React",backend_language:"Rust",database:"SQLite"},{id:"qt-cpp",name:"Qt + C++",description:"Native cross-platform",frontend_framework:"Qt",backend_language:"C++",database:"SQLite"},{id:"wpf-csharp",name:"WPF + C#",description:"Windows native",frontend_framework:"WPF",backend_language:"C#",database:"SQL Server"},{id:"swiftui-coredata",name:"SwiftUI + Core Data",description:"macOS native",frontend_framework:"SwiftUI",backend_language:"Swift",database:"Core Data"},{id:"flutter-desktop",name:"Flutter Desktop",description:"Multi-platform from single codebase",frontend_framework:"Flutter",backend_language:"Dart",database:"SQLite"},{id:"tkinter-python",name:"Tkinter + Python",description:"Simple Python desktop",frontend_framework:"Tkinter",backend_language:"Python",database:"SQLite"}]},"data-science":{label:"Data Science/Analytics",description:"Data processing, analysis, and machine learning",stacks:[{id:"python-pandas-jupyter",name:"Python + Pandas + Jupyter",description:"Data analysis",frontend_framework:"Jupyter Notebooks",backend_language:"Python",database:"CSV/Parquet"},{id:"python-sklearn-postgres",name:"Python + Scikit-learn + PostgreSQL",description:"Machine learning",frontend_framework:"Jupyter Notebooks",backend_language:"Python",database:"PostgreSQL"},{id:"r-shiny-postgres",name:"R + Shiny + PostgreSQL",description:"Statistical analysis with web interface",frontend_framework:"Shiny",backend_language:"R",database:"PostgreSQL"},{id:"spark-scala",name:"Apache Spark + Scala",description:"Big data processing",frontend_framework:"Spark UI",backend_language:"Scala",database:"HDFS/S3"},{id:"tensorflow-python",name:"TensorFlow + Python + PostgreSQL",description:"Deep learning",frontend_framework:"TensorBoard",backend_language:"Python",database:"PostgreSQL"},{id:"streamlit-python",name:"Streamlit + Python",description:"Data apps",frontend_framework:"Streamlit",backend_language:"Python",database:"PostgreSQL"},{id:"powerbi-sqlserver",name:"Power BI + SQL Server",description:"Business intelligence",frontend_framework:"Power BI",backend_language:"DAX/SQL",database:"SQL Server"}]},ecommerce:{label:"E-commerce Platform",description:"Online stores and marketplace applications",stacks:[{id:"shopify-liquid",name:"Shopify + Liquid",description:"Hosted e-commerce",frontend_framework:"Liquid Templates",backend_language:"Shopify",database:"Shopify"},{id:"woocommerce-wordpress",name:"WooCommerce + WordPress",description:"WordPress-based store",frontend_framework:"WordPress",backend_language:"PHP",database:"MySQL"},{id:"magento-mysql",name:"Magento + MySQL",description:"Enterprise e-commerce",frontend_framework:"Magento",backend_language:"PHP",database:"MySQL"},{id:"nextjs-stripe-postgres",name:"Next.js + Stripe + PostgreSQL",description:"Custom storefront",frontend_framework:"Next.js",backend_language:"JavaScript/Node.js",database:"PostgreSQL"},{id:"react-shopify-storefront",name:"React + Shopify Storefront API",description:"Headless commerce",frontend_framework:"React",backend_language:"Shopify API",database:"Shopify"},{id:"medusa-react-postgres",name:"Medusa + React + PostgreSQL",description:"Open source commerce",frontend_framework:"React",backend_language:"JavaScript/Node.js",database:"PostgreSQL"}]},cms:{label:"Content Management System",description:"Websites with content management capabilities",stacks:[{id:"wordpress-mysql",name:"WordPress + MySQL",description:"Popular CMS",frontend_framework:"WordPress",backend_language:"PHP",database:"MySQL"},{id:"drupal-postgres",name:"Drupal + PostgreSQL",description:"Enterprise CMS",frontend_framework:"Drupal",backend_language:"PHP",database:"PostgreSQL"},{id:"strapi-react-postgres",name:"Strapi + React + PostgreSQL",description:"Headless CMS",frontend_framework:"React",backend_language:"JavaScript/Node.js",database:"PostgreSQL"},{id:"ghost-mysql",name:"Ghost + MySQL",description:"Publishing platform",frontend_framework:"Ghost",backend_language:"JavaScript/Node.js",database:"MySQL"},{id:"contentful-gatsby",name:"Contentful + Gatsby + GraphQL",description:"JAMstack CMS",frontend_framework:"Gatsby",backend_language:"JavaScript/Node.js",database:"Contentful"},{id:"sanity-nextjs",name:"Sanity + Next.js",description:"Headless CMS with React",frontend_framework:"Next.js",backend_language:"JavaScript/Node.js",database:"Sanity"}]},game:{label:"Game Development",description:"Video games and interactive applications",stacks:[{id:"unity-csharp",name:"Unity + C#",description:"Cross-platform game engine",frontend_framework:"Unity",backend_language:"C#",database:"Unity Cloud"},{id:"unreal-cpp",name:"Unreal Engine + C++",description:"AAA game development",frontend_framework:"Unreal Engine",backend_language:"C++",database:"Unreal Backend"},{id:"godot-gdscript",name:"Godot + GDScript",description:"Open source game engine",frontend_framework:"Godot",backend_language:"GDScript",database:"SQLite"},{id:"react-phaser",name:"React + Phaser",description:"Web-based games",frontend_framework:"React",backend_language:"JavaScript",database:"LocalStorage"},{id:"javascript-canvas",name:"JavaScript + HTML5 Canvas",description:"Browser games",frontend_framework:"HTML5 Canvas",backend_language:"JavaScript",database:"LocalStorage"},{id:"python-pygame",name:"Python + Pygame",description:"Simple 2D games",frontend_framework:"Pygame",backend_language:"Python",database:"SQLite"}]},iot:{label:"IoT/Embedded System",description:"Internet of Things and embedded applications",stacks:[{id:"arduino-cpp",name:"Arduino + C++",description:"Microcontroller development",frontend_framework:"Arduino IDE",backend_language:"C++",database:"EEPROM"},{id:"raspberry-pi-python",name:"Raspberry Pi + Python",description:"Single-board computer projects",frontend_framework:"Python GUI",backend_language:"Python",database:"SQLite"},{id:"esp32-cpp",name:"ESP32 + C++",description:"WiFi-enabled microcontroller",frontend_framework:"Web Interface",backend_language:"C++",database:"SPIFFS"},{id:"nodejs-mqtt-influxdb",name:"Node.js + MQTT + InfluxDB",description:"IoT data collection",frontend_framework:"React Dashboard",backend_language:"JavaScript/Node.js",database:"InfluxDB"},{id:"python-flask-sqlite",name:"Python + Flask + SQLite",description:"IoT web interface",frontend_framework:"Flask Templates",backend_language:"Python",database:"SQLite"},{id:"rust-embedded",name:"Rust + Embedded",description:"System-level IoT",frontend_framework:"Embedded UI",backend_language:"Rust",database:"Flash Storage"}]},automation:{label:"Automation/Script",description:"Task automation and scripting projects",stacks:[{id:"python-selenium",name:"Python + Selenium",description:"Web automation",frontend_framework:"Command Line",backend_language:"Python",database:"SQLite"},{id:"python-pandas-excel",name:"Python + Pandas + Excel",description:"Data processing automation",frontend_framework:"Excel/CSV",backend_language:"Python",database:"Excel/CSV"},{id:"nodejs-puppeteer",name:"Node.js + Puppeteer",description:"Browser automation",frontend_framework:"Command Line",backend_language:"JavaScript/Node.js",database:"JSON Files"},{id:"powershell-windows",name:"PowerShell + Windows",description:"Windows automation",frontend_framework:"Command Line",backend_language:"PowerShell",database:"Registry/Files"},{id:"bash-linux",name:"Bash + Linux",description:"System administration",frontend_framework:"Command Line",backend_language:"Bash",database:"Config Files"},{id:"python-apis",name:"Python + APIs",description:"API automation and integration",frontend_framework:"Command Line",backend_language:"Python",database:"SQLite"}]}},Fi=()=>Object.entries(Di).map((e=>{let[t,r]=e;return{id:t,label:r.label,description:r.description}})),Mi=e=>{var t;return(null===(t=Di[e])||void 0===t?void 0:t.stacks)||[]},Bi=(e,t)=>Mi(e).find((e=>e.id===t)),Wi=e=>{let{connected:t}=e;return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:Fa.borderRadius.full,backgroundColor:t?Fa.colors.success[500]:Fa.colors.error[500]}}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:t?"Live":"Offline"})]})},$i=e=>{let{task:t}=e;return(0,ze.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:Fa.spacing[4],alignItems:"center"},children:[(0,ze.jsx)(js,{variant:Vi(t.status),children:t.status.replace("_"," ")}),t.created_at&&(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",margin:0},children:["Created ",ui(t.created_at)]}),void 0!==t.children_count&&(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",margin:0},children:[t.children_count," subtasks"]})]})},Ui=e=>{let{taskStats:t,completionRate:r}=e;return(0,ze.jsx)(ks,{children:(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:Fa.spacing[3],padding:Fa.spacing[3],marginBottom:Fa.spacing[4]},className:"compact-stats",children:[(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.primary[500],margin:0},children:t.total}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Total"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.success[500],margin:0},children:t.completed}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Done"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.warning[500],margin:0},children:t.inProgress}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Active"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.info[500],margin:0},children:t.pending}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Pending"})]}),t.awaitingApproval>0&&(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:Fa.colors.error[500],margin:0},children:t.awaitingApproval}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Approval"})]}),(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.bold,color:100===r?Fa.colors.success[500]:Fa.colors.primary[400],margin:0},children:[r,"%"]}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)",margin:0},children:"Complete"})]}),(0,ze.jsx)("div",{style:{gridColumn:"1 / -1",marginTop:Fa.spacing[1]},children:(0,ze.jsx)(Ns,{value:r,variant:100===r?"success":"primary",style:{height:"3px"}})})]})})},Hi=e=>{var t,r;let{task:n}=e;const{techStack:o,projectStandards:a}=Li(n,!0);if(!n||n.depth>0||!o||0===Object.keys(o).length)return null;const s=(e,t)=>{if(!t)return null;if("object"===typeof t&&!Array.isArray(t)){const r=[];if("Frontend"===e&&t.framework)return r.push(t.framework),t.libraries&&Array.isArray(t.libraries)&&t.libraries.length>0&&r.push(`Libraries: ${t.libraries.join(", ")}`),t.styling&&r.push(`Styling: ${t.styling}`),r.length>0?r.join(" | "):"Not specified";if("Backend"===e)return t.language&&r.push(t.language),t.framework&&r.push(t.framework),t.api&&r.push(`API: ${t.api}`),r.length>0?r.join(" | "):"Not specified";if("Database"===e){if("string"===typeof t)return t;if(t.type)return t.type;if(t.database)return t.database}if("DevOps"===e)return t.containerization&&r.push(`Containerization: ${t.containerization}`),t.ci_cd&&r.push(`CI/CD: ${t.ci_cd}`),t.hosting&&r.push(`Hosting: ${t.hosting}`),t.orchestration&&r.push(`Orchestration: ${t.orchestration}`),r.length>0?r.join(" | "):null;const n=Object.values(t).filter((e=>e&&"string"===typeof e));return n.length>0?n.join(" | "):null}return Array.isArray(t)?t.join(", "):String(t)};return(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,marginBottom:Fa.spacing[2],fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide},children:"Tech Stack"}),(0,ze.jsxs)("div",{style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Fa.borderRadius.md,padding:Fa.spacing[3],fontSize:Fa.typography.fontSize.sm[0]},children:[o.frontend&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"Frontend:"})," ",s("Frontend",o.frontend)]}),o.backend&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"Backend:"})," ",s("Backend",o.backend)]}),((null===(t=o.backend)||void 0===t?void 0:t.database)||o.database)&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"Database:"})," ",s("Database",(null===(r=o.backend)||void 0===r?void 0:r.database)||o.database)]}),o.devops&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"DevOps:"})," ",s("DevOps",o.devops)]}),o.testing&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"Testing:"})," ",s("Testing",o.testing)]}),o.additional_tools&&Array.isArray(o.additional_tools)&&o.additional_tools.length>0&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[2]},children:[(0,ze.jsx)("strong",{children:"Additional Tools:"})," ",o.additional_tools.join(", ")]})]})]})},qi=e=>{var t;let{formData:r,setFormData:n,onSubmit:o,onCancel:a,isLoading:s}=e;const i=Fi(),l=Mi(r.application_type);return(0,ze.jsxs)("div",{style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Fa.borderRadius.lg,padding:Fa.spacing[4],marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.lg[0],fontWeight:Fa.typography.fontWeight.semibold,marginBottom:Fa.spacing[4],color:"var(--color-primary-500)"},children:"Edit Task Parameters"}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)(Bs,{htmlFor:"application_type",children:"Application Type"}),(0,ze.jsxs)("select",{id:"application_type",value:r.application_type,onChange:e=>{n({...r,application_type:e.target.value,tech_stack_id:""})},style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Select Application Type"}),i.map((e=>(0,ze.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),r.application_type&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)(Bs,{htmlFor:"tech_stack_id",children:"Tech Stack"}),(0,ze.jsxs)("select",{id:"tech_stack_id",value:r.tech_stack_id,onChange:e=>n({...r,tech_stack_id:e.target.value}),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Select Tech Stack"}),l.map((e=>(0,ze.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)(Bs,{htmlFor:"additional_requirements",children:"Additional Requirements"}),(0,ze.jsx)("textarea",{id:"additional_requirements",value:(null===(t=r.tech_preferences)||void 0===t?void 0:t.additional_requirements)||"",onChange:e=>n({...r,tech_preferences:{...r.tech_preferences,additional_requirements:e.target.value}}),placeholder:"Any specific requirements or constraints...",rows:2,style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0],resize:"vertical",fontFamily:"inherit"}})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:Fa.spacing[3],marginBottom:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Bs,{htmlFor:"max_depth",children:"Max Depth"}),(0,ze.jsx)("input",{id:"max_depth",type:"number",min:"1",max:"5",value:r.max_depth,onChange:e=>n({...r,max_depth:parseInt(e.target.value)}),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]}})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Bs,{htmlFor:"max_subtasks",children:"Max Subtasks"}),(0,ze.jsx)("input",{id:"max_subtasks",type:"number",min:"2",max:"15",value:r.max_subtasks,onChange:e=>n({...r,max_subtasks:parseInt(e.target.value)}),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]}})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Bs,{htmlFor:"complexity_threshold",children:"Complexity Threshold"}),(0,ze.jsx)("input",{id:"complexity_threshold",type:"number",min:"0.1",max:"1.0",step:"0.1",value:r.complexity_threshold,onChange:e=>n({...r,complexity_threshold:parseFloat(e.target.value)}),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]}})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[2],justifyContent:"flex-end"},children:[(0,ze.jsx)(fs,{variant:"outline",size:"sm",onClick:a,disabled:s,icon:es,children:"Cancel"}),(0,ze.jsx)(fs,{variant:"primary",size:"sm",onClick:o,disabled:s||!r.description.trim(),icon:Ka,loading:s,children:"Save & Restart Decomposition"})]})]})},Qi=e=>{let{isOpen:t,onClose:r,task:o,onRestart:a,isLoading:s}=e;const{techStack:i}=Li(o,!0),[l,c]=(0,n.useState)({description:"",application_type:"",tech_stack_id:"",max_depth:3,max_subtasks:10,complexity_threshold:.7,requires_approval:!1,preserve_root_context:!0,tech_preferences:{additional_requirements:""}});(0,n.useEffect)((()=>{t&&o&&c({description:o.description||"",application_type:"",tech_stack_id:"",max_depth:3,max_subtasks:10,complexity_threshold:.7,requires_approval:!1,preserve_root_context:!0,tech_preferences:{additional_requirements:""}})}),[t,o]);const d=Fi(),u=l.application_type?Mi(l.application_type):[];l.application_type&&l.tech_stack_id&&Bi(l.application_type,l.tech_stack_id);return t?(0,ze.jsxs)(ws,{isOpen:t,onClose:r,title:"Restart Decomposition",size:"lg",children:[(0,ze.jsx)("div",{style:{marginBottom:Fa.spacing[4]},children:(0,ze.jsx)(Ws,{style:{color:"var(--color-text-muted)"},children:"This will delete all existing subtasks and restart the decomposition process with new parameters. You can update the task description, tech stack preferences, and AI parameters."})}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Updated Task Description (optional)"}),(0,ze.jsx)("textarea",{value:l.description,onChange:e=>c((t=>({...t,description:e.target.value}))),placeholder:"Leave empty to keep current description",style:{width:"100%",minHeight:"80px",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0],resize:"vertical"},rows:3})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Application Type"}),(0,ze.jsxs)("select",{value:l.application_type,onChange:e=>c((t=>({...t,application_type:e.target.value,tech_stack_id:""}))),style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Keep current tech stack / Let AI choose"}),d.map((e=>(0,ze.jsxs)("option",{value:e.id,children:[e.label," - ",e.description]},e.id)))]})]}),l.application_type&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Tech Stack"}),(0,ze.jsxs)("select",{value:l.tech_stack_id,onChange:e=>c((t=>({...t,tech_stack_id:e.target.value}))),style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Let AI choose tech stack"}),u.map((e=>(0,ze.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id)))]})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Additional Requirements & Overrides"}),(0,ze.jsx)("textarea",{value:l.tech_preferences.additional_requirements,onChange:e=>c((t=>({...t,tech_preferences:{...t.tech_preferences,additional_requirements:e.target.value}}))),placeholder:"e.g., Use different database, add real-time features, specific frameworks...",style:{width:"100%",minHeight:"60px",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0],resize:"vertical"},rows:2})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:Fa.spacing[4],marginBottom:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Max Depth"}),(0,ze.jsxs)("select",{value:l.max_depth,onChange:e=>c((t=>({...t,max_depth:parseInt(e.target.value)}))),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:2,children:"2 levels"}),(0,ze.jsx)("option",{value:3,children:"3 levels"}),(0,ze.jsx)("option",{value:4,children:"4 levels"}),(0,ze.jsx)("option",{value:5,children:"5 levels"})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:"var(--color-text)",marginBottom:Fa.spacing[2]},children:"Max Subtasks"}),(0,ze.jsxs)("select",{value:l.max_subtasks,onChange:e=>c((t=>({...t,max_subtasks:parseInt(e.target.value)}))),style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:5,children:"5 subtasks"}),(0,ze.jsx)("option",{value:10,children:"10 subtasks"}),(0,ze.jsx)("option",{value:15,children:"15 subtasks"}),(0,ze.jsx)("option",{value:20,children:"20 subtasks"})]})]})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2],cursor:"pointer",marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)("input",{type:"checkbox",checked:l.requires_approval,onChange:e=>c((t=>({...t,requires_approval:e.target.checked}))),style:{width:"16px",height:"16px",accentColor:Fa.colors.primary[500]}}),(0,ze.jsx)(Ws,{style:{margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:"Pause for approval after decomposition"})]}),(0,ze.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2],cursor:"pointer"},children:[(0,ze.jsx)("input",{type:"checkbox",checked:l.preserve_root_context,onChange:e=>c((t=>({...t,preserve_root_context:e.target.checked}))),style:{width:"16px",height:"16px",accentColor:Fa.colors.primary[500]}}),(0,ze.jsx)(Ws,{style:{margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:"Preserve existing tech stack and best practices (recommended)"})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:r,disabled:s,children:"Cancel"}),(0,ze.jsx)(fs,{variant:"primary",onClick:()=>{const e={...l,tech_preferences:{...l.tech_preferences,application_type:l.application_type,tech_stack_id:l.tech_stack_id}};delete e.application_type,delete e.tech_stack_id,a(e)},loading:s,children:"Restart Decomposition"})]})]}):null},Vi=e=>{switch(e){case"completed":return"success";case"in_progress":case"processing":return"info";case"awaiting_approval":case"error":case"failed":return"danger";default:return"warning"}},Ki=()=>{var e,t,r,o;const{taskId:a}=re(),s=te(),i=Z(),{isAuthenticated:l}=fa(),{setGlobalLoading:c}=Ea(),{connected:d,subscribe:u}=za(),{showNotification:p}=mi(),h=Pe(),m=null===(e=i.state)||void 0===e?void 0:e.justCreated,[f,g]=(0,n.useState)(!1),[y,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[k,j]=(0,n.useState)(null),[w,S]=(0,n.useState)(!1),[C,_]=(0,n.useState)({});(0,n.useEffect)((()=>{if(m&&(console.log("TaskBoard: Showing justCreated notification"),p("Task created! AI decomposition is starting...","success"),!d)){console.log("TaskBoard: Starting polling fallback");const e=setInterval((()=>{h.invalidateQueries(["task",a]),h.invalidateQueries(["taskTree",a])}),2e3);return setTimeout((()=>{clearInterval(e)}),12e4),()=>clearInterval(e)}}),[m,a]);const{data:N,isLoading:E,error:T,refetch:R}=ii({queryKey:["task",a],queryFn:()=>pa.getTask(a),enabled:!!a&&l(),staleTime:3e4}),{data:A,isLoading:z,error:I,refetch:P}=ii({queryKey:["taskTree",a],queryFn:()=>pa.getTaskTree(a),enabled:!!a&&l(),staleTime:3e4}),{techStack:O}=Li(N,!0);(0,n.useEffect)((()=>{if(N&&A){var e;console.log("TaskBoard: Evaluating decomposition status",{taskStatus:N.status,childrenCount:N.children_count,treeChildren:null===(e=A.children)||void 0===e?void 0:e.length,justCreated:m});const t=N.children_count&&N.children_count>0||A.children&&A.children.length>0,r="completed"===N.status,n="processing"===N.status||"in_progress"===N.status||m&&!t&&!r;console.log("TaskBoard: Setting isDecomposing to:",n),v(n)}else m?(console.log("TaskBoard: Task data not loaded, but justCreated - assuming decomposing"),v(!0)):v(!1)}),[null===N||void 0===N?void 0:N.status,null===N||void 0===N?void 0:N.children_count,null===A||void 0===A||null===(t=A.children)||void 0===t?void 0:t.length,m]);const L=ci({mutationFn:e=>{let{taskId:t,status:r}=e;return pa.updateTask(t,{status:r})},onSuccess:()=>{h.invalidateQueries(["task",a]),h.invalidateQueries(["taskTree",a]),h.invalidateQueries(["tasks"]),p("Task status updated successfully","success")},onError:e=>{p(e.userMessage||"Failed to update task status","error")}}),D=ci({mutationFn:e=>pa.deleteTask(e),onSuccess:()=>{h.invalidateQueries(["tasks"]),p("Task deleted successfully","success"),s("/dashboard")},onError:e=>{p(e.userMessage||"Failed to delete task","error")}}),F=ci({mutationFn:e=>{let{taskId:t,restartData:r}=e;return pa.restartDecomposition(t,r)},onSuccess:()=>{h.invalidateQueries(["task",a]),h.invalidateQueries(["taskTree",a]),h.invalidateQueries(["tasks"]),x(!1),v(!0),p("Decomposition restarted successfully!","success")},onError:e=>{p(e.userMessage||"Failed to restart decomposition","error")}});(0,n.useEffect)((()=>{if(a&&d){console.log("TaskBoard WebSocket setup:",{taskId:a,connected:d});return u((e=>{console.log("TaskBoard received WebSocket event:",e);const t=e.task_id===a,r=e.root_task_id===a;if(t||r){if(console.log("Processing event for task:",a,e.type),"task.updated"===e.type||"task.created"===e.type||"task.status_changed"===e.type||"task.completed"===e.type)if(h.invalidateQueries(["task",a]),h.invalidateQueries(["taskTree",a]),"task.completed"===e.type)p("Task completed!","success");else if("task.status_changed"===e.type){var n;const t=e.status||(null===(n=e.data)||void 0===n?void 0:n.status);"completed"===t?p("Task status updated to completed!","success"):p(`Task status updated to ${t}!`,"info")}else p(`Task ${e.type.split(".")[1]}!`,"info");"decomposition.started"===e.type?(v(!0),p("Decomposition started!","info")):"decomposition.completed"!==e.type&&"decomposition.error"!==e.type||v(!1),"task.created"===e.type&&e.parent_id===a&&(console.log("Detected decomposition start from task creation"),v(!0),p("Subtask created! Decomposition in progress...","success"))}else console.log("Ignoring event - not for our task:",{eventTaskId:e.task_id,eventParentId:e.parent_id,eventRootTaskId:e.root_task_id,ourTaskId:a,isForThisTask:t,isForSubtask:r})}))}a&&!d&&console.log("WebSocket not connected, cannot subscribe to events")}),[a,d]);const M=E||z,B=T||I,W=n.useMemo((()=>{if(!A)return{total:0,completed:0,pending:0,inProgress:0,awaitingApproval:0};const e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{total:0,completed:0,pending:0,inProgress:0,awaitingApproval:0};switch(r.total++,t.status){case"completed":r.completed++;break;case"in_progress":case"processing":r.inProgress++;break;case"awaiting_approval":r.awaitingApproval++;break;default:r.pending++}return t.children&&t.children.forEach((t=>e(t,r))),r};return e(A)}),[A]),$=(e,t)=>{L.mutate({taskId:e,status:t})};if(M)return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",flexDirection:"column",gap:Fa.spacing[4]},children:[(0,ze.jsx)(Ss,{size:"lg"}),(0,ze.jsx)(Ws,{style:{color:"var(--color-text-muted)"},children:"Loading task details..."})]});if(B)return(0,ze.jsx)("div",{className:"container",style:{paddingTop:Fa.spacing[8]},children:(0,ze.jsx)(_s,{title:"Failed to Load Task",message:B.userMessage||"Unable to load task details",onRetry:()=>{R(),P()}})});if(!N)return(0,ze.jsx)("div",{className:"container",style:{paddingTop:Fa.spacing[8]},children:(0,ze.jsx)(Cs,{icon:is,title:"Task Not Found",description:"The requested task could not be found or you don't have access to it.",action:(0,ze.jsx)(fs,{onClick:()=>s("/dashboard"),icon:os,children:"Back to Dashboard"})})});const U=W.total>0?Math.round(W.completed/W.total*100):0;console.log("TaskBoard completion rate:",{completionRate:U,taskStats:W,isFullyComplete:100===U});return(0,ze.jsxs)("div",{className:"container",style:{paddingTop:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:Fa.spacing[8],gap:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[4],marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"ghost",size:"sm",icon:os,onClick:()=>s("/dashboard"),children:"Dashboard"}),(0,ze.jsx)(Wi,{connected:d})]}),w?(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Bs,{htmlFor:"description",children:"Task Description"}),(0,ze.jsx)("textarea",{id:"description",value:C.description,onChange:e=>_({...C,description:e.target.value}),placeholder:"Describe what you want to build...",rows:3,style:{width:"100%",padding:Fa.spacing[2],borderRadius:Fa.borderRadius.md,border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0],resize:"vertical",outline:"none",boxSizing:"border-box",fontFamily:"inherit",marginBottom:Fa.spacing[3]}})]}):(0,ze.jsx)("span",{style:{fontSize:Fa.typography.fontSize["3xl"][0],lineHeight:Fa.typography.lineHeight.tight,fontWeight:Fa.typography.fontWeight.bold,marginBottom:Fa.spacing[2],color:Fa.colors.primary[500],display:"block"},children:N.description}),w?(0,ze.jsx)(qi,{formData:C,setFormData:_,onSubmit:()=>{const e={...C,tech_preferences:{...C.tech_preferences,application_type:C.application_type,tech_stack_id:C.tech_stack_id}};F.mutate({taskId:a,restartData:e}),S(!1)},onCancel:()=>S(!1),isLoading:F.isPending}):(0,ze.jsx)($i,{task:N})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[!w&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(zi,{task:N,localTaskTree:A,onShowToast:p}),"completed"!==N.status&&(0,ze.jsx)(fs,{variant:"success",size:"sm",icon:Ka,onClick:()=>$(N.task_id,"completed"),loading:L.isPending,title:"Mark this task as completed",children:"Mark Complete"}),(0,ze.jsx)(ys,{icon:es,variant:"danger",size:"sm",onClick:()=>g(!0),title:"Delete task"})]}),!N.parent_id&&(0,ze.jsx)(fs,{variant:"outline",size:"sm",icon:as,onClick:()=>{w?S(!1):(S(!0),_({description:(null===N||void 0===N?void 0:N.description)||"",application_type:(null===O||void 0===O?void 0:O.application_type)||"",tech_stack_id:(null===O||void 0===O?void 0:O.tech_stack_id)||"",max_depth:3,max_subtasks:10,complexity_threshold:.7,requires_approval:!1,preserve_root_context:!0,tech_preferences:{additional_requirements:(null===O||void 0===O?void 0:O.additional_requirements)||""}}))},title:w?"Exit edit mode":"Edit task",children:w?"Cancel Edit":"Edit"})]})]}),(0,ze.jsx)(Ui,{taskStats:W,completionRate:U}),(0,ze.jsx)(xi,{taskId:a,isDecomposing:b,onDecompositionComplete:()=>{h.invalidateQueries(["task",a]),h.invalidateQueries(["taskTree",a]),p("Task decomposition completed successfully!","success")}}),(0,ze.jsx)(vi,{parentTaskId:a}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:Fa.spacing[6],marginBottom:Fa.spacing[6],width:"100%",overflow:"hidden"},className:"task-board-layout",children:[(0,ze.jsx)("div",{style:{minWidth:0,overflow:"hidden"},children:(0,ze.jsx)(yi,{taskTree:A,onStatusChange:$,updating:L.isPending,onTaskSelect:j,onRefreshTree:P})}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[6],minWidth:0},children:[(0,ze.jsxs)(ks,{title:k?"Selected Task Details":"Task Details",children:[k&&(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[3],padding:Fa.spacing[2],backgroundColor:"var(--color-surface)",borderRadius:Fa.borderRadius.sm,fontSize:Fa.typography.fontSize.xs[0],color:"var(--color-text-muted)"},children:[(0,ze.jsx)("strong",{children:"Task ID:"})," ",null===(r=k.task_id)||void 0===r?void 0:r.substring(0,8),"... |",(0,ze.jsx)("strong",{children:" Status:"})," ",null===(o=k.status)||void 0===o?void 0:o.replace("_"," ")," |",(0,ze.jsx)("strong",{children:" Atomic:"})," ",k.is_atomic?"Yes":"No"]}),(0,ze.jsx)(Hi,{task:k||N}),(0,ze.jsx)(Ws,{style:{marginBottom:Fa.spacing[4],lineHeight:Fa.typography.lineHeight.relaxed},children:(k||N).description}),(k||N).implementation_details&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,marginBottom:Fa.spacing[2],fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide},children:["Implementation Details",(k||N).is_atomic&&(0,ze.jsx)(js,{variant:"success",size:"sm",style:{marginLeft:Fa.spacing[2]},children:"Atomic Task"})]}),(0,ze.jsx)("div",{style:{color:"var(--color-text)",fontSize:Fa.typography.fontSize.sm[0],lineHeight:Fa.typography.lineHeight.normal,backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:Fa.borderRadius.md,padding:Fa.spacing[3],whiteSpace:"pre-wrap",fontFamily:Fa.typography.fontFamily.mono,maxHeight:"300px",minHeight:"100px",overflowY:"scroll",overflowX:"hidden",wordWrap:"break-word",wordBreak:"break-word"},children:(k||N).implementation_details})]}),(k||N).additional_context&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,marginBottom:Fa.spacing[2],fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,marginTop:Fa.spacing[4]},children:"Additional Context"}),(0,ze.jsx)(Ws,{style:{color:"var(--color-text-muted)",fontSize:Fa.typography.fontSize.sm[0],lineHeight:Fa.typography.lineHeight.relaxed},children:(k||N).additional_context})]})]}),(0,ze.jsx)(ks,{title:"Progress Summary",children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsxs)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:"var(--color-text-muted)",margin:0,marginBottom:Fa.spacing[2]},children:["Overall Progress (",U,"%)"]}),(0,ze.jsx)(Ns,{value:U,variant:100===U?"success":"primary"})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("span",{style:{color:"var(--color-text-muted)"},children:"Pending:"}),(0,ze.jsx)("span",{style:{color:Fa.colors.warning[500]},children:W.pending})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("span",{style:{color:"var(--color-text-muted)"},children:"In Progress:"}),(0,ze.jsx)("span",{style:{color:Fa.colors.info[500]},children:W.inProgress})]}),W.awaitingApproval>0&&(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("span",{style:{color:"var(--color-text-muted)"},children:"Awaiting Approval:"}),(0,ze.jsx)("span",{style:{color:Fa.colors.error[500]},children:W.awaitingApproval})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("span",{style:{color:"var(--color-text-muted)"},children:"Completed:"}),(0,ze.jsx)("span",{style:{color:Fa.colors.success[500]},children:W.completed})]})]})})]})]}),(0,ze.jsxs)(ws,{isOpen:f,onClose:()=>g(!1),title:"Delete Task",children:[(0,ze.jsx)(Ws,{style:{marginBottom:Fa.spacing[6]},children:"Are you sure you want to delete this task? This action cannot be undone. All subtasks will also be permanently deleted."}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),(0,ze.jsx)(fs,{variant:"danger",onClick:()=>{c(!0),D.mutate(a,{onSettled:()=>c(!1)})},loading:D.isPending,children:"Delete Task"})]})]}),(0,ze.jsx)(Qi,{isOpen:y,onClose:()=>x(!1),task:N,onRestart:e=>F.mutate({taskId:a,restartData:e}),isLoading:F.isPending})]})};var Gi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ji=n.createContext&&n.createContext(Gi),Yi=["attr","size","title"];function Xi(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zi.apply(this,arguments)}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach((function(t){rl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nl(e){return e&&e.map(((e,t)=>n.createElement(e.tag,tl({key:t},e.attr),nl(e.child))))}function ol(e){return t=>n.createElement(al,Zi({attr:tl({},e.attr)},t),nl(e.child))}function al(e){var t=t=>{var r,{attr:o,size:a,title:s}=e,i=Xi(e,Yi),l=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",Zi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,i,{className:r,style:tl(tl({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&n.createElement("title",null,s),e.children)};return void 0!==Ji?n.createElement(Ji.Consumer,null,(e=>t(e))):t(Gi)}function sl(e){return ol({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function il(e){return ol({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}const ll=e=>{let{value:t,onChange:r}=e;const[o,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[g,y]=(0,n.useState)(!1),{isAuthenticated:x}=fa();(0,n.useEffect)((()=>{(async()=>{if(x)try{const e=await pa.get("/github/status");a(e.connected||!1)}catch(e){console.error("Failed to check GitHub connection:",e),a(!1)}})()}),[x]),(0,n.useEffect)((()=>{(async()=>{if(o){c(!0);try{const e=await pa.get("/github/user/repos");i(e||[])}catch(e){console.error("Failed to fetch repositories:",e),i([])}finally{c(!1)}}})()}),[o]);const b=s.filter((e=>e.full_name.toLowerCase().includes(p.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.toLowerCase()))),v=()=>{m&&(r({type:"custom",url:m,branch:"main",name:m.split("/").slice(-2).join("/")}),y(!1),f(""))},k=()=>{r(null),h(""),f(""),y(!1)};return o?t?(0,ze.jsxs)("div",{style:{padding:Fa.spacing[3],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsx)(sl,{size:18}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{weight:"medium",style:{margin:0},children:t.repo_name}),"url"===t.type&&(0,ze.jsx)(js,{size:"sm",variant:"secondary",children:"Public URL"})]})]}),(0,ze.jsx)(fs,{type:"button",size:"sm",variant:"secondary",onClick:k,children:"Change"})]}):(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[2]},children:[(0,ze.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,ze.jsx)("input",{type:"text",placeholder:l?"Loading repositories...":"Search your repositories...",value:p,onChange:e=>h(e.target.value),onFocus:()=>u(!0),disabled:l,style:{width:"100%",padding:`${Fa.spacing[2]} ${Fa.spacing[3]}`,paddingLeft:"36px",border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]}}),(0,ze.jsx)(sl,{size:16,style:{position:"absolute",left:Fa.spacing[3],top:"50%",transform:"translateY(-50%)",color:Fa.colors.dark.muted}}),d&&!l&&(0,ze.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:Fa.spacing[1],maxHeight:"300px",overflowY:"auto",backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,boxShadow:Fa.boxShadow.lg,zIndex:100},children:[b.length>0?b.map((e=>(0,ze.jsx)("button",{type:"button",onClick:()=>(e=>{r({type:"github",url:e.html_url||`https://github.com/${e.full_name}`,branch:e.default_branch||"main",name:e.full_name}),u(!1),h("")})(e),style:{display:"block",width:"100%",padding:Fa.spacing[3],textAlign:"left",backgroundColor:"transparent",border:"none",borderBottom:`1px solid ${Fa.colors.dark.border}`,cursor:"pointer",transition:Fa.transitions.colors},onMouseEnter:e=>{e.target.style.backgroundColor=Fa.colors.dark.hover},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsx)(Ws,{weight:"medium",style:{margin:0},children:e.name}),(0,ze.jsxs)(Ws,{size:"xs",style:{color:Fa.colors.dark.muted,margin:0},children:[e.owner," ",e.private&&"\u2022 Private"," ",e.language&&`\u2022 ${e.language}`]}),e.description&&(0,ze.jsx)(Ws,{size:"xs",style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[1]} 0 0 0`},children:e.description})]})})},e.id))):(0,ze.jsx)("div",{style:{padding:Fa.spacing[4],textAlign:"center"},children:(0,ze.jsx)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted},children:p?"No matching repositories found":"No repositories found"})}),(0,ze.jsxs)("button",{type:"button",onClick:()=>{u(!1),y(!0)},style:{display:"flex",alignItems:"center",gap:Fa.spacing[2],width:"100%",padding:Fa.spacing[3],backgroundColor:Fa.colors.primary[50],border:"none",cursor:"pointer"},children:[(0,ze.jsx)(il,{size:14}),(0,ze.jsx)(Ws,{weight:"medium",style:{margin:0},children:"Use Public Repository URL"})]})]})]}),l&&(0,ze.jsx)(Ss,{size:"sm"})]}),g&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[3]},children:[(0,ze.jsx)("input",{type:"url",placeholder:"https://github.com/owner/repository",value:m,onChange:e=>f(e.target.value),style:{width:"100%",padding:Fa.spacing[2],border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,backgroundColor:Fa.colors.dark.bg,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]}}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[2],marginTop:Fa.spacing[2]},children:[(0,ze.jsx)(fs,{type:"button",size:"sm",variant:"primary",onClick:v,disabled:!m,children:"Add Repository"}),(0,ze.jsx)(fs,{type:"button",size:"sm",variant:"secondary",onClick:()=>{y(!1),f("")},children:"Cancel"})]})]}),d&&(0,ze.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>u(!1)})]}):(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.warning[50],border:`1px solid ${Fa.colors.warning[200]}`},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3]},children:[(0,ze.jsx)(sl,{size:24,style:{color:Fa.colors.warning[500]}}),(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsx)(Ws,{weight:"semibold",children:"GitHub Not Connected"}),(0,ze.jsx)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted,margin:0},children:"Connect your GitHub account in Settings to select from your repositories, or enter a public repository URL."})]}),(0,ze.jsxs)(fs,{type:"button",size:"sm",variant:"secondary",onClick:()=>y(!0),children:[(0,ze.jsx)(il,{size:14,style:{marginRight:Fa.spacing[1]}}),"Use URL"]})]}),g&&(0,ze.jsxs)("div",{style:{marginTop:Fa.spacing[3]},children:[(0,ze.jsx)("input",{type:"url",placeholder:"https://github.com/owner/repository",value:m,onChange:e=>f(e.target.value),style:{width:"100%",padding:Fa.spacing[2],border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,backgroundColor:Fa.colors.dark.bg,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]}}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[2],marginTop:Fa.spacing[2]},children:[(0,ze.jsx)(fs,{type:"button",size:"sm",variant:"primary",onClick:v,disabled:!m,children:"Add Repository"}),(0,ze.jsx)(fs,{type:"button",size:"sm",variant:"secondary",onClick:()=>{y(!1),f("")},children:"Cancel"})]})]})]})},cl=e=>{let{steps:t,currentStep:r}=e;return(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:Fa.spacing[2],marginBottom:Fa.spacing[6]},children:t.map(((e,n)=>{const o=n===r,a=n<r;return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:Fa.borderRadius.full,backgroundColor:a?Fa.colors.success[500]:o?Fa.colors.primary[500]:Fa.colors.dark.border,color:o||a?Fa.colors.neutral[0]:Fa.colors.dark.muted,fontWeight:Fa.typography.fontWeight.medium,fontSize:Fa.typography.fontSize.sm[0]},children:a?(0,ze.jsx)(Ka,{size:20}):n+1}),n<t.length-1&&(0,ze.jsx)("div",{style:{width:"40px",height:"2px",backgroundColor:n<r?Fa.colors.success[500]:Fa.colors.dark.border,margin:`0 ${Fa.spacing[2]}`}})]},e.id)}))})},dl=e=>{let{data:t,onUpdate:r,onNext:n}=e;return(0,ze.jsxs)(ks,{padding:"lg",children:[(0,ze.jsxs)(bs,{children:[(0,ze.jsx)(Ps,{style:{margin:0},children:(0,ze.jsx)("span",{style:{color:Fa.colors.primary[500],fontWeight:Fa.typography.fontWeight.semibold},children:"What do you want to build?"})}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[2]} 0 0 0`},children:"Describe your project or task in detail. The more specific you are, the better our AI can help decompose it."})]}),(0,ze.jsxs)(vs,{children:[(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Project Description *"}),(0,ze.jsx)("textarea",{value:t.description,onChange:e=>r({description:e.target.value}),placeholder:"e.g., Build a task management app with real-time collaboration, user authentication, and drag-and-drop boards...",style:{width:"100%",minHeight:"120px",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0],lineHeight:"1.5",resize:"vertical"},rows:5})]}),(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3]},children:(0,ze.jsx)(fs,{variant:"primary",disabled:!t.description.trim(),onClick:n,icon:rs,children:"Continue"})})]})]})},ul=e=>{let{data:t,onUpdate:r,onNext:n,onPrev:o}=e;const a=Fi(),s=t.application_type?Mi(t.application_type):[],i=t.application_type&&t.tech_stack_id?Bi(t.application_type,t.tech_stack_id):null;return(0,ze.jsxs)(ks,{padding:"lg",children:[(0,ze.jsxs)(bs,{children:[(0,ze.jsx)(Ps,{style:{margin:0},children:(0,ze.jsx)("span",{style:{color:Fa.colors.primary[500],fontWeight:Fa.typography.fontWeight.semibold},children:"Choose Your Tech Stack"})}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[2]} 0 0 0`},children:'Choose from proven tech stack combinations, then customize individual components in "Additional Requirements" if needed. Our AI will adapt the recommendations to your specific needs.'})]}),(0,ze.jsxs)(vs,{children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:Fa.spacing[4],marginBottom:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Type of Application *"}),(0,ze.jsxs)("select",{value:t.application_type||"",onChange:e=>{const n=e.target.value;r({application_type:n,tech_stack_id:"",tech_preferences:{...t.tech_preferences,frontend_framework:"",backend_language:"",database:""}})},style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Let AI choose application type"}),a.map((e=>(0,ze.jsxs)("option",{value:e.id,children:[e.label," - ",e.description]},e.id)))]})]}),t.application_type&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Tech Stack"}),(0,ze.jsxs)("select",{value:t.tech_stack_id||"",onChange:e=>{const n=e.target.value,o=Bi(t.application_type,n);r({tech_stack_id:n,tech_preferences:{...t.tech_preferences,frontend_framework:(null===o||void 0===o?void 0:o.frontend_framework)||"",backend_language:(null===o||void 0===o?void 0:o.backend_language)||"",database:(null===o||void 0===o?void 0:o.database)||""}})},style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:"",children:"Let AI choose tech stack"}),s.map((e=>(0,ze.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id)))]})]}),i&&(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsx)(Ds,{style:{fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[3]},children:"Selected Tech Stack Details:"}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:Fa.spacing[3]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Frontend"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:i.frontend_framework})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Backend"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:i.backend_language})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Database"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:i.database})]})]})]})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Additional Requirements & Overrides"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.xs[0],marginBottom:Fa.spacing[2],margin:`0 0 ${Fa.spacing[2]} 0`},children:'Specify additional requirements or override specific tech stack components (e.g., "Use Kafka instead of Redis for messaging", "No database needed", "Use TypeScript", "Add real-time features")'}),(0,ze.jsx)("textarea",{value:t.tech_preferences.additional_requirements,onChange:e=>r({tech_preferences:{...t.tech_preferences,additional_requirements:e.target.value}}),placeholder:"e.g., Use Kafka for messaging instead of Redis, implement real-time WebSocket features, must be mobile-responsive, use TypeScript throughout...",style:{width:"100%",minHeight:"100px",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0],lineHeight:"1.5",resize:"vertical"},rows:4})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:o,icon:ns,children:"Previous"}),(0,ze.jsx)(fs,{variant:"primary",onClick:n,icon:rs,children:"Continue"})]})]})]})},pl=e=>{let{data:t,onUpdate:r,onNext:n,onPrev:o}=e;return(0,ze.jsxs)(ks,{padding:"lg",children:[(0,ze.jsxs)(bs,{children:[(0,ze.jsx)(Ps,{style:{margin:0},children:(0,ze.jsx)("span",{style:{color:Fa.colors.primary[500],fontWeight:Fa.typography.fontWeight.semibold},children:"Fine-tune AI Parameters"})}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[2]} 0 0 0`},children:"Configure how our AI will decompose your task. These settings control the depth and complexity of the breakdown."})]}),(0,ze.jsxs)(vs,{children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Fa.spacing[6],marginBottom:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Maximum Depth"}),(0,ze.jsxs)("select",{value:t.max_depth,onChange:e=>r({max_depth:parseInt(e.target.value)}),style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:2,children:"2 levels - Quick breakdown"}),(0,ze.jsx)("option",{value:3,children:"3 levels - Balanced detail"}),(0,ze.jsx)("option",{value:4,children:"4 levels - Detailed analysis"}),(0,ze.jsx)("option",{value:5,children:"5 levels - Maximum depth"})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Max Subtasks per Level"}),(0,ze.jsxs)("select",{value:t.max_subtasks,onChange:e=>r({max_subtasks:parseInt(e.target.value)}),style:{width:"100%",padding:Fa.spacing[3],borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0]},children:[(0,ze.jsx)("option",{value:5,children:"5 subtasks - Concise"}),(0,ze.jsx)("option",{value:10,children:"10 subtasks - Standard"}),(0,ze.jsx)("option",{value:15,children:"15 subtasks - Comprehensive"}),(0,ze.jsx)("option",{value:20,children:"20 subtasks - Exhaustive"})]})]})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsxs)("label",{style:{display:"block",fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:["Complexity Threshold: ",t.complexity_threshold]}),(0,ze.jsx)("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:t.complexity_threshold,onChange:e=>r({complexity_threshold:parseFloat(e.target.value)}),style:{width:"100%",height:"4px",borderRadius:Fa.borderRadius.full,backgroundColor:Fa.colors.dark.border,outline:"none",appearance:"none",cursor:"pointer"}}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,marginTop:Fa.spacing[1]},children:[(0,ze.jsx)("span",{children:"Simple tasks"}),(0,ze.jsx)("span",{children:"Complex tasks"})]}),(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginTop:Fa.spacing[2],margin:`${Fa.spacing[2]} 0 0 0`},children:"Lower values create more detailed subtasks, higher values keep tasks more general."})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:o,icon:ns,children:"Previous"}),(0,ze.jsx)(fs,{variant:"primary",onClick:n,icon:rs,children:"Continue"})]})]})]})},hl=e=>{var t;let{data:r,onUpdate:n,onPrev:o,onSubmit:a,isLoading:s}=e;const i=r.application_type?null===(t=Fi().find((e=>e.id===r.application_type)))||void 0===t?void 0:t.label:null,l=r.application_type&&r.tech_stack_id?Bi(r.application_type,r.tech_stack_id):null;return(0,ze.jsxs)(ks,{padding:"lg",children:[(0,ze.jsxs)(bs,{children:[(0,ze.jsx)(Ps,{style:{margin:0},children:(0,ze.jsx)("span",{style:{color:Fa.colors.primary[500],fontWeight:Fa.typography.fontWeight.semibold},children:"Review & Create"})}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[2]} 0 0 0`},children:"Review your task configuration and create your AI-powered project breakdown."})]}),(0,ze.jsxs)(vs,{children:[(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Task Description"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,lineHeight:"1.5",margin:0},children:r.description})]}),(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[6]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Repository Context (Optional)"}),(0,ze.jsx)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[3]},children:"Select a repository to provide codebase context for better task decomposition"}),(0,ze.jsx)(ll,{value:r.repository,onChange:e=>n({repository:e})})]}),(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[3]},children:"Application & Tech Stack"}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Fa.spacing[4],marginBottom:l?Fa.spacing[3]:0},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Application Type"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0},children:i||"AI will choose"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Tech Stack"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0},children:l?l.name:"AI will choose"})]})]}),l&&(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:Fa.spacing[3],paddingTop:Fa.spacing[3],borderTop:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Frontend"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:l.frontend_framework})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Backend"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:l.backend_language})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,marginBottom:Fa.spacing[1]},children:"Database"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.text,margin:0,fontSize:Fa.typography.fontSize.sm[0]},children:l.database})]})]})]}),r.tech_preferences.additional_requirements&&(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,marginBottom:Fa.spacing[2]},children:"Additional Requirements"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,lineHeight:"1.5",margin:0},children:r.tech_preferences.additional_requirements})]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Fa.spacing[4],marginBottom:Fa.spacing[6],flexWrap:"wrap"},children:[(0,ze.jsxs)(js,{variant:"info",size:"lg",children:["Max Depth: ",r.max_depth]}),(0,ze.jsxs)(js,{variant:"info",size:"lg",children:["Max Subtasks: ",r.max_subtasks]}),(0,ze.jsxs)(js,{variant:"info",size:"lg",children:["Complexity: ",r.complexity_threshold]})]}),(0,ze.jsx)("div",{style:{padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,backgroundColor:Fa.colors.dark.surface,border:`1px solid ${Fa.colors.dark.border}`,marginBottom:Fa.spacing[4]},children:(0,ze.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3],cursor:"pointer"},children:[(0,ze.jsx)("input",{type:"checkbox",checked:r.requires_approval,onChange:e=>n({requires_approval:e.target.checked}),style:{width:"18px",height:"18px",accentColor:Fa.colors.primary[500]}}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0},children:"Review decomposition before processing"}),(0,ze.jsx)(Ds,{style:{color:Fa.colors.dark.muted,margin:`${Fa.spacing[1]} 0 0 0`},children:"Pause after task decomposition to review and approve suggested subtasks"})]})]})}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:o,icon:ns,disabled:s,children:"Previous"}),(0,ze.jsx)(fs,{variant:"primary",onClick:a,icon:Za,loading:s,children:"Create & Decompose"})]})]})]})},ml=()=>{const e=te(),{showSuccess:t,showError:r}=Ea(),{mutate:o,isPending:a}=(Pe(),ci({mutationFn:async e=>await pa.post("/tasks",e),onSuccess:()=>{Sr.list(),Sr.stats()},onError:e=>{console.error("Failed to create task:",e)}})),[s,i]=(0,n.useState)(0),[l,c]=(0,n.useState)({description:"",application_type:"",tech_stack_id:"",max_depth:3,max_subtasks:10,complexity_threshold:.7,use_context:!0,requires_approval:!1,tech_preferences:{frontend_framework:"",backend_language:"",database:"",additional_requirements:""}}),d=[{id:"description",title:"Description"},{id:"tech-stack",title:"Tech Stack"},{id:"configuration",title:"Configuration"},{id:"review",title:"Review"}],u=e=>{c((t=>({...t,...e})))},p=()=>{s<d.length-1&&i(s+1)},h=()=>{s>0&&i(s-1)},m=()=>{const t={...l,tech_preferences:{...l.tech_preferences,application_type:l.application_type,tech_stack_id:l.tech_stack_id},application_type:void 0,tech_stack_id:void 0,repository:l.repository||null};o(t,{onSuccess:t=>{e(`/tasks/${t.task_id}`,{state:{justCreated:!0,showDecompositionFeedback:!0}})},onError:e=>{r(`Failed to create task: ${e.message}`)}})};return(0,ze.jsxs)("div",{className:"container",style:{paddingTop:Fa.spacing[6]},children:[(0,ze.jsx)("header",{style:{marginBottom:Fa.spacing[8]},children:(0,ze.jsxs)("div",{style:{textAlign:"center"},children:[(0,ze.jsx)(Is,{style:{margin:0,color:Fa.colors.primary[500]},children:"Create New Task"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,marginTop:Fa.spacing[2],margin:`${Fa.spacing[2]} 0 0 0`,maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:"Leverage AI to decompose complex projects into manageable subtasks with our guided wizard"})]})}),(0,ze.jsx)(cl,{steps:d,currentStep:s}),(0,ze.jsx)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:(()=>{switch(s){case 0:return(0,ze.jsx)(dl,{data:l,onUpdate:u,onNext:p});case 1:return(0,ze.jsx)(ul,{data:l,onUpdate:u,onNext:p,onPrev:h});case 2:return(0,ze.jsx)(pl,{data:l,onUpdate:u,onNext:p,onPrev:h});case 3:return(0,ze.jsx)(hl,{data:l,onUpdate:u,onPrev:h,onSubmit:m,isLoading:a});default:return null}})()})]})},fl=()=>(0,ze.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,ze.jsx)("h1",{className:"text-6xl font-bold text-primary-600",children:"404"}),(0,ze.jsx)("h2",{className:"mt-2 text-2xl font-semibold text-secondary-800",children:"Page Not Found"}),(0,ze.jsx)("p",{className:"mt-4 text-secondary-600 text-center max-w-md",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),(0,ze.jsx)(Te,{to:"/",className:"mt-8 btn btn-primary",children:"Return to Dashboard"})]}),gl=e=>{let{title:t,description:r,image:n,article:o=!1,author:a,publishedTime:s,tags:i=[]}=e;const l=Z(),c="https://cahoots.cc",d=`${c}${l.pathname}`,u="Cahoots Project Manager",p=`${c}/text-logo.png`,h=t?`${t} | ${u}`:u,m=r||"Transform complex software projects into manageable tasks with AI-powered decomposition. Cahoots helps teams break down requirements into atomic, actionable work items.",f=n||p,g=o?{"@context":"https://schema.org","@type":"BlogPosting",headline:t,description:m,image:f,author:{"@type":"Person",name:a||"Cahoots Team"},publisher:{"@type":"Organization",name:"Cahoots",logo:{"@type":"ImageObject",url:p}},datePublished:s,keywords:i.join(", "),mainEntityOfPage:{"@type":"WebPage","@id":d}}:null,y={"@context":"https://schema.org","@type":"Organization",name:"Cahoots",url:c,logo:p,sameAs:["https://github.com/cahoots-org"]};return(0,ze.jsxs)(At,{children:[(0,ze.jsx)("title",{children:h}),(0,ze.jsx)("meta",{name:"title",content:h}),(0,ze.jsx)("meta",{name:"description",content:m}),(0,ze.jsx)("link",{rel:"canonical",href:d}),(0,ze.jsx)("meta",{property:"og:type",content:o?"article":"website"}),(0,ze.jsx)("meta",{property:"og:url",content:d}),(0,ze.jsx)("meta",{property:"og:title",content:h}),(0,ze.jsx)("meta",{property:"og:description",content:m}),(0,ze.jsx)("meta",{property:"og:image",content:f}),(0,ze.jsx)("meta",{property:"og:site_name",content:"Cahoots"}),(0,ze.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,ze.jsx)("meta",{property:"twitter:url",content:d}),(0,ze.jsx)("meta",{property:"twitter:title",content:h}),(0,ze.jsx)("meta",{property:"twitter:description",content:m}),(0,ze.jsx)("meta",{property:"twitter:image",content:f}),o&&a&&(0,ze.jsx)("meta",{property:"article:author",content:a}),o&&s&&(0,ze.jsx)("meta",{property:"article:published_time",content:s}),o&&i.length>0&&i.map(((e,t)=>(0,ze.jsx)("meta",{property:"article:tag",content:e},t))),g&&(0,ze.jsx)("script",{type:"application/ld+json",children:JSON.stringify(g)}),!o&&"/"===l.pathname&&(0,ze.jsx)("script",{type:"application/ld+json",children:JSON.stringify(y)})]})},yl=()=>(0,ze.jsx)("img",{src:"/icons/cottage.png",alt:"Cahoots Cottage",width:"80",height:"80",className:"mx-auto mb-6"}),xl=()=>{const e=te(),{login:t}=fa();return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsx)(gl,{title:"AI-Powered Project Task Decomposition",description:"Transform complex software projects into manageable tasks with Cahoots. Our AI-powered decomposition breaks down requirements into atomic, actionable work items."}),(0,ze.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 relative",children:[(0,ze.jsxs)("div",{className:"max-w-4xl w-full text-center fade-in",children:[(0,ze.jsx)(yl,{}),(0,ze.jsx)("h1",{className:"heading-1 gradient-text mb-4",children:"Where Great Projects Come Together"}),(0,ze.jsx)("p",{className:"text-xl mb-8 max-w-2xl mx-auto",style:{color:"var(--color-text)"},children:"AI-powered task decomposition that breaks down complex software projects into manageable, actionable work items."}),(0,ze.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[(0,ze.jsx)("button",{className:"btn btn-primary text-lg px-8 py-3",onClick:()=>e("/login"),children:"Get Started Free"}),(0,ze.jsx)("button",{className:"btn btn-secondary text-lg px-8 py-3",onClick:()=>e("/about"),children:"Learn More"})]})]}),(0,ze.jsxs)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-center cursor-pointer hover:text-brand-vibrant-orange transition-colors",onClick:()=>{const e=document.getElementById("features-section");e&&e.scrollIntoView({behavior:"smooth"})},children:[(0,ze.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--color-text-muted)"},children:"See how it works"}),(0,ze.jsx)("div",{className:"animate-bounce",children:(0,ze.jsx)("svg",{className:"w-6 h-6 text-brand-vibrant-orange mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})]}),(0,ze.jsx)("div",{className:"h-24",style:{background:"linear-gradient(to bottom, var(--color-bg), var(--color-surface))"}}),(0,ze.jsx)("div",{id:"features-section",style:{backgroundColor:"var(--color-surface)"},children:(0,ze.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[(0,ze.jsxs)("div",{className:"text-center mb-12",children:[(0,ze.jsx)("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-text)"},children:"How It Works"}),(0,ze.jsx)("p",{className:"text-xl",style:{color:"var(--color-text-muted)"},children:"Three simple steps to organized, actionable project plans"})]}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-orange bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83e\udde9"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-text)"},children:"1. Describe Your Project"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Tell us about your big idea or complex feature in plain english."})]}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-blue bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\u26a1"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-text)"},children:"2. AI Breaks It Down"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Watch as complex requirements become organized, atomic tasks with clear acceptance criteria."})]}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-green bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83d\ude80"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-text)"},children:"3. Export & Execute"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Send tasks to your favorite project management tool. Start building!"})]})]}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:[(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-purple-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"})}),(0,ze.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Smart Task Trees"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Visual hierarchy shows how your project breaks down, with complexity scoring and story point estimation."})]}),(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,ze.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Trello & JIRA Export"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Export to your team's existing workflow. Boards, cards, and tickets created automatically."})]}),(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\u26a1"})}),(0,ze.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Real-Time Updates"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Watch your project break down into atomic tasks in real-time."})]}),(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-orange-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83e\udd16"})}),(0,ze.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Atomic Detection"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"AI knows when tasks are small enough to execute directly."})]})]}),(0,ze.jsxs)("div",{className:"text-center rounded-lg p-8",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Ready to Turn Ideas into Action?"}),(0,ze.jsx)("p",{className:"mb-6",style:{color:"var(--color-text-muted)"},children:"Join developers who are already using AI to streamline their project planning."}),(0,ze.jsx)("button",{className:"btn btn-primary text-lg px-8 py-3",onClick:()=>e("/login"),children:"Start Planning Now"})]})]})}),(0,ze.jsx)(qs,{})]})},bl=e=>{let{size:t="text-3xl",className:r=""}=e;const n={"text-2xl":"32px","text-3xl":"48px","text-6xl":"96px"}[t]||"48px";return(0,ze.jsx)("img",{src:"/icons/cottage.png",alt:"Cahoots Cottage",style:{width:n,height:n},className:`mx-auto ${r}`})},vl=()=>{const e=te();return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsx)("div",{style:{background:"linear-gradient(to bottom, var(--color-bg), var(--color-surface))"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[(0,ze.jsx)(bl,{size:"text-6xl",className:"mb-6"}),(0,ze.jsx)("h1",{className:"heading-1 gradient-text mb-4",children:"About Cahoots"}),(0,ze.jsx)("p",{className:"text-xl max-w-2xl mx-auto",style:{color:"var(--color-text)"},children:"Revolutionizing software development through intelligent AI-human collaboration"})]})}),(0,ze.jsx)("div",{className:"py-16",style:{backgroundColor:"var(--color-surface)"},children:(0,ze.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h2",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text)"},children:"Our Mission"}),(0,ze.jsxs)("p",{className:"text-lg mb-4",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("strong",{children:"Cahoots"})," is about augmenting human software development teams with AI capabilities."]}),(0,ze.jsx)("p",{className:"mb-6",style:{color:"var(--color-text-muted)"},children:"Our vision is to create a collaborative ecosystem where AI and humans work side-by-side, enhancing productivity, creativity, and project outcomes."}),(0,ze.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ze.jsx)("span",{className:"px-3 py-1 bg-brand-vibrant-orange bg-opacity-20 text-brand-vibrant-orange rounded-full text-sm font-medium",children:"AI-Powered"}),(0,ze.jsx)("span",{className:"px-3 py-1 bg-brand-vibrant-blue bg-opacity-20 text-brand-vibrant-blue rounded-full text-sm font-medium",children:"Human-Centered"}),(0,ze.jsx)("span",{className:"px-3 py-1 bg-brand-vibrant-green bg-opacity-20 text-brand-vibrant-green rounded-full text-sm font-medium",children:"Collaborative"})]})]}),(0,ze.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-orange bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83c\udfaf"})}),(0,ze.jsx)("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Smart Planning"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"AI-powered task decomposition"})]}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-blue bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83e\udd1d"})}),(0,ze.jsx)("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Human Collaboration"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Seamless AI-human handoffs"})]}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-brand-vibrant-green bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83d\ude80"})}),(0,ze.jsx)("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Productivity"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Enhanced team capacity"})]}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("div",{className:"w-16 h-16 bg-purple-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ze.jsx)("span",{className:"text-3xl",children:"\ud83c\udf3f"})}),(0,ze.jsx)("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Flow"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Fill in the gaps in your team's workflow"})]})]})]})})}),(0,ze.jsx)("div",{className:"py-16",style:{backgroundColor:"var(--color-bg)"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,ze.jsx)("h2",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text)"},children:"Our Philosophy"}),(0,ze.jsx)("p",{className:"text-lg mb-8",style:{color:"var(--color-text)"},children:"Provide AI assistance to teams where it is needed most."}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf33"}),(0,ze.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--color-text)"},children:"Growth & Stability"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Building systems that grow with your team's needs while maintaining reliability."})]}),(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd78\ufe0f"}),(0,ze.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--color-text)"},children:"Interconnection"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Creating networks of collaboration where AI and humans strengthen each other's capabilities."})]}),(0,ze.jsxs)("div",{className:"card card-hover p-6",children:[(0,ze.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd8b"}),(0,ze.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--color-text)"},children:"Transformation"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Enabling teams to evolve and adapt to new challenges with intelligent support systems."})]})]})]})}),(0,ze.jsx)("div",{className:"py-16",style:{backgroundColor:"var(--color-surface)"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,ze.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",style:{color:"var(--color-text)"},children:"What We're Building Today"}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,ze.jsxs)("div",{className:"card p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-brand-vibrant-orange bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83e\udde9"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text)"},children:"Task Decomposition"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"AI-powered breakdown of complex projects into atomic, actionable tasks with clear acceptance criteria."})]}),(0,ze.jsxs)("div",{className:"card p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-brand-vibrant-blue bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text)"},children:"Team Integration"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Seamless export to Trello, JIRA, and other project management tools your team already uses."})]}),(0,ze.jsxs)("div",{className:"card p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-purple-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text)"},children:"Smart Estimation"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"AI-driven complexity scoring and story point estimation to help teams plan more effectively."})]}),(0,ze.jsxs)("div",{className:"card p-6",children:[(0,ze.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ze.jsx)("div",{className:"w-12 h-12 bg-brand-vibrant-green bg-opacity-20 rounded-lg flex items-center justify-center mr-4",children:(0,ze.jsx)("span",{className:"text-2xl",children:"\u26a1"})}),(0,ze.jsx)("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text)"},children:"Customization"})]}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Receive task breakdowns that are tailored to your team's needs and preferences."})]})]})]})}),(0,ze.jsx)("div",{className:"py-16",style:{backgroundColor:"var(--color-bg)"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,ze.jsx)("h2",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text)"},children:"The Future of Development"}),(0,ze.jsx)("p",{className:"text-lg mb-8",style:{color:"var(--color-text-muted)"},children:"We believe the next leap in software development will come from intelligent, context-aware collaboration\u2014not just automation."}),(0,ze.jsxs)("div",{className:"rounded-lg p-8 mb-8",style:{backgroundColor:"var(--color-surface)"},children:[(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--color-text)"},children:"Coming Soon"}),(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:"\ud83d\udd17 Deeper Integrations"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Slack, GitHub, and CI/CD pipeline connections"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:"\ud83c\udfa8 UX & Design AI"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"AI agents specialized in user experience design"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:"\ud83d\udd0d QA Automation"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Intelligent testing and quality assurance workflows"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:"\ud83d\udcc8 Project Intelligence"}),(0,ze.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Advanced analytics and predictive project insights"})]})]})]}),(0,ze.jsx)("button",{className:"btn btn-primary text-lg px-8 py-3",onClick:()=>e("/login"),children:"Join the Future"})]})}),(0,ze.jsx)(qs,{})]})},kl=()=>{const[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)("success"),i=(0,n.useRef)(null),l=(0,n.useRef)(!0);(0,n.useEffect)((()=>()=>{l.current=!1,i.current&&clearTimeout(i.current)}),[]);return{showToast:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";l.current&&(i.current&&clearTimeout(i.current),t(e),s(r),o(!0),i.current=setTimeout((()=>{l.current&&o(!1)}),5e3))},ToastComponent:()=>r&&(0,ze.jsx)("div",{style:{position:"fixed",bottom:"1rem",right:"1rem",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",zIndex:1e3,color:"#ffffff",fontSize:"0.875rem",minWidth:"200px",maxWidth:"400px",border:"1px solid",backgroundColor:"success"===a?"#064E3B":"error"===a?"#7F1D1D":"warning"===a?"#92400E":"#1E3A8A",borderColor:"success"===a?"#059669":"error"===a?"#B91C1C":"warning"===a?"#D97706":"#2563EB"},children:e})}},jl=()=>{const[e,t]=(0,n.useState)({name:"",email:"",subject:"",message:""}),[r,o]=(0,n.useState)(!1),{addToast:a}=kl(),s=r=>{t({...e,[r.target.name]:r.target.value})};return(0,ze.jsxs)("div",{style:{backgroundColor:"var(--color-bg)",minHeight:"100vh"},children:[(0,ze.jsxs)("div",{className:"max-w-2xl mx-auto py-12 px-4",children:[(0,ze.jsxs)("div",{className:"text-center mb-8",children:[(0,ze.jsx)("h1",{className:"heading-1 mb-4",style:{color:"var(--color-text)"},children:"Contact Us"}),(0,ze.jsx)("p",{className:"text-lg",style:{color:"var(--color-text)"},children:"We'd love to hear from you! Send us a message and we'll get back to you as soon as possible."})]}),(0,ze.jsxs)("div",{className:"card p-8",children:[(0,ze.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),o(!0);try{const r=encodeURIComponent(e.subject||"Contact Form Submission"),n=`mailto:admin@cahoots.cc?subject=${r}&body=${encodeURIComponent(`Name: ${e.name}\nEmail: ${e.email}\n\nMessage:\n${e.message}`)}`;window.location.href=n,t({name:"",email:"",subject:"",message:""}),a("Email client opened with your message!","success")}catch(n){a("Unable to open email client. Please email us directly at admin@cahoots.cc","error")}finally{o(!1)}},className:"space-y-6",children:[(0,ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Name *"}),(0,ze.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:s,required:!0,className:"input-field w-full",placeholder:"Your full name"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Email *"}),(0,ze.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:s,required:!0,className:"input-field w-full",placeholder:"your.email@example.com"})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Subject"}),(0,ze.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:s,className:"input-field w-full",placeholder:"What's this about?"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Message *"}),(0,ze.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:s,required:!0,rows:6,className:"input-field w-full resize-none",placeholder:"Tell us about your question, feedback, or how we can help..."})]}),(0,ze.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ze.jsx)("button",{type:"submit",disabled:r,className:"btn btn-primary px-8 py-3",children:r?"Opening Email...":"Send Message"}),(0,ze.jsx)("a",{href:"mailto:admin@cahoots.cc",className:"btn btn-secondary px-8 py-3 text-center",children:"Email Directly"})]})]}),(0,ze.jsx)("div",{className:"mt-8 pt-6 border-t",style:{borderColor:"var(--color-border)"},children:(0,ze.jsx)("div",{className:"text-center",children:(0,ze.jsxs)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:["You can also reach us directly at:"," ",(0,ze.jsx)("a",{href:"mailto:admin@cahoots.cc",className:"text-brand-vibrant-orange font-semibold",children:"admin@cahoots.cc"})]})})})]})]}),(0,ze.jsx)(qs,{})]})},wl=()=>{const e=te();return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsx)("div",{style:{background:"linear-gradient(to bottom, var(--color-bg), var(--color-surface))"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[(0,ze.jsx)(bl,{size:"text-4xl",className:"mb-4"}),(0,ze.jsx)("h1",{className:"heading-1 gradient-text mb-4",children:"Privacy Policy"}),(0,ze.jsx)("p",{className:"text-lg",style:{color:"var(--color-text-muted)"},children:"Last Updated: August 3, 2025"})]})}),(0,ze.jsx)("div",{className:"py-8",style:{backgroundColor:"var(--color-surface)"},children:(0,ze.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,ze.jsxs)("div",{className:"card p-8",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Introduction"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:'Cahoots Project Manager ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our project management application and services.'})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Information We Collect"}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"1. Account Information"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Authentication Data"}),": When you sign in using OAuth providers (Google, Apple), we receive basic profile information including your email address and name"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"User Identification"}),": We generate and store unique user identifiers to isolate your tasks from other users"]})]}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"2. Task and Project Data"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Task Information"}),": We collect and store the tasks, subtasks, and project information you create and manage within the application"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Task Metadata"}),": We collect information about task complexity, status, relationships, and completion data"]})]}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"3. DSPy Optimization Data"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Model Training Data"}),": We collect anonymized task decomposition patterns and user interactions to optimize our DSPy (Declarative Self-improving Python) machine learning models"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Prediction Feedback"}),": We collect feedback on system predictions to improve task decomposition accuracy"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Performance Metrics"}),": We collect system performance data to enhance our machine learning algorithms"]})]}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"4. Context and External Data"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Internet Context Fetching"}),": Our system may retrieve publicly available information from the internet to provide relevant context for your tasks and projects"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"External References"}),": We may access and cache publicly available documentation, best practices, and technical resources related to your project requirements"]})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"How We Use Your Information"}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Primary Uses"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Service Delivery"}),": To provide, maintain, and improve our project management services"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Task Processing"}),": To decompose complex tasks into manageable subtasks using our AI-powered system"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"User Experience"}),": To personalize and optimize your experience with our application"]})]}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Machine Learning Optimization"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"DSPy Model Training"}),": We use aggregated, anonymized data to train and improve our task decomposition models"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Pattern Recognition"}),": We analyze task patterns to enhance our system's ability to break down complex projects"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Algorithm Enhancement"}),": We use performance data to optimize our machine learning algorithms"]})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Data Security"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Encryption"}),": All data is encrypted in transit and at rest"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Access Controls"}),": We implement strict access controls to limit who can access your data"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Regular Audits"}),": We conduct regular security audits and assessments"]})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"We Do Not Sell Your Data"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"We do not sell, trade, or otherwise transfer your personal information to third parties for commercial purposes."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Your Rights and Choices"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Access"}),": You can access and review your account information and task data"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Correction"}),": You can update or correct your account information"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Deletion"}),": You can request deletion of your account and associated data"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Export"}),": You can export your task and project data"]})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Third-Party Services"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"We integrate with third-party OAuth providers (Google, Apple) for authentication. Their privacy policies govern the data they collect. When fetching context from the internet, we may access publicly available information from various sources."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Children's Privacy"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"Our service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Changes to This Privacy Policy"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the updated policy on our website, sending email notifications for significant changes, and displaying prominent notices within our application."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Contact Information"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us at:"}),(0,ze.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("p",{style:{color:"var(--color-text)"},children:[(0,ze.jsx)("strong",{children:"Email:"})," privacy@cahoots.cc"]}),(0,ze.jsxs)("p",{style:{color:"var(--color-text)"},children:[(0,ze.jsx)("strong",{children:"Website:"})," https://cahoots.cc"]})]})]}),(0,ze.jsx)("div",{className:"text-center pt-8",children:(0,ze.jsx)("button",{className:"btn btn-primary",onClick:()=>e(-1),children:"Go Back"})})]})})}),(0,ze.jsx)(qs,{})]})},Sl=()=>{const e=te();return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsx)("div",{style:{background:"linear-gradient(to bottom, var(--color-bg), var(--color-surface))"},children:(0,ze.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[(0,ze.jsx)(bl,{size:"text-4xl",className:"mb-4"}),(0,ze.jsx)("h1",{className:"heading-1 gradient-text mb-4",children:"Terms of Service"}),(0,ze.jsx)("p",{className:"text-lg",style:{color:"var(--color-text-muted)"},children:"Last Updated: August 3, 2025"})]})}),(0,ze.jsx)("div",{className:"py-8",style:{backgroundColor:"var(--color-surface)"},children:(0,ze.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,ze.jsxs)("div",{className:"card p-8",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Agreement to Terms"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:'By accessing or using Cahoots Project Manager ("the Service," "our Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of these terms, then you may not access the Service.'})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Description of Service"}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Service Overview"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"Cahoots Project Manager is a software-as-a-service (SaaS) application that provides intelligent project management capabilities, including:"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"Task creation and management"}),(0,ze.jsx)("li",{children:"AI-powered task decomposition using DSPy (Declarative Self-improving Python) framework"}),(0,ze.jsx)("li",{children:"Automated subtask generation and complexity analysis"}),(0,ze.jsx)("li",{children:"Real-time collaboration and status updates"}),(0,ze.jsx)("li",{children:"Context-aware project assistance"})]}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"AI and Machine Learning Features"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"Our Service incorporates artificial intelligence and machine learning technologies that analyze task complexity, generate automated subtasks, provide context-aware recommendations, and continuously improve through user interactions."}),(0,ze.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 p-4 rounded-lg mb-4",children:[(0,ze.jsx)("p",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Important AI Disclaimer:"}),(0,ze.jsx)("p",{style:{color:"var(--color-text)"},children:"AI Services use machine learning models that generate predictions based on patterns in data. You should evaluate all AI-generated output for accuracy and appropriateness for your use case, including using human review as appropriate."})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"User Accounts and Registration"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"You must provide accurate, complete, and current information during registration"}),(0,ze.jsx)("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),(0,ze.jsx)("li",{children:"You must be at least 13 years of age to use our Service"}),(0,ze.jsx)("li",{children:"We support authentication through third-party OAuth providers (Google, Apple)"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"User Responsibilities"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"You are responsible for:"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"All activities that occur under your account"}),(0,ze.jsx)("li",{children:"Maintaining the security of your login credentials"}),(0,ze.jsx)("li",{children:"All decisions made, advice followed, and actions taken based on AI-generated content"}),(0,ze.jsx)("li",{children:"Evaluating AI output for accuracy and appropriateness"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Acceptable Use Policy"}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Prohibited Activities"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"You agree not to:"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"Use the Service for any illegal or unauthorized purpose"}),(0,ze.jsx)("li",{children:"Violate any applicable laws or regulations"}),(0,ze.jsx)("li",{children:"Interfere with or disrupt the Service or servers"}),(0,ze.jsx)("li",{children:"Attempt to gain unauthorized access to any portion of the Service"}),(0,ze.jsx)("li",{children:"Upload harmful, threatening, or otherwise objectionable content"}),(0,ze.jsx)("li",{children:"Use automated scripts, bots, or other automated means to access the Service"}),(0,ze.jsx)("li",{children:"Reverse engineer, decompile, or disassemble any portion of the Service"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Intellectual Property Rights"}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Service Ownership"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"The Service and its original content, features, and functionality are and will remain the exclusive property of Cahoots Project Manager and its licensors."}),(0,ze.jsx)("h3",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text)"},children:"Your Content"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"You retain ownership of any intellectual property rights in content you submit"}),(0,ze.jsx)("li",{children:"By submitting content, you grant us a license to use it solely for providing the Service"}),(0,ze.jsx)("li",{children:"We may use aggregated, anonymized data to improve our AI models"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Service Availability"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"We strive to maintain high availability but do not guarantee uninterrupted access"}),(0,ze.jsx)("li",{children:"We reserve the right to modify, suspend, or discontinue any aspect of the Service"}),(0,ze.jsx)("li",{children:"We may update these Terms at any time with reasonable notice"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Disclaimers and Limitations"}),(0,ze.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-lg mb-4",children:[(0,ze.jsx)("p",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Important Disclaimers:"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:'THE SERVICE IS PROVIDED "AS IS" WITHOUT WARRANTIES OF ANY KIND'}),(0,ze.jsx)("li",{children:"AI-generated content is provided for informational purposes only"}),(0,ze.jsx)("li",{children:"You are solely responsible for evaluating and verifying AI-generated output"}),(0,ze.jsx)("li",{children:"We disclaim all liability for decisions made based on AI-generated content"})]})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Termination"}),(0,ze.jsxs)("ul",{className:"list-disc list-inside mb-4 space-y-2",style:{color:"var(--color-text)"},children:[(0,ze.jsx)("li",{children:"You may terminate your account at any time"}),(0,ze.jsx)("li",{children:"We may terminate accounts that breach these Terms"}),(0,ze.jsx)("li",{children:"Upon termination, your right to use the Service ceases immediately"}),(0,ze.jsx)("li",{children:"We may delete your account and data after a reasonable grace period"})]})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Governing Law"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"These Terms are governed by and construed in accordance with the laws of the United States. Any disputes should first be addressed through direct communication with our support team."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Changes to Terms"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"We reserve the right to modify these Terms at any time. We will notify users of material changes by posting updated Terms on our website, sending email notifications, and displaying notices within the Service. Continued use after changes constitutes acceptance of the new Terms."})]}),(0,ze.jsxs)("section",{className:"mb-8",children:[(0,ze.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Contact Information"}),(0,ze.jsx)("p",{className:"mb-4",style:{color:"var(--color-text)"},children:"If you have questions about these Terms, please contact us at:"}),(0,ze.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("p",{style:{color:"var(--color-text)"},children:[(0,ze.jsx)("strong",{children:"Email:"})," legal@cahoots.cc"]}),(0,ze.jsxs)("p",{style:{color:"var(--color-text)"},children:[(0,ze.jsx)("strong",{children:"Website:"})," https://cahoots.cc"]})]})]}),(0,ze.jsx)("div",{className:"text-center pt-8",children:(0,ze.jsx)("button",{className:"btn btn-primary",onClick:()=>e(-1),children:"Go Back"})})]})})}),(0,ze.jsx)(qs,{})]})},Cl=()=>{const[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)(""),[a,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),{isAuthenticated:u}=fa(),{showNotification:p}=mi(),h=async()=>{if(u){t(!0);try{const e=await pa.get("/github/status");e?(s(e.connected||!1),d(e.user||null)):(s(!1),d(null))}catch(e){console.error("Failed to check GitHub connection:",e),s(!1),d(null)}finally{t(!1)}}};(0,n.useEffect)((()=>{h()}),[u]);return(0,ze.jsxs)(ks,{children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{size:"lg",weight:"bold",style:{marginBottom:Fa.spacing[1]},children:"GitHub Integration"}),(0,ze.jsx)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted},children:"Connect your GitHub account to provide repository context during task creation"})]}),a?(0,ze.jsx)(fs,{type:"button",variant:"secondary",onClick:async()=>{if(window.confirm("Are you sure you want to disconnect your GitHub account?")){t(!0);try{await pa.delete("/github/disconnect"),p({type:"success",message:"GitHub account disconnected"}),s(!1),d(null)}catch(n){var e,r;p({type:"error",message:(null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to disconnect GitHub account"})}finally{t(!1)}}},disabled:e,size:"sm",children:"Disconnect"}):(0,ze.jsxs)(fs,{type:"button",onClick:()=>l(!0),disabled:!u||e,size:"sm",style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[(0,ze.jsx)(sl,{}),"Connect"]})]}),!u&&(0,ze.jsxs)(ks,{style:{backgroundColor:Fa.colors.warning[50],border:`1px solid ${Fa.colors.warning[200]}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{weight:"semibold",children:"Authentication Required"}),(0,ze.jsx)(Ws,{children:"Please log in to connect your GitHub account"})]}),e&&!a?(0,ze.jsxs)("div",{style:{textAlign:"center",padding:Fa.spacing[10]},children:[(0,ze.jsx)(Ss,{size:"lg"}),(0,ze.jsx)(Ws,{style:{marginTop:Fa.spacing[4]},children:"Checking connection..."})]}):a&&c?(0,ze.jsx)(ks,{style:{backgroundColor:Fa.colors.success[50],border:`1px solid ${Fa.colors.success[200]}`},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3]},children:[(0,ze.jsx)(Ka,{size:24,style:{color:Fa.colors.success[500]}}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{weight:"semibold",children:"Connected to GitHub"}),(0,ze.jsxs)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted},children:["Logged in as ",c.login||c.username,c.public_repos&&` \u2022 ${c.public_repos} public repositories`]})]})]})}):a?null:(0,ze.jsx)(ks,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3]},children:[(0,ze.jsx)(Ja,{size:24,style:{color:Fa.colors.warning[500]}}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{weight:"semibold",children:"Not Connected"}),(0,ze.jsx)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted},children:"Connect your GitHub account to enable repository context in task creation"})]})]})}),(0,ze.jsxs)(ws,{isOpen:i,onClose:()=>l(!1),title:"Connect GitHub Account",children:[(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{weight:"semibold",style:{marginBottom:Fa.spacing[2]},children:"Personal Access Token"}),(0,ze.jsx)("input",{type:"password",placeholder:"ghp_...",value:r,onChange:e=>o(e.target.value),style:{width:"100%",padding:Fa.spacing[2],border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,backgroundColor:Fa.colors.dark.bg,color:Fa.colors.dark.text}}),(0,ze.jsxs)(Ws,{size:"sm",style:{color:Fa.colors.dark.muted,marginTop:Fa.spacing[1]},children:["Create a"," ",(0,ze.jsx)("a",{href:"https://github.com/settings/tokens/new?scopes=repo,read:user",target:"_blank",rel:"noopener noreferrer",style:{color:Fa.colors.primary[500]},children:"personal access token"})," ","with 'repo' and 'read:user' scopes."]})]}),(0,ze.jsxs)(ks,{style:{backgroundColor:Fa.colors.info[50],border:`1px solid ${Fa.colors.info[200]}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{weight:"semibold",size:"sm",children:"How it works"}),(0,ze.jsx)(Ws,{size:"xs",style:{marginTop:Fa.spacing[1]},children:"Once connected, you'll be able to select any of your repositories when creating tasks. The system will analyze your selected repository to provide relevant context and patterns during task decomposition."})]}),(0,ze.jsxs)(ks,{style:{backgroundColor:Fa.colors.warning[50],border:`1px solid ${Fa.colors.warning[200]}`,marginBottom:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{weight:"semibold",size:"sm",children:"Security Note"}),(0,ze.jsx)(Ws,{size:"xs",style:{marginTop:Fa.spacing[1]},children:"Your token is stored securely and only used to access repositories you explicitly select. We never modify your code or repositories."})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{type:"button",variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),(0,ze.jsxs)(fs,{type:"button",onClick:async()=>{if(r){t(!0);try{const e=await pa.post("/github/connect",{access_token:r});p({type:"success",message:`Connected to GitHub as ${e.username||"your account"}`}),s(!0),d(e.user||null),o(""),l(!1),await h()}catch(a){var e,n;console.error("GitHub connect error:",a),p({type:"error",message:(null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||a.userMessage||a.message||"Failed to connect to GitHub"})}finally{t(!1)}}else p({type:"error",message:"Please enter your GitHub access token"})},disabled:e||!r,style:{display:"flex",alignItems:"center",gap:Fa.spacing[2]},children:[e?(0,ze.jsx)(Ss,{size:"sm"}):(0,ze.jsx)(sl,{}),"Connect Account"]})]})]})]})},_l=e=>{let{label:t,description:r,checked:n,onChange:o}=e;const a=n?Fa.colors.primary[500]:"var(--brand-border, #E5E7EB)",s=Fa.colors.neutral[0];return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:Fa.spacing[4]},children:[(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0,marginBottom:Fa.spacing[1]},children:t}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,margin:0},children:r})]}),(0,ze.jsxs)("label",{style:{position:"relative",display:"inline-block",width:"44px",height:"24px",cursor:"pointer"},children:[(0,ze.jsx)("input",{type:"checkbox",checked:n,onChange:e=>o(e.target.checked),style:{display:"none"}}),(0,ze.jsx)("div",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:a,transition:Fa.transitions.colors,borderRadius:"12px",border:n?"none":"2px solid var(--brand-border, #D1D5DB)"},children:(0,ze.jsx)("div",{style:{position:"absolute",height:"18px",width:"18px",left:n?"23px":"3px",top:"3px",backgroundColor:s,transition:Fa.transitions.all,borderRadius:"50%",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}})})]})]})},Nl=e=>{let{label:t,type:r="text",value:n,onChange:o,placeholder:a,helpText:s}=e;return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0,marginBottom:Fa.spacing[2]},children:t}),(0,ze.jsx)("input",{type:r,value:n,onChange:e=>o(e.target.value),placeholder:a,style:{width:"100%",padding:`${Fa.spacing[3]} ${Fa.spacing[4]}`,border:`1px solid ${Fa.colors.dark.border}`,borderRadius:Fa.borderRadius.md,backgroundColor:Fa.colors.dark.surface,color:Fa.colors.dark.text,fontSize:Fa.typography.fontSize.sm[0],fontFamily:Fa.typography.fontFamily.sans.join(", "),transition:Fa.transitions.colors,outline:"none"},onFocus:e=>{e.target.style.borderColor=Fa.colors.primary[500],e.target.style.boxShadow=`0 0 0 3px ${Fa.colors.primary[500]}20`},onBlur:e=>{e.target.style.borderColor=Fa.colors.dark.border,e.target.style.boxShadow="none"}}),s&&(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,margin:0,marginTop:Fa.spacing[1]},children:s})]})},El=e=>{let{title:t,description:r,enabled:n,onToggle:o,badge:a,badgeVariant:s,children:i}=e;return(0,ze.jsxs)(ks,{children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:i?Fa.spacing[4]:0},children:[(0,ze.jsxs)("div",{style:{flex:1},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Fa.spacing[3],marginBottom:Fa.spacing[1]},children:[(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text,margin:0},children:t}),(0,ze.jsx)(js,{variant:s,size:"sm",children:a})]}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,margin:0},children:r})]}),(0,ze.jsx)(_l,{label:"",description:"",checked:n,onChange:o})]}),i]})},Tl=()=>{var e,t,r,o,a,s,i,l;const{settings:c,updateSettings:d}=La(),{logout:u,user:p}=fa(),{setGlobalLoading:h}=Ea(),{showNotification:m}=mi(),f=te(),[g,y]=(0,n.useState)(c),[x,b]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1),[j,w]=(0,n.useState)("general"),S=(e,t,r)=>{if("trelloIntegration"===e||"jiraIntegration"===e)y((n=>({...n,[e]:{...n[e],[t]:r}})));else if(y((e=>({...e,[t]:r}))),"darkMode"===t){m(r?"Dark mode enabled":"Light mode enabled","success");const e={...g,[t]:r};d(e)}else if("notifications"===t){m(r?"Email notifications enabled":"Email notifications disabled","success");const e={...g,[t]:r};d(e)}},C=[{id:"general",label:"General",icon:ps},{id:"integrations",label:"Integrations",icon:rs},{id:"account",label:"Account",icon:null!==p&&void 0!==p&&p.id?Ka:Ja}];return(0,ze.jsxs)("div",{className:"container",style:{paddingTop:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[8]},children:[(0,ze.jsx)(Is,{style:{fontSize:Fa.typography.fontSize["3xl"][0],lineHeight:Fa.typography.lineHeight.tight,fontWeight:Fa.typography.fontWeight.bold,marginBottom:Fa.spacing[2],color:Fa.colors.primary[500]},children:"Settings"}),(0,ze.jsx)(Ws,{style:{color:Fa.colors.dark.muted,fontSize:Fa.typography.fontSize.lg[0],margin:0},children:"Manage your preferences and integrations"})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:Fa.spacing[6],alignItems:"flex-start"},className:"settings-layout",children:[(0,ze.jsx)(ks,{style:{position:"sticky",top:Fa.spacing[6]},children:(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[4]},children:"Settings"}),(0,ze.jsx)("nav",{children:C.map((e=>{const t=j===e.id,r=e.icon;return(0,ze.jsxs)("button",{onClick:()=>w(e.id),style:{display:"flex",alignItems:"center",gap:Fa.spacing[3],width:"100%",padding:`${Fa.spacing[3]} ${Fa.spacing[4]}`,border:"none",borderRadius:Fa.borderRadius.md,background:t?Fa.colors.primary[500]:"transparent",color:t?Fa.colors.neutral[0]:Fa.colors.dark.text,cursor:"pointer",transition:Fa.transitions.colors,fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.medium,textAlign:"left",marginBottom:Fa.spacing[1]},children:[(0,ze.jsx)(r,{size:18}),e.label]},e.id)}))})]})}),(0,ze.jsx)("div",{children:(0,ze.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(!0);try{g.trelloIntegration.enabled&&g.trelloIntegration.apiKey&&g.trelloIntegration.token&&await pa.post("/trello/credentials",{api_key:g.trelloIntegration.apiKey,token:g.trelloIntegration.token}),g.jiraIntegration.enabled&&g.jiraIntegration.jiraUrl&&g.jiraIntegration.userEmail&&g.jiraIntegration.apiToken&&g.jiraIntegration.accountId&&await pa.post("/jira/credentials",{jira_url:g.jiraIntegration.jiraUrl,user_email:g.jiraIntegration.userEmail,api_token:g.jiraIntegration.apiToken,account_id:g.jiraIntegration.accountId}),d(g),m("Settings saved successfully!","success")}catch(t){console.error("Failed to save settings:",t),m("Failed to save settings. Please try again.","error")}finally{b(!1)}},children:["general"===j&&(0,ze.jsx)(ks,{title:"General Preferences",children:(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[6]},children:(0,ze.jsx)(_l,{label:"Dark Mode",description:"Use dark theme throughout the application",checked:g.darkMode,onChange:e=>S("general","darkMode",e)})})}),"integrations"===j&&(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[6]},children:[(0,ze.jsx)(Cl,{}),(0,ze.jsx)(El,{title:"Trello Integration",description:"Export tasks as Trello boards and cards",enabled:g.trelloIntegration.enabled,onToggle:e=>S("trelloIntegration","enabled",e),badge:g.trelloIntegration.enabled?"Connected":"Available",badgeVariant:g.trelloIntegration.enabled?"success":"secondary",children:g.trelloIntegration.enabled&&(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[4],marginTop:Fa.spacing[4]},children:[(0,ze.jsx)(Nl,{label:"Trello API Key",value:g.trelloIntegration.apiKey,onChange:e=>S("trelloIntegration","apiKey",e),placeholder:"Enter your Trello API Key",helpText:(0,ze.jsx)("a",{href:"https://trello.com/app-key",target:"_blank",rel:"noopener noreferrer",style:{color:Fa.colors.primary[500],textDecoration:"none"},children:"Get your API key from Trello \u2192"})}),(0,ze.jsx)(Nl,{label:"Trello Token",type:"password",value:g.trelloIntegration.token,onChange:e=>S("trelloIntegration","token",e),placeholder:"Enter your Trello Token",helpText:"Generate a token from the same API key page"})]})}),(0,ze.jsx)(El,{title:"JIRA Integration",description:"Export tasks as JIRA projects and issues",enabled:(null===(e=g.jiraIntegration)||void 0===e?void 0:e.enabled)||!1,onToggle:e=>S("jiraIntegration","enabled",e),badge:null!==(t=g.jiraIntegration)&&void 0!==t&&t.enabled?"Connected":"Available",badgeVariant:null!==(r=g.jiraIntegration)&&void 0!==r&&r.enabled?"success":"secondary",children:(null===(o=g.jiraIntegration)||void 0===o?void 0:o.enabled)&&(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[4],marginTop:Fa.spacing[4]},children:[(0,ze.jsx)(Nl,{label:"JIRA URL",type:"url",value:(null===(a=g.jiraIntegration)||void 0===a?void 0:a.jiraUrl)||"",onChange:e=>S("jiraIntegration","jiraUrl",e),placeholder:"https://your-domain.atlassian.net",helpText:"Your Atlassian Cloud instance URL"}),(0,ze.jsx)(Nl,{label:"Email Address",type:"email",value:(null===(s=g.jiraIntegration)||void 0===s?void 0:s.userEmail)||"",onChange:e=>S("jiraIntegration","userEmail",e),placeholder:"your.email@example.com",helpText:"Your JIRA account email address"}),(0,ze.jsx)(Nl,{label:"API Token",type:"password",value:(null===(i=g.jiraIntegration)||void 0===i?void 0:i.apiToken)||"",onChange:e=>S("jiraIntegration","apiToken",e),placeholder:"Enter your JIRA API token",helpText:(0,ze.jsx)("a",{href:"https://id.atlassian.com/manage-profile/security/api-tokens",target:"_blank",rel:"noopener noreferrer",style:{color:Fa.colors.primary[500],textDecoration:"none"},children:"Generate an API token from Atlassian \u2192"})}),(0,ze.jsx)(Nl,{label:"Atlassian Account ID",value:(null===(l=g.jiraIntegration)||void 0===l?void 0:l.accountId)||"",onChange:e=>S("jiraIntegration","accountId",e),placeholder:"Your Atlassian account ID",helpText:(0,ze.jsxs)(ze.Fragment,{children:["Find your account ID at"," ",(0,ze.jsx)("a",{href:"https://id.atlassian.com/manage-profile/profile-and-visibility",target:"_blank",rel:"noopener noreferrer",style:{color:Fa.colors.primary[500],textDecoration:"none"},children:"Atlassian Account Settings \u2192"})]})})]})})]}),"account"===j&&(0,ze.jsx)(ks,{title:"Account Management",children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Fa.spacing[6]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.dark.text,margin:0,marginBottom:Fa.spacing[2]},children:"Account Information"}),(0,ze.jsxs)("div",{style:{padding:Fa.spacing[4],backgroundColor:Fa.colors.dark.surface,borderRadius:Fa.borderRadius.md,border:`1px solid ${Fa.colors.dark.border}`},children:[(0,ze.jsxs)("div",{style:{marginBottom:Fa.spacing[3]},children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[1]},children:"Name"}),(0,ze.jsx)(Ws,{style:{margin:0},children:(null===p||void 0===p?void 0:p.full_name)||(null===p||void 0===p?void 0:p.username)||"Not set"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.xs[0],color:Fa.colors.dark.muted,textTransform:"uppercase",letterSpacing:Fa.typography.letterSpacing.wide,margin:0,marginBottom:Fa.spacing[1]},children:"Email"}),(0,ze.jsx)(Ws,{style:{margin:0},children:(null===p||void 0===p?void 0:p.email)||"Not set"})]})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],fontWeight:Fa.typography.fontWeight.semibold,color:Fa.colors.error[500],margin:0,marginBottom:Fa.spacing[3]},children:"Danger Zone"}),(0,ze.jsx)("div",{style:{padding:Fa.spacing[4],border:`1px solid ${Fa.colors.error[500]}30`,borderRadius:Fa.borderRadius.md,backgroundColor:`${Fa.colors.error[500]}10`},children:(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ws,{style:{fontWeight:Fa.typography.fontWeight.medium,color:Fa.colors.dark.text,margin:0,marginBottom:Fa.spacing[1]},children:"Sign Out"}),(0,ze.jsx)(Ws,{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,margin:0},children:"Sign out of your account on this device"})]}),(0,ze.jsx)(fs,{variant:"danger",size:"sm",onClick:()=>k(!0),children:"Sign Out"})]})})]})]})}),(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:Fa.spacing[8],paddingTop:Fa.spacing[6],borderTop:`1px solid ${Fa.colors.dark.border}`},children:(0,ze.jsx)(fs,{type:"submit",variant:"primary",loading:x,disabled:x,icon:Ka,children:x?"Saving...":"Save Settings"})})]})})]}),(0,ze.jsxs)(ws,{isOpen:v,onClose:()=>k(!1),title:"Confirm Sign Out",children:[(0,ze.jsx)(Ws,{style:{marginBottom:Fa.spacing[6]},children:"Are you sure you want to sign out? You'll need to sign in again to access your tasks."}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Fa.spacing[3]},children:[(0,ze.jsx)(fs,{variant:"secondary",onClick:()=>k(!1),children:"Cancel"}),(0,ze.jsx)(fs,{variant:"danger",onClick:async()=>{h(!0);try{await u(),f("/")}catch(e){m("Logout failed. Please try again.","error")}finally{h(!1),k(!1)}},children:"Sign Out"})]})]})]})};const Rl=new class{constructor(){this.toasts=[],this.listeners=[],this.nextId=1}create(e){let{title:t,description:r,status:n="info",duration:o=5e3,isClosable:a=!0}=e;const s={id:this.nextId++,title:t,description:r,status:n,duration:o,isClosable:a,createdAt:Date.now()};return this.toasts.push(s),this.notifyListeners(),o>0&&setTimeout((()=>{this.remove(s.id)}),o),s.id}remove(e){this.toasts=this.toasts.filter((t=>t.id!==e)),this.notifyListeners()}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}}notifyListeners(){this.listeners.forEach((e=>e(this.toasts)))}},Al=()=>{const[e,t]=n.useState([]);if(n.useEffect((()=>Rl.subscribe(t)),[]),0===e.length)return null;return(0,ze.jsx)("div",{style:{position:"fixed",top:Fa.spacing[4],right:Fa.spacing[4],zIndex:Fa.zIndex.toast,display:"flex",flexDirection:"column",gap:Fa.spacing[2]},children:e.map((e=>{return(0,ze.jsx)("div",{style:(t=e.status,{position:"relative",maxWidth:"400px",width:"100%",padding:Fa.spacing[4],borderRadius:Fa.borderRadius.lg,boxShadow:Fa.boxShadow.xl,border:`1px solid ${Fa.colors.dark.border}`,backgroundColor:Fa.colors.dark.surface,backdropFilter:"blur(8px)",marginBottom:Fa.spacing[2],transition:Fa.transitions.all,transform:"translateX(0)",opacity:1,...{success:{borderColor:Fa.colors.success[600],backgroundColor:`${Fa.colors.success[500]}20`},error:{borderColor:Fa.colors.error[600],backgroundColor:`${Fa.colors.error[500]}20`},warning:{borderColor:Fa.colors.warning[600],backgroundColor:`${Fa.colors.warning[500]}20`},info:{borderColor:Fa.colors.info[600],backgroundColor:`${Fa.colors.info[500]}20`}}[t]}),children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,ze.jsxs)("div",{style:{flex:1},children:[e.title&&(0,ze.jsx)("div",{style:{fontWeight:Fa.typography.fontWeight.medium,fontSize:Fa.typography.fontSize.sm[0],marginBottom:Fa.spacing[1],color:Fa.colors.dark.text},children:e.title}),e.description&&(0,ze.jsx)("div",{style:{fontSize:Fa.typography.fontSize.sm[0],color:Fa.colors.dark.muted,lineHeight:Fa.typography.lineHeight.normal},children:e.description})]}),e.isClosable&&(0,ze.jsx)("button",{onClick:()=>Rl.remove(e.id),style:{marginLeft:Fa.spacing[3],opacity:.7,transition:Fa.transitions.all,background:"none",border:"none",cursor:"pointer",color:Fa.colors.dark.muted,padding:Fa.spacing[1],borderRadius:Fa.borderRadius.base},onMouseEnter:e=>e.target.style.opacity="1",onMouseLeave:e=>e.target.style.opacity="0.7",children:(0,ze.jsx)("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ze.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id);var t}))})},zl=()=>{var e;const[t,r]=(0,n.useState)(""),[o,a]=(0,n.useState)(""),[s,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),{login:d,getOAuthUrl:u}=fa(),p=te();return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,ze.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-50",style:{background:"linear-gradient(to bottom right, var(--color-bg), var(--color-surface), var(--color-bg))"}}),(0,ze.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-brand-vibrant-blue bg-opacity-10 rounded-full blur-3xl"}),(0,ze.jsx)("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-brand-vibrant-orange bg-opacity-10 rounded-full blur-3xl"})]}),(0,ze.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 py-12",children:(0,ze.jsxs)("div",{className:"w-full max-w-md",children:[(0,ze.jsxs)("div",{className:"text-center mb-8",children:[(0,ze.jsx)("div",{className:"flex justify-center mb-6",children:(0,ze.jsx)(bl,{size:"text-6xl",className:"text-brand-vibrant-orange"})}),(0,ze.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Welcome Back"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Sign in to continue to Cahoots Project Manager"})]}),(0,ze.jsxs)("div",{className:"card p-8 backdrop-blur-sm shadow-2xl",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{await d(t,o),Rl.create({title:"Login successful",status:"success",duration:3e3,isClosable:!0}),p("/dashboard")}catch(a){var r,n;Rl.create({title:"Login failed",description:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Invalid credentials",status:"error",duration:5e3,isClosable:!0})}finally{i(!1)}},className:"space-y-6",children:[(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Email address"}),(0,ze.jsx)("input",{type:"email",id:"email",value:t,onChange:e=>r(e.target.value),placeholder:"your@email.com",required:!0,className:"input-field w-full"})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Password"}),(0,ze.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>a(e.target.value),placeholder:"Enter your password",required:!0,className:"input-field w-full"})]}),(0,ze.jsx)("button",{type:"submit",disabled:s,className:"w-full btn btn-primary py-3 text-lg font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s?(0,ze.jsxs)("span",{className:"flex items-center justify-center",children:[(0,ze.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ze.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ze.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),(0,ze.jsxs)("div",{className:"relative my-8",children:[(0,ze.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ze.jsx)("div",{className:"w-full border-t",style:{borderColor:"var(--color-border)"}})}),(0,ze.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ze.jsx)("span",{className:"px-4",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-muted)"},children:"Or continue with"})})]}),(0,ze.jsxs)("div",{className:"space-y-4",children:[(0,ze.jsxs)("button",{onClick:()=>(async e=>{if(!l){sessionStorage.removeItem("oauth_state"),c(!0);try{const t=await u(e);localStorage.setItem("oauth_request_time",Date.now().toString()),localStorage.setItem("oauth_flow_started","true"),window.location.href=t}catch(n){var t,r;console.error("OAuth login error:",n),c(!1),Rl.create({title:`${e} login failed`,description:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to initiate OAuth flow",status:"error",duration:5e3,isClosable:!0}),localStorage.removeItem("oauth_flow_started")}}})("google"),disabled:l,className:"w-full flex items-center justify-center px-4 py-3 border rounded-lg bg-white hover:bg-gray-50 transition-colors duration-200 text-gray-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,ze.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ze.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ze.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ze.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Connecting...":"Continue with Google"]}),"development"===(null===(e=window.CAHOOTS_CONFIG)||void 0===e?void 0:e.ENVIRONMENT)&&(0,ze.jsxs)("button",{onClick:()=>{localStorage.setItem("token","dev-bypass-token"),localStorage.setItem("user",JSON.stringify({id:"dev-user-123",email:"test@example.com",username:"testuser",full_name:"Test User"})),Rl.create({title:"Development login successful",description:"Logged in with development bypass token",status:"success",duration:3e3,isClosable:!0}),p("/dashboard")},className:"w-full flex items-center justify-center px-4 py-3 border border-brand-vibrant-orange text-brand-vibrant-orange rounded-lg hover:bg-brand-vibrant-orange hover:bg-opacity-10 transition-all duration-200 font-medium",children:[(0,ze.jsx)("span",{className:"mr-2",children:"\ud83d\ude80"}),"Development Bypass"]})]})]}),(0,ze.jsx)("div",{className:"text-center mt-8",children:(0,ze.jsxs)("p",{style:{color:"var(--color-text-muted)"},children:["Don't have an account?"," ",(0,ze.jsx)(Te,{to:"/register",className:"text-brand-vibrant-orange hover:text-brand-vibrant-orange hover:underline font-medium transition-colors duration-200",children:"Sign up"})]})})]})})]})},Il=()=>{const[e,t]=(0,n.useState)({email:"",password:"",confirmPassword:"",fullName:""}),[r,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)({}),{register:i,login:l,getOAuthUrl:c}=fa(),d=te(),u=e=>{const{id:r,value:n}=e.target;t((e=>({...e,[r]:n}))),a[r]&&s((e=>({...e,[r]:null})))};return(0,ze.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)"},children:[(0,ze.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,ze.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-50",style:{background:"linear-gradient(to bottom right, var(--color-bg), var(--color-surface), var(--color-bg))"}}),(0,ze.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-brand-vibrant-blue bg-opacity-10 rounded-full blur-3xl"}),(0,ze.jsx)("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-brand-vibrant-orange bg-opacity-10 rounded-full blur-3xl"})]}),(0,ze.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 py-12",children:(0,ze.jsxs)("div",{className:"w-full max-w-md",children:[(0,ze.jsxs)("div",{className:"text-center mb-8",children:[(0,ze.jsx)("div",{className:"flex justify-center mb-6",children:(0,ze.jsx)(bl,{size:"text-6xl",className:"text-brand-vibrant-orange"})}),(0,ze.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Create Account"}),(0,ze.jsx)("p",{style:{color:"var(--color-text-muted)"},children:"Join Cahoots Project Manager"})]}),(0,ze.jsxs)("div",{className:"card p-8 backdrop-blur-sm shadow-2xl",style:{backgroundColor:"var(--color-surface)",borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o(!0),e.password!==e.confirmPassword)return Rl.create({title:"Password mismatch",description:"Password and confirm password must match.",status:"error"}),void o(!1);try{await i({email:e.email,username:e.email,password:e.password,full_name:e.fullName||"",provider:"local",disabled:!1,role:"user",subscription_tier:"free",subscription_status:"active",monthly_task_limit:10,tasks_created_this_month:0}),await l(e.email,e.password),Rl.create({title:"Registration successful!",description:"You have been registered successfully.",status:"success"}),d("/dashboard")}catch(r){r.message&&r.message.includes("Email already registered")?s({email:"This email is already registered. Please use a different email or sign in instead."}):Rl.create({title:"Registration failed",description:r.message,status:"error"})}finally{o(!1)}},className:"space-y-6",children:[(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Email address *"}),(0,ze.jsx)("input",{type:"email",id:"email",value:e.email,onChange:u,placeholder:"your@email.com",required:!0,className:"input-field w-full "+(a.email?"border-red-500 focus:border-red-500":"")}),a.email&&(0,ze.jsxs)("p",{className:"text-red-600 text-sm flex items-center",children:[(0,ze.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ze.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.email]})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Full Name"}),(0,ze.jsx)("input",{type:"text",id:"fullName",value:e.fullName,onChange:u,placeholder:"John Doe",className:"input-field w-full"})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Password *"}),(0,ze.jsx)("input",{type:"password",id:"password",value:e.password,onChange:u,placeholder:"Enter your password",required:!0,className:"input-field w-full"})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",style:{color:"var(--color-text)"},children:"Confirm Password *"}),(0,ze.jsx)("input",{type:"password",id:"confirmPassword",value:e.confirmPassword,onChange:u,placeholder:"Confirm your password",required:!0,className:"input-field w-full"}),e.password&&e.confirmPassword&&(0,ze.jsx)("div",{className:"flex items-center text-sm",children:e.password===e.confirmPassword?(0,ze.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,ze.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ze.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Passwords match"]}):(0,ze.jsxs)("span",{className:"text-red-600 flex items-center",children:[(0,ze.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ze.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Passwords don't match"]})})]}),(0,ze.jsx)("button",{type:"submit",disabled:r||e.password&&e.confirmPassword&&e.password!==e.confirmPassword,className:"w-full btn btn-primary py-3 text-lg font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:r?(0,ze.jsxs)("span",{className:"flex items-center justify-center",children:[(0,ze.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ze.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ze.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign Up"})]}),(0,ze.jsxs)("div",{className:"relative my-8",children:[(0,ze.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ze.jsx)("div",{className:"w-full border-t",style:{borderColor:"var(--color-border)"}})}),(0,ze.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ze.jsx)("span",{className:"px-4",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-muted)"},children:"Or sign up with"})})]}),(0,ze.jsx)("div",{className:"space-y-4",children:(0,ze.jsxs)("button",{onClick:()=>(async e=>{try{const t=await c(e);window.location.href=t}catch(t){Rl.create({title:`${e} registration failed`,description:t.message,status:"error"})}})("google"),className:"w-full flex items-center justify-center px-4 py-3 border rounded-lg bg-white hover:bg-gray-50 transition-colors duration-200 text-gray-700 font-medium",style:{borderColor:"var(--color-border)"},children:[(0,ze.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,ze.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ze.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ze.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ze.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),(0,ze.jsx)("div",{className:"text-center mt-8",children:(0,ze.jsxs)("p",{style:{color:"var(--color-text-muted)"},children:["Already have an account?"," ",(0,ze.jsx)(Te,{to:"/login",className:"text-brand-vibrant-orange hover:text-brand-vibrant-orange hover:underline font-medium transition-colors duration-200",children:"Sign in"})]})})]})})]})},Pl=()=>{const[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)(!0),{handleOAuthCallback:a}=fa(),s=te(),i=Z(),{provider:l}=re();return(0,n.useEffect)((()=>{(async()=>{try{const t=window.location.href;if(sessionStorage.getItem("processed_callback_url")===t)return void s("/dashboard");sessionStorage.setItem("processed_callback_url",t);const r=new URLSearchParams(i.search),n=r.get("code"),o=r.get("state"),l=r.get("error");if(l)throw new Error(`OAuth error: ${l}`);const c=sessionStorage.getItem("oauth_state");if(!n)throw new Error("Missing required OAuth parameter: code");const d=c||o;d||console.warn("Missing OAuth state parameter - not found in URL or sessionStorage");const u=`oauth_code_${n.substring(0,10)}`,p=localStorage.getItem(u),h=localStorage.getItem(`${u}_start_time`),m=Date.now();if(p&&h){m-parseInt(h,10)>12e4&&(localStorage.removeItem(u),localStorage.removeItem(`${u}_start_time`))}if(p)return sessionStorage.removeItem("oauth_state"),void s("/dashboard");localStorage.setItem(u,"true"),localStorage.setItem(`${u}_start_time`,m.toString()),localStorage.removeItem("oauth_flow_started"),localStorage.removeItem("oauth_in_progress"),sessionStorage.removeItem("oauth_state"),localStorage.setItem("oauth_in_progress","true"),setTimeout((()=>{localStorage.removeItem(u),localStorage.removeItem(`${u}_start_time`)}),3e5);const f=await pa.post("/exchange-auth-code",{code:n});if(!f||!f.access_token)throw new Error("No access token returned from server");localStorage.setItem("token",f.access_token),localStorage.removeItem("refresh_token"),pa.setAuthToken(f.access_token);try{await pa.get("/auth/me")}catch(e){console.error("Failed to verify authentication:",e)}await a(f.user),localStorage.removeItem(u),localStorage.removeItem(`${u}_start_time`),localStorage.removeItem("oauth_in_progress"),s("/dashboard")}catch(r){console.error("OAuth callback error:",r),t(r.message||"Authentication failed");const e=new URLSearchParams(i.search).get("code");if(e){const t=`oauth_code_${e.substring(0,10)}`;localStorage.removeItem(t),localStorage.removeItem(`${t}_start_time`)}localStorage.removeItem("oauth_in_progress"),localStorage.removeItem("oauth_flow_started")}finally{o(!1)}})()}),[a,i,s,l]),r?(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center",children:(0,ze.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ze.jsx)(Ss,{size:"large"}),(0,ze.jsx)("p",{className:"text-brand-text mt-4",children:"Completing authentication..."})]})}):e?(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center px-4",children:(0,ze.jsxs)("div",{className:"w-full max-w-md",children:[(0,ze.jsx)(_s,{message:e,className:"mb-6"}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("p",{className:"text-brand-muted-text mb-4",children:"Authentication failed. Please try again or use another authentication method."}),(0,ze.jsx)("button",{onClick:()=>s("/login"),className:"btn btn-primary px-6 py-2 rounded-lg font-medium",children:"Return to Login"})]})]})}):(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center",children:(0,ze.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ze.jsx)(Ss,{size:"large"}),(0,ze.jsx)("p",{className:"text-brand-text mt-4",children:"Redirecting to dashboard..."})]})})},Ol=()=>{const[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)(!0),{handleOAuthCallback:a}=fa(),s=Z(),i=te();return(0,n.useEffect)((()=>{(async()=>{try{t(null),console.log("%c === OAUTH CALLBACK SECURE - START === ","background: #222; color: #bada55; font-size: 16px"),console.log("Starting OAuth callback secure flow..."),console.log("localStorage items:",Object.keys(localStorage).reduce(((e,t)=>(e[t]=localStorage.getItem(t),e)),{})),console.log("sessionStorage items:",Object.keys(sessionStorage).reduce(((e,t)=>(e[t]=sessionStorage.getItem(t),e)),{})),console.log("Current apiClient auth header configured");const e=localStorage.getItem("oauth_redirect_time");if(e){const t=Date.now()-parseInt(e);console.log(`Time elapsed since OAuth redirect: ${t}ms (${t/1e3} seconds)`)}const r=new URLSearchParams(s.search).get("code");if(!r)throw new Error("No authorization code found in URL");if(console.log("Exchanging authorization code for tokens:",r),console.log("Using apiClient for token exchange"),!r||""===r.trim())throw console.error("Invalid or empty authorization code"),new Error("Invalid authorization code");const n="/api/exchange-auth-code";console.log("Token exchange endpoint:",n),console.log("Sending token exchange request with code:",r);const{data:l,error:c}=await Ti((()=>pa.postWithLoading("/exchange-auth-code",null,Xo,{params:{code:r},withCredentials:!0})),{customMessages:{AUTHENTICATION:"OAuth authentication failed. Please try again.",VALIDATION_ERROR:"Your login session has expired. Please try logging in again.",SERVER_ERROR:"Server error during OAuth flow. Please try again later."}});if(c){if(400===c.status)return t(c.message),void o(!1);throw new Error(c.message)}const d={data:l};if(console.log("Token exchange response received:",d.data?"success":"no data"),!l||!l.access_token)throw new Error("No access token returned from server");console.log("Successfully exchanged auth code for tokens:",l),console.log("Storing access token in localStorage:",l.access_token.substring(0,10)+"..."),localStorage.setItem("token",l.access_token);const u=localStorage.getItem("token");console.log("Verifying token storage - token exists:",!!u),console.log("Stored token (first 10 chars):",u?u.substring(0,10)+"...":"null"),l.refresh_token&&(console.log("Storing refresh token in localStorage"),localStorage.setItem("refresh_token",l.refresh_token)),console.log("Token will be automatically handled by apiClient interceptor"),console.log("Fetching user data...");const{data:p,error:h}=await Ti((()=>pa.get("/auth/me")),{customMessages:{AUTHENTICATION:"Failed to fetch user data. Please try logging in again.",SERVER_ERROR:"Server error while fetching user data. Please try again."}});if(h)throw new Error(h.message);console.log("User data fetched:",p),console.log("Authentication successful, updating auth context"),console.log("Ensuring tokens are stored in localStorage..."),localStorage.setItem("token",l.access_token),l.refresh_token&&localStorage.setItem("refresh_token",l.refresh_token),console.log("Token automatically configured for future requests"),console.log("Updating auth context with user data..."),await a(p);localStorage.getItem("token")||(console.error("Token not found in localStorage after handleOAuthCallback"),localStorage.setItem("token",l.access_token),console.log("Token manually set in localStorage")),sessionStorage.setItem("oauth_login_success","true"),console.log("Navigating to dashboard..."),i("/dashboard")}catch(e){console.error("Error in authentication flow:",e),console.error("Error details:",e.response?e.response.data:e.message),console.error("Error status:",e.response?e.response.status:"No status"),console.error("Error headers:",e.response?e.response.headers:"No headers"),e.response&&400===e.response.status?t("Authorization code expired or invalid. Please try logging in again."):t(e.message||"Authentication failed")}finally{o(!1)}})()}),[s,i,a]),r?(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center",children:(0,ze.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ze.jsx)(Ss,{size:"large"}),(0,ze.jsx)("p",{className:"text-brand-text mt-4",children:"Completing authentication..."})]})}):e?(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center px-4",children:(0,ze.jsxs)("div",{className:"w-full max-w-md",children:[(0,ze.jsx)(_s,{message:e,className:"mb-6"}),(0,ze.jsxs)("div",{className:"text-center",children:[(0,ze.jsx)("p",{className:"text-brand-muted-text mb-4",children:"Authentication failed. Please try again or use another authentication method."}),(0,ze.jsx)("button",{onClick:()=>i("/login"),className:"btn btn-primary px-6 py-2 rounded-lg font-medium",children:"Return to Login"})]})]})}):(0,ze.jsx)("div",{className:"min-h-screen bg-brand-dark-bg flex items-center justify-center",children:(0,ze.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ze.jsx)(Ss,{size:"large"}),(0,ze.jsx)("p",{className:"text-brand-text mt-4",children:"Authentication successful! Redirecting to dashboard..."})]})})};function Ll(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const Dl=n.forwardRef(Ll),{entries:Fl,setPrototypeOf:Ml,isFrozen:Bl,getPrototypeOf:Wl,getOwnPropertyDescriptor:$l}=Object;let{freeze:Ul,seal:Hl,create:ql}=Object,{apply:Ql,construct:Vl}="undefined"!==typeof Reflect&&Reflect;Ul||(Ul=function(e){return e}),Hl||(Hl=function(e){return e}),Ql||(Ql=function(e,t,r){return e.apply(t,r)}),Vl||(Vl=function(e,t){return new e(...t)});const Kl=cc(Array.prototype.forEach),Gl=cc(Array.prototype.lastIndexOf),Jl=cc(Array.prototype.pop),Yl=cc(Array.prototype.push),Xl=cc(Array.prototype.splice),Zl=cc(String.prototype.toLowerCase),ec=cc(String.prototype.toString),tc=cc(String.prototype.match),rc=cc(String.prototype.replace),nc=cc(String.prototype.indexOf),oc=cc(String.prototype.trim),ac=cc(Object.prototype.hasOwnProperty),sc=cc(RegExp.prototype.test),ic=(lc=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Vl(lc,t)});var lc;function cc(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Ql(e,t,n)}}function dc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zl;Ml&&Ml(e,null);let n=t.length;for(;n--;){let o=t[n];if("string"===typeof o){const e=r(o);e!==o&&(Bl(t)||(t[n]=e),o=e)}e[o]=!0}return e}function uc(e){for(let t=0;t<e.length;t++){ac(e,t)||(e[t]=null)}return e}function pc(e){const t=ql(null);for(const[r,n]of Fl(e)){ac(e,r)&&(Array.isArray(n)?t[r]=uc(n):n&&"object"===typeof n&&n.constructor===Object?t[r]=pc(n):t[r]=n)}return t}function hc(e,t){for(;null!==e;){const r=$l(e,t);if(r){if(r.get)return cc(r.get);if("function"===typeof r.value)return cc(r.value)}e=Wl(e)}return function(){return null}}const mc=Ul(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fc=Ul(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gc=Ul(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yc=Ul(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xc=Ul(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bc=Ul(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vc=Ul(["#text"]),kc=Ul(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jc=Ul(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wc=Ul(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Sc=Ul(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cc=Hl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_c=Hl(/<%[\w\W]*|[\w\W]*%>/gm),Nc=Hl(/\$\{[\w\W]*/gm),Ec=Hl(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tc=Hl(/^aria-[\-\w]+$/),Rc=Hl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ac=Hl(/^(?:\w+script|data):/i),zc=Hl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ic=Hl(/^html$/i),Pc=Hl(/^[a-z][.\w]*(-[.\w]+)+$/i);var Oc=Object.freeze({__proto__:null,ARIA_ATTR:Tc,ATTR_WHITESPACE:zc,CUSTOM_ELEMENT:Pc,DATA_ATTR:Ec,DOCTYPE_NAME:Ic,ERB_EXPR:_c,IS_ALLOWED_URI:Rc,IS_SCRIPT_OR_DATA:Ac,MUSTACHE_EXPR:Cc,TMPLIT_EXPR:Nc});const Lc=1,Dc=3,Fc=7,Mc=8,Bc=9,Wc=function(){return"undefined"===typeof window?null:window};var $c=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc();const r=t=>e(t);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==Bc||!t.Element)return r.isSupported=!1,r;let{document:n}=t;const o=n,a=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:i,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:m}=t,f=c.prototype,g=hc(f,"cloneNode"),y=hc(f,"remove"),x=hc(f,"nextSibling"),b=hc(f,"childNodes"),v=hc(f,"parentNode");if("function"===typeof i){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let k,j="";const{implementation:w,createNodeIterator:S,createDocumentFragment:C,getElementsByTagName:_}=n,{importNode:N}=o;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"===typeof Fl&&"function"===typeof v&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:R,TMPLIT_EXPR:A,DATA_ATTR:z,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:L}=Oc;let{IS_ALLOWED_URI:D}=Oc,F=null;const M=dc({},[...mc,...fc,...gc,...xc,...vc]);let B=null;const W=dc({},[...kc,...jc,...wc,...Sc]);let $=Object.seal(ql(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,H=null,q=!0,Q=!0,V=!1,K=!0,G=!1,J=!0,Y=!1,X=!1,Z=!1,ee=!1,te=!1,re=!1,ne=!0,oe=!1,ae=!0,se=!1,ie={},le=null;const ce=dc({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=dc({},["audio","video","img","source","image","track"]);let pe=null;const he=dc({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ye=ge,xe=!1,be=null;const ve=dc({},[me,fe,ge],ec);let ke=dc({},["mi","mo","mn","ms","mtext"]),je=dc({},["annotation-xml"]);const we=dc({},["title","style","font","a","script"]);let Se=null;const Ce=["application/xhtml+xml","text/html"];let _e=null,Ne=null;const Ee=n.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ne||Ne!==e){if(e&&"object"===typeof e||(e={}),e=pc(e),Se=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,_e="application/xhtml+xml"===Se?ec:Zl,F=ac(e,"ALLOWED_TAGS")?dc({},e.ALLOWED_TAGS,_e):M,B=ac(e,"ALLOWED_ATTR")?dc({},e.ALLOWED_ATTR,_e):W,be=ac(e,"ALLOWED_NAMESPACES")?dc({},e.ALLOWED_NAMESPACES,ec):ve,pe=ac(e,"ADD_URI_SAFE_ATTR")?dc(pc(he),e.ADD_URI_SAFE_ATTR,_e):he,de=ac(e,"ADD_DATA_URI_TAGS")?dc(pc(ue),e.ADD_DATA_URI_TAGS,_e):ue,le=ac(e,"FORBID_CONTENTS")?dc({},e.FORBID_CONTENTS,_e):ce,U=ac(e,"FORBID_TAGS")?dc({},e.FORBID_TAGS,_e):pc({}),H=ac(e,"FORBID_ATTR")?dc({},e.FORBID_ATTR,_e):pc({}),ie=!!ac(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,Q=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,G=e.SAFE_FOR_TEMPLATES||!1,J=!1!==e.SAFE_FOR_XML,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,D=e.ALLOWED_URI_REGEXP||Rc,ye=e.NAMESPACE||ge,ke=e.MATHML_TEXT_INTEGRATION_POINTS||ke,je=e.HTML_INTEGRATION_POINTS||je,$=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(Q=!1),te&&(ee=!0),ie&&(F=dc({},vc),B=[],!0===ie.html&&(dc(F,mc),dc(B,kc)),!0===ie.svg&&(dc(F,fc),dc(B,jc),dc(B,Sc)),!0===ie.svgFilters&&(dc(F,gc),dc(B,jc),dc(B,Sc)),!0===ie.mathMl&&(dc(F,xc),dc(B,wc),dc(B,Sc))),e.ADD_TAGS&&(F===M&&(F=pc(F)),dc(F,e.ADD_TAGS,_e)),e.ADD_ATTR&&(B===W&&(B=pc(B)),dc(B,e.ADD_ATTR,_e)),e.ADD_URI_SAFE_ATTR&&dc(pe,e.ADD_URI_SAFE_ATTR,_e),e.FORBID_CONTENTS&&(le===ce&&(le=pc(le)),dc(le,e.FORBID_CONTENTS,_e)),ae&&(F["#text"]=!0),Y&&dc(F,["html","head","body"]),F.table&&(dc(F,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw ic('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw ic('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,j=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(m,a)),null!==k&&"string"===typeof j&&(j=k.createHTML(""));Ul&&Ul(e),Ne=e}},Ae=dc({},[...fc,...gc,...yc]),ze=dc({},[...xc,...bc]),Ie=function(e){Yl(r.removed,{element:e});try{v(e).removeChild(e)}catch(t){y(e)}},Pe=function(e,t){try{Yl(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){Yl(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ie(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},Oe=function(e){let t=null,r=null;if(Z)e="<remove></remove>"+e;else{const t=tc(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===Se&&ye===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=k?k.createHTML(e):e;if(ye===ge)try{t=(new h).parseFromString(o,Se)}catch(s){}if(!t||!t.documentElement){t=w.createDocument(ye,"template",null);try{t.documentElement.innerHTML=xe?j:o}catch(s){}}const a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),ye===ge?_.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Le=function(e){return S.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},De=function(e){return e instanceof p&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof u)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},Fe=function(e){return"function"===typeof l&&e instanceof l};function Me(e,t,n){Kl(e,(e=>{e.call(r,t,n,Ne)}))}const Be=function(e){let t=null;if(Me(E.beforeSanitizeElements,e,null),De(e))return Ie(e),!0;const n=_e(e.nodeName);if(Me(E.uponSanitizeElement,e,{tagName:n,allowedTags:F}),J&&e.hasChildNodes()&&!Fe(e.firstElementChild)&&sc(/<[/\w!]/g,e.innerHTML)&&sc(/<[/\w!]/g,e.textContent))return Ie(e),!0;if(e.nodeType===Fc)return Ie(e),!0;if(J&&e.nodeType===Mc&&sc(/<[/\w]/g,e.data))return Ie(e),!0;if(!F[n]||U[n]){if(!U[n]&&$e(n)){if($.tagNameCheck instanceof RegExp&&sc($.tagNameCheck,n))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(n))return!1}if(ae&&!le[n]){const t=v(e)||e.parentNode,r=b(e)||e.childNodes;if(r&&t){for(let n=r.length-1;n>=0;--n){const o=g(r[n],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,x(e))}}}return Ie(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const r=Zl(e.tagName),n=Zl(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===ge?"svg"===r:t.namespaceURI===me?"svg"===r&&("annotation-xml"===n||ke[n]):Boolean(Ae[r]):e.namespaceURI===me?t.namespaceURI===ge?"math"===r:t.namespaceURI===fe?"math"===r&&je[n]:Boolean(ze[r]):e.namespaceURI===ge?!(t.namespaceURI===fe&&!je[n])&&!(t.namespaceURI===me&&!ke[n])&&!ze[r]&&(we[r]||!Ae[r]):!("application/xhtml+xml"!==Se||!be[e.namespaceURI]))}(e)?(Ie(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!sc(/<\/no(script|embed|frames)/i,e.innerHTML)?(G&&e.nodeType===Dc&&(t=e.textContent,Kl([T,R,A],(e=>{t=rc(t,e," ")})),e.textContent!==t&&(Yl(r.removed,{element:e.cloneNode()}),e.textContent=t)),Me(E.afterSanitizeElements,e,null),!1):(Ie(e),!0)},We=function(e,t,r){if(ne&&("id"===t||"name"===t)&&(r in n||r in Ee))return!1;if(Q&&!H[t]&&sc(z,t));else if(q&&sc(I,t));else if(!B[t]||H[t]){if(!($e(e)&&($.tagNameCheck instanceof RegExp&&sc($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&sc($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&sc($.tagNameCheck,r)||$.tagNameCheck instanceof Function&&$.tagNameCheck(r))))return!1}else if(pe[t]);else if(sc(D,rc(r,O,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==nc(r,"data:")||!de[e]){if(V&&!sc(P,rc(r,O,"")));else if(r)return!1}else;return!0},$e=function(e){return"annotation-xml"!==e&&tc(e,L)},Ue=function(e){Me(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||De(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let o=t.length;for(;o--;){const s=t[o],{name:i,namespaceURI:l,value:c}=s,d=_e(i),u=c;let p="value"===i?u:oc(u);if(n.attrName=d,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,Me(E.uponSanitizeAttribute,e,n),p=n.attrValue,!oe||"id"!==d&&"name"!==d||(Pe(i,e),p="user-content-"+p),J&&sc(/((--!?|])>)|<\/(style|title)/i,p)){Pe(i,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){Pe(i,e);continue}if(!K&&sc(/\/>/i,p)){Pe(i,e);continue}G&&Kl([T,R,A],(e=>{p=rc(p,e," ")}));const h=_e(e.nodeName);if(We(h,d,p)){if(k&&"object"===typeof m&&"function"===typeof m.getAttributeType)if(l);else switch(m.getAttributeType(h,d)){case"TrustedHTML":p=k.createHTML(p);break;case"TrustedScriptURL":p=k.createScriptURL(p)}if(p!==u)try{l?e.setAttributeNS(l,i,p):e.setAttribute(i,p),De(e)?Ie(e):Jl(r.removed)}catch(a){Pe(i,e)}}else Pe(i,e)}Me(E.afterSanitizeAttributes,e,null)},He=function e(t){let r=null;const n=Le(t);for(Me(E.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)Me(E.uponSanitizeShadowNode,r,null),Be(r),Ue(r),r.content instanceof s&&e(r.content);Me(E.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,i=null,c=null;if(xe=!e,xe&&(e="\x3c!--\x3e"),"string"!==typeof e&&!Fe(e)){if("function"!==typeof e.toString)throw ic("toString is not a function");if("string"!==typeof(e=e.toString()))throw ic("dirty is not a string, aborting")}if(!r.isSupported)return e;if(X||Re(t),r.removed=[],"string"===typeof e&&(se=!1),se){if(e.nodeName){const t=_e(e.nodeName);if(!F[t]||U[t])throw ic("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)n=Oe("\x3c!----\x3e"),a=n.ownerDocument.importNode(e,!0),a.nodeType===Lc&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!ee&&!G&&!Y&&-1===e.indexOf("<"))return k&&re?k.createHTML(e):e;if(n=Oe(e),!n)return ee?null:re?j:""}n&&Z&&Ie(n.firstChild);const d=Le(se?e:n);for(;i=d.nextNode();)Be(i),Ue(i),i.content instanceof s&&He(i.content);if(se)return e;if(ee){if(te)for(c=C.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(B.shadowroot||B.shadowrootmode)&&(c=N.call(o,c,!0)),c}let u=Y?n.outerHTML:n.innerHTML;return Y&&F["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&sc(Ic,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),G&&Kl([T,R,A],(e=>{u=rc(u,e," ")})),k&&re?k.createHTML(u):u},r.setConfig=function(){Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},r.clearConfig=function(){Ne=null,X=!1},r.isValidAttribute=function(e,t,r){Ne||Re({});const n=_e(e),o=_e(t);return We(n,o,r)},r.addHook=function(e,t){"function"===typeof t&&Yl(E[e],t)},r.removeHook=function(e,t){if(void 0!==t){const r=Gl(E[e],t);return-1===r?void 0:Xl(E[e],r,1)[0]}return Jl(E[e])},r.removeHooks=function(e){E[e]=[]},r.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const Uc=e=>{let{variant:t="inline",title:r="Subscribe to our blog"}=e;const[o,a]=(0,n.useState)(""),[s,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),{showToast:p}=kl(),{user:h}=fa();(0,n.useEffect)((()=>{h&&m()}),[h]);const m=async()=>{try{const e=await pa.get("/blog/my-subscription");c(e)}catch(e){c(null)}},f=async e=>{i(!0);try{const t={email:e,frequency:"weekly",categories:[]};await pa.post("/blog/subscribe",t),p("Successfully subscribed! You'll receive weekly updates.","success"),h?m():(u(!1),a(""))}catch(n){var t,r;p((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to subscribe","error")}finally{i(!1)}},g=()=>{h?l?(async()=>{if(h&&window.confirm("Are you sure you want to unsubscribe from blog notifications?")){i(!0);try{await pa.delete("/blog/my-subscription"),p("Successfully unsubscribed","success"),c(null)}catch(r){var e,t;p((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to unsubscribe","error")}finally{i(!1)}}})():f(h.email):u(!0)};return"compact"===t?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Da.spacing[2],padding:`${Da.spacing[3]} 0`,borderTop:`1px solid ${Da.colors.dark.border}`,borderBottom:`1px solid ${Da.colors.dark.border}`,margin:`${Da.spacing[4]} 0`},children:[(0,ze.jsx)(Dl,{style:{width:"20px",height:"20px",color:Da.colors.primary[500]}}),(0,ze.jsx)(Ls,{style:{flex:1,margin:0,color:Da.colors.dark.text},children:h&&l?"You're subscribed to blog updates":"Get notified of new blog posts"}),(0,ze.jsx)(fs,{onClick:g,variant:h&&l?"secondary":"primary",size:"sm",loading:s,children:h&&l?"Subscribed":"Subscribe"})]}):(0,ze.jsxs)(ks,{style:{margin:`${Da.spacing[6]} 0`,textAlign:"center",background:`linear-gradient(135deg, ${Da.colors.dark.surface} 0%, ${Da.colors.dark.surfaceVariant} 100%)`},children:[(0,ze.jsx)(Dl,{style:{width:"48px",height:"48px",color:Da.colors.primary[500],margin:"0 auto",marginBottom:Da.spacing[3]}}),(0,ze.jsx)(Os,{style:{marginBottom:Da.spacing[2],color:Da.colors.dark.text},children:r}),(0,ze.jsx)(Ls,{style:{marginBottom:Da.spacing[4],color:Da.colors.dark.textMuted,maxWidth:"400px",margin:`0 auto ${Da.spacing[4]} auto`},children:h&&l?`You're currently subscribed and will receive ${l.frequency} updates. Manage your subscription anytime.`:"Stay updated with our latest insights on AI-powered project management, task decomposition, and software development best practices."}),h?(0,ze.jsx)(fs,{onClick:g,variant:l?"secondary":"primary",size:"lg",icon:Dl,loading:s,children:l?"Manage Subscription":"Subscribe Now"}):(0,ze.jsx)("div",{children:d?(0,ze.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&f(o)},style:{display:"flex",flexDirection:"column",gap:Da.spacing[3],maxWidth:"320px",margin:"0 auto"},children:[(0,ze.jsx)(Es,{type:"email",placeholder:"Enter your email address",value:o,onChange:e=>a(e.target.value),required:!0}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2]},children:[(0,ze.jsx)(fs,{type:"submit",variant:"primary",loading:s,style:{flex:1},children:"Subscribe"}),(0,ze.jsx)(fs,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Cancel"})]})]}):(0,ze.jsx)(fs,{onClick:()=>u(!0),variant:"primary",size:"lg",icon:Dl,children:"Subscribe Now"})})]})},Hc=e=>{let{post:t,onClick:r}=e;return(0,ze.jsxs)(ks,{onClick:r,style:{cursor:"pointer",marginBottom:Da.spacing[4]},children:[t.featured_image&&(0,ze.jsx)("img",{src:t.featured_image,alt:t.title,style:{width:"100%",height:"200px",objectFit:"cover",marginBottom:Da.spacing[4],borderRadius:Da.borderRadius.md}}),(0,ze.jsx)(Os,{style:{marginBottom:Da.spacing[2]},children:t.title}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2],marginBottom:Da.spacing[3],color:Da.colors.dark.textMuted},children:[(0,ze.jsxs)(Ds,{children:["By ",t.author_name]}),(0,ze.jsx)(Ds,{children:"\u2022"}),(0,ze.jsx)(Ds,{children:new Date(t.published_at||t.created_at).toLocaleDateString()})]}),(0,ze.jsxs)(Ls,{style:{marginBottom:Da.spacing[3]},children:[t.excerpt||t.content.replace(/<[^>]*>/g,"").substring(0,150),"..."]}),t.tags&&t.tags.length>0&&(0,ze.jsx)("div",{style:{display:"flex",gap:Da.spacing[2],flexWrap:"wrap"},children:t.tags.slice(0,3).map((e=>(0,ze.jsx)(js,{variant:"info",children:e},e)))})]})},qc=e=>{let{post:t,onBack:r}=e;return(0,ze.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:Da.spacing[6]},children:[(0,ze.jsx)(gl,{title:t.title,description:t.excerpt||t.content.replace(/<[^>]*>/g,"").substring(0,160),image:t.featured_image,article:!0,author:t.author_name,publishedTime:t.published_at||t.created_at,tags:t.tags||[]}),(0,ze.jsx)(fs,{onClick:r,variant:"ghost",style:{marginBottom:Da.spacing[6]},children:"\u2190 Back to Blog"}),(0,ze.jsxs)(ks,{children:[t.featured_image&&(0,ze.jsx)("img",{src:t.featured_image,alt:t.title,style:{width:"100%",maxHeight:"400px",objectFit:"cover",marginBottom:Da.spacing[6],borderRadius:Da.borderRadius.md}}),(0,ze.jsx)(Is,{style:{marginBottom:Da.spacing[4]},children:t.title}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[3],marginBottom:Da.spacing[4],color:Da.colors.dark.textMuted},children:[(0,ze.jsxs)(Ls,{children:["By ",t.author_name]}),(0,ze.jsx)(Ls,{children:"\u2022"}),(0,ze.jsx)(Ls,{children:new Date(t.published_at||t.created_at).toLocaleDateString()}),(0,ze.jsx)(Ls,{children:"\u2022"}),(0,ze.jsxs)(Ls,{children:[t.view_count," views"]})]}),t.tags&&t.tags.length>0&&(0,ze.jsx)("div",{style:{display:"flex",gap:Da.spacing[2],flexWrap:"wrap",marginBottom:Da.spacing[6]},children:t.tags.map((e=>(0,ze.jsx)(js,{variant:"info",children:e},e)))}),(0,ze.jsx)("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:$c.sanitize(t.content)},style:{fontSize:Da.typography.fontSize.base[0],lineHeight:"1.8",color:Da.colors.dark.text}}),(0,ze.jsx)(Uc,{title:"Enjoyed this article?",variant:"inline"})]})]})},Qc=()=>{const[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[a,s]=(0,n.useState)(""),[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),{showToast:u,ToastComponent:p}=kl(),h=te(),{slug:m}=re(),{user:f}=fa();(0,n.useEffect)((()=>{m?y(m):g(),f&&x()}),[m,f]);const g=async()=>{try{o(!0);const e={};a&&(e.search=a);const r=await pa.get("/blog/posts",{params:e});t(r.posts||[])}catch(e){u("Failed to fetch blog posts","error")}finally{o(!1)}},y=async e=>{try{o(!0);const t=await pa.get(`/blog/posts/${e}`);l(t)}catch(t){u("Failed to fetch blog post","error"),h("/blog")}finally{o(!1)}},x=async()=>{try{const e=await pa.get("/blog/my-subscription");d(e)}catch(e){}},b=()=>{g()},v=()=>{h("/blog"),l(null)};return r?(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,ze.jsx)(Ss,{size:"lg"})}):i?(0,ze.jsx)(qc,{post:i,onBack:v}):(0,ze.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:Da.colors.dark.bg,padding:Da.spacing[6]},children:[(0,ze.jsx)(gl,{title:"Blog",description:"Read the latest insights, updates, and tutorials from the Cahoots team about AI-powered project management and task decomposition."}),(0,ze.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,ze.jsxs)("div",{style:{textAlign:"center",marginBottom:Da.spacing[8]},children:[(0,ze.jsx)(Is,{style:{marginBottom:Da.spacing[3]},children:"Blog"}),(0,ze.jsx)(Fs,{style:{color:Da.colors.dark.textMuted},children:"Insights, updates, and tutorials from the Cahoots team"})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:Da.spacing[8],flexWrap:"wrap",gap:Da.spacing[4]},children:[(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2],flex:1,maxWidth:"400px"},children:[(0,ze.jsx)(Es,{placeholder:"Search posts...",value:a,onChange:e=>s(e.target.value),onKeyPress:e=>"Enter"===e.key&&b()}),(0,ze.jsx)(fs,{onClick:b,variant:"secondary",children:"Search"})]}),(0,ze.jsx)(fs,{onClick:async()=>{if(f)try{if(c)window.confirm("Are you sure you want to unsubscribe from blog notifications?")&&(await pa.delete("/blog/my-subscription"),u("Successfully unsubscribed","success"),d(null));else{const e={email:f.email,frequency:"weekly",categories:[]};await pa.post("/blog/subscribe",e),u("Successfully subscribed! You'll receive weekly updates.","success"),x()}}catch(r){var e,t;u((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to update subscription","error")}else u("Please sign in to subscribe","info")},icon:Dl,variant:c?"secondary":"primary",children:c?"Subscribed":"Subscribe"})]}),0===e.length?(0,ze.jsx)(Cs,{title:"No blog posts found",description:"Check back later for new content"}):(0,ze.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:Da.spacing[6]},children:e.map((e=>(0,ze.jsx)(Hc,{post:e,onClick:()=>(e=>{h(`/blog/${e.slug}`)})(e)},e.id)))})]}),(0,ze.jsx)(p,{})]})};function Vc(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Kc=n.forwardRef(Vc);function Gc(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Jc=n.forwardRef(Gc);function Yc(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Xc=n.forwardRef(Yc);function Zc(e,t){let{title:r,titleId:o,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ed=n.forwardRef(Zc),td=()=>{const[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,l]=(0,n.useState)("posts"),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[h,m]=(0,n.useState)({title:"",slug:"",content:"",excerpt:"",featured_image:"",tags:[],status:"draft",meta_description:"",meta_keywords:""}),[f,g]=(0,n.useState)(""),[y,x]=(0,n.useState)(!1),{showToast:b,ToastComponent:v}=kl(),k=te(),{user:j}=fa();(0,n.useEffect)((()=>{"admin"===(null===j||void 0===j?void 0:j.role)?(w(),S()):k("/")}),[j,k]);const w=async()=>{try{s(!0);const e=await pa.get("/admin/blog/posts");t(e.posts||[])}catch(e){b("Failed to fetch blog posts","error")}finally{s(!1)}},S=async()=>{try{const e=await pa.get("/admin/blog/subscriptions");o(e.subscriptions||[])}catch(e){console.error("Failed to fetch subscriptions:",e)}},C=()=>{f&&!h.tags.includes(f)&&(m({...h,tags:[...h.tags,f]}),g(""))},_=e=>{switch(e){case"published":return"success";case"draft":default:return"default";case"archived":return"danger"}};return a?(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,ze.jsx)(Ss,{size:"lg"})}):(0,ze.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:Da.colors.dark.bg,padding:Da.spacing[6]},children:[(0,ze.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Da.spacing[6]},children:(0,ze.jsx)(Is,{children:"Blog Admin"})}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2],marginBottom:Da.spacing[6],borderBottom:`1px solid ${Da.colors.dark.border}`,paddingBottom:Da.spacing[2]},children:[(0,ze.jsx)(fs,{variant:"posts"===i?"primary":"ghost",onClick:()=>l("posts"),children:"Blog Posts"}),(0,ze.jsx)(fs,{variant:"subscriptions"===i?"primary":"ghost",onClick:()=>l("subscriptions"),children:"Subscriptions"})]}),"posts"===i&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:Da.spacing[4]},children:(0,ze.jsx)(fs,{onClick:()=>{p(null),m({title:"",slug:"",content:"",excerpt:"",featured_image:"",tags:[],status:"draft",meta_description:"",meta_keywords:""}),d(!0)},icon:Kc,children:"New Post"})}),(0,ze.jsx)(ks,{children:(0,ze.jsx)("div",{style:{overflowX:"auto"},children:(0,ze.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{style:{borderBottom:`1px solid ${Da.colors.dark.border}`},children:[(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Title"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Author"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Status"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Created"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Views"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Actions"})]})}),(0,ze.jsx)("tbody",{children:e.map((e=>(0,ze.jsxs)("tr",{style:{borderBottom:`1px solid ${Da.colors.dark.border}`},children:[(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.title}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.author_name}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:(0,ze.jsx)(js,{variant:_(e.status),children:e.status})}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:new Date(e.created_at).toLocaleDateString()}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.view_count}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2]},children:[(0,ze.jsx)(ys,{icon:Jc,onClick:()=>k(`/blog/${e.slug}`),size:"sm"}),(0,ze.jsx)(ys,{icon:Xc,onClick:()=>(async e=>{try{const t=await pa.get(`/admin/blog/posts/${e}`);p(t),m({title:t.title,slug:t.slug,content:t.content,excerpt:t.excerpt||"",featured_image:t.featured_image||"",tags:t.tags||[],status:t.status,meta_description:t.meta_description||"",meta_keywords:t.meta_keywords||""}),d(!0)}catch(t){b("Failed to load post","error")}})(e.id),size:"sm"}),(0,ze.jsx)(ys,{icon:ed,onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this post?"))try{await pa.delete(`/admin/blog/posts/${e}`),b("Post deleted successfully","success"),w()}catch(t){b("Failed to delete post","error")}})(e.id),variant:"danger",size:"sm"})]})})]},e.id)))})]})})})]}),"subscriptions"===i&&(0,ze.jsx)(ks,{children:(0,ze.jsx)("div",{style:{overflowX:"auto"},children:(0,ze.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{style:{borderBottom:`1px solid ${Da.colors.dark.border}`},children:[(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Email"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Status"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Frequency"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Created"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Last Notified"}),(0,ze.jsx)("th",{style:{padding:Da.spacing[3],textAlign:"left"},children:"Actions"})]})}),(0,ze.jsx)("tbody",{children:r.map((e=>(0,ze.jsxs)("tr",{style:{borderBottom:`1px solid ${Da.colors.dark.border}`},children:[(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.email}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:(0,ze.jsx)(js,{variant:"active"===e.status?"success":"default",children:e.status})}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.frequency}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:new Date(e.created_at).toLocaleDateString()}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:e.last_notified_at?new Date(e.last_notified_at).toLocaleDateString():"Never"}),(0,ze.jsx)("td",{style:{padding:Da.spacing[3]},children:(0,ze.jsx)(ys,{icon:ed,onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this subscription?"))try{await pa.delete(`/admin/blog/subscriptions/${e}`),b("Subscription deleted successfully","success"),S()}catch(t){b("Failed to delete subscription","error")}})(e.id),variant:"danger",size:"sm"})})]},e.id)))})]})})})]}),(0,ze.jsx)(ws,{isOpen:c,onClose:()=>d(!1),title:u?"Edit Post":"Create New Post",size:"lg",children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Da.spacing[4]},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Title *"}),(0,ze.jsx)(Es,{value:h.title,onChange:e=>m({...h,title:e.target.value}),placeholder:"Enter post title"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Slug"}),(0,ze.jsx)(Es,{value:h.slug,onChange:e=>m({...h,slug:e.target.value}),placeholder:"URL-friendly slug (auto-generated if empty)"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Excerpt"}),(0,ze.jsx)(Ts,{value:h.excerpt,onChange:e=>m({...h,excerpt:e.target.value}),placeholder:"Brief description of the post",rows:3})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Content *"}),(0,ze.jsx)(Ts,{value:h.content,onChange:e=>m({...h,content:e.target.value}),placeholder:"Post content (HTML supported)",rows:10})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Featured Image"}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2],alignItems:"center"},children:[(0,ze.jsx)(Es,{value:h.featured_image,onChange:e=>m({...h,featured_image:e.target.value}),placeholder:"Image URL or upload below",style:{flex:1}}),(0,ze.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",padding:`${Da.spacing[2]} ${Da.spacing[3]}`,backgroundColor:Da.colors.dark.surface,color:Da.colors.dark.text,borderRadius:Da.borderRadius.md,border:`1px solid ${Da.colors.dark.border}`,cursor:y?"not-allowed":"pointer",fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium,opacity:y?.6:1},children:[(0,ze.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))return void b("Please upload a valid image file (JPEG, PNG, GIF, or WebP)","error");if(t.size>5242880)return void b("Image size must be less than 5MB","error");x(!0);const r=new FormData;r.append("file",t);try{const e=await pa.post("/uploads/blog-image",r,{headers:{"Content-Type":"multipart/form-data"}});m({...h,featured_image:e.url}),b("Image uploaded successfully","success")}catch(n){b("Failed to upload image","error")}finally{x(!1)}},disabled:y,style:{display:"none"}}),y?"Uploading...":"Upload Image"]})]}),h.featured_image&&(0,ze.jsx)("div",{style:{marginTop:Da.spacing[2]},children:(0,ze.jsx)("img",{src:h.featured_image,alt:"Featured",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:Da.borderRadius.md,border:`1px solid ${Da.colors.dark.border}`}})})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Tags"}),(0,ze.jsxs)("div",{style:{display:"flex",gap:Da.spacing[2],marginBottom:Da.spacing[2]},children:[(0,ze.jsx)(Es,{value:f,onChange:e=>g(e.target.value),placeholder:"Add a tag",onKeyPress:e=>"Enter"===e.key&&C()}),(0,ze.jsx)(fs,{onClick:C,variant:"secondary",children:"Add"})]}),(0,ze.jsx)("div",{style:{display:"flex",gap:Da.spacing[2],flexWrap:"wrap"},children:h.tags.map((e=>(0,ze.jsxs)(js,{variant:"info",children:[e,(0,ze.jsx)("button",{onClick:()=>{return t=e,void m({...h,tags:h.tags.filter((e=>e!==t))});var t},style:{marginLeft:Da.spacing[2],background:"none",border:"none",color:"inherit",cursor:"pointer"},children:"\xd7"})]},e)))})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{style:{display:"block",marginBottom:Da.spacing[2],fontSize:Da.typography.fontSize.sm[0],fontWeight:Da.typography.fontWeight.medium},children:"Status"}),(0,ze.jsxs)(Rs,{value:h.status,onChange:e=>m({...h,status:e.target.value}),children:[(0,ze.jsx)("option",{value:"draft",children:"Draft"}),(0,ze.jsx)("option",{value:"published",children:"Published"}),(0,ze.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:Da.spacing[3],marginTop:Da.spacing[4],paddingTop:Da.spacing[4],borderTop:`1px solid ${Da.colors.dark.border}`,backgroundColor:Da.colors.dark.bg,position:"sticky",bottom:0,marginLeft:`-${Da.spacing[6]}`,marginRight:`-${Da.spacing[6]}`,marginBottom:`-${Da.spacing[6]}`,padding:Da.spacing[4]},children:[(0,ze.jsx)(fs,{variant:"ghost",onClick:()=>d(!1),children:"Cancel"}),(0,ze.jsxs)(fs,{onClick:async()=>{try{const e={...h};e.slug&&""!==e.slug.trim()||delete e.slug,["excerpt","featured_image","meta_description","meta_keywords"].forEach((t=>{e[t]&&""!==e[t].trim()||delete e[t]})),u?(await pa.patch(`/admin/blog/posts/${u.id}`,e),b("Post updated successfully","success")):(await pa.post("/admin/blog/posts",e),b("Post created successfully","success")),d(!1),w()}catch(n){var e,t,r;console.error("Blog post save error:",null===(e=n.response)||void 0===e?void 0:e.data),b((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to save post","error")}},variant:"primary",children:[u?"Update":"Create"," Post"]})]})]})}),(0,ze.jsx)(v,{})]})},rd=[{id:"source",name:"Source",color:"#3B82F6"},{id:"context_fetch",name:"Context Fetch",color:"#8B5CF6"},{id:"complexity_scorer",name:"Complexity Scorer",color:"#EC4899"},{id:"root_processor",name:"Root Processor",color:"#F59E0B"},{id:"decomposer",name:"Decomposer",color:"#10B981"},{id:"composer",name:"Composer",color:"#6366F1"}],nd={source:"source_events",context_fetch:"context_events",complexity_scorer:"scored_events",root_processor:"processed_events",decomposer:"decomposed_events",composer:"composed_events"};const od=function(){const{user:e}=fa(),[t,r]=(0,n.useState)({}),[o,a]=(0,n.useState)(""),[s,i]=(0,n.useState)("all"),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),p=(0,n.useRef)(null),h=(0,n.useRef)(null),m=(0,n.useRef)(null),f=(0,n.useCallback)((async()=>{try{const t=await fetch("/api/tasks?depth=0",{headers:{Authorization:`Bearer ${(null===e||void 0===e?void 0:e.token)||"dev-bypass-token"}`}});if(t.ok){const e=await t.json();c(e.tasks||[])}}catch(t){console.error("Error fetching root tasks:",t)}}),[null===e||void 0===e?void 0:e.token]),g=(0,n.useCallback)((()=>{const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/ws/pipeline`;try{p.current=new WebSocket(t),p.current.onopen=()=>{console.log("Pipeline WebSocket connected"),p.current.send(JSON.stringify({type:"auth",token:(null===e||void 0===e?void 0:e.token)||"dev-bypass-token"}))},p.current.onmessage=e=>{try{const t=JSON.parse(e.data);y(t)}catch(t){console.error("Error parsing WebSocket message:",t)}},p.current.onerror=e=>{console.error("WebSocket error:",e)},p.current.onclose=()=>{console.log("Pipeline WebSocket disconnected"),h.current=setTimeout(g,3e3)}}catch(r){console.error("Error connecting to WebSocket:",r)}}),[null===e||void 0===e?void 0:e.token]),y=(0,n.useCallback)((e=>{if("service.status"===e.type||"operator.status"===e.type){const{task_id:t,operator:n,stage:o,status:a,message:s,timestamp:i}=e.data||e;r((e=>{const r=e[t]||{id:t,stages:{},root_task_id:null,description:"",created_at:i},l=n||o;return l&&(r.stages[l]={status:a,message:s,timestamp:i,duration:null},"completed"===a&&r.stages[l].start_time?r.stages[l].duration=new Date(i)-new Date(r.stages[l].start_time):"processing"!==a&&"started"!==a||(r.stages[l].start_time=i)),{...e,[t]:r}}))}else if("task.created"===e.type||"task.updated"===e.type){const{task_id:t,description:n,parent_task_id:o,root_task_id:a}=e.data||e;r((e=>{const r=e[t]||{id:t,stages:{},root_task_id:a||o||t,description:n||"",created_at:(new Date).toISOString()};return n&&(r.description=n),a&&(r.root_task_id=a),{...e,[t]:r}}))}d&&m.current&&(m.current.scrollTop=m.current.scrollHeight)}),[d]),x=(0,n.useCallback)((async()=>{try{const t=await fetch("/api/pipeline/state",{headers:{Authorization:`Bearer ${(null===e||void 0===e?void 0:e.token)||"dev-bypass-token"}`}});if(t.ok){const e=await t.json();e.tasks&&r(e.tasks)}}catch(t){console.error("Error fetching pipeline state:",t)}}),[null===e||void 0===e?void 0:e.token]);(0,n.useEffect)((()=>(f(),x(),g(),()=>{p.current&&p.current.close(),h.current&&clearTimeout(h.current)})),[f,x,g]);const b=Object.values(t).filter((e=>!(o&&!e.id.includes(o)&&!e.description.toLowerCase().includes(o.toLowerCase()))&&("all"===s||e.root_task_id===s)));b.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));const v=e=>{switch(e){case"completed":return"#10B981";case"processing":return"#3B82F6";case"started":return"#F59E0B";case"error":return"#EF4444";case"skipped":return"#6B7280";default:return"#E5E7EB"}};return(0,ze.jsxs)("div",{className:"pipeline-flow",children:[(0,ze.jsxs)("div",{className:"pipeline-header",children:[(0,ze.jsx)("h1",{children:"Pipeline Flow Visualization"}),(0,ze.jsxs)("div",{className:"pipeline-controls",children:[(0,ze.jsx)(Es,{type:"text",placeholder:"Filter by task ID or description...",value:o,onChange:e=>a(e.target.value),style:{width:"300px"}}),(0,ze.jsxs)(Rs,{value:s,onChange:e=>i(e.target.value),style:{width:"250px"},children:[(0,ze.jsx)("option",{value:"all",children:"All Root Tasks"}),l.map((e=>(0,ze.jsxs)("option",{value:e.task_id,children:[e.description.substring(0,50),"..."]},e.task_id)))]}),(0,ze.jsxs)("label",{className:"auto-scroll-toggle",children:[(0,ze.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked)}),"Auto-scroll"]})]})]}),(0,ze.jsx)("div",{className:"pipeline-stages",children:rd.map((e=>(0,ze.jsxs)("div",{className:"stage-header",style:{borderColor:e.color},children:[(0,ze.jsx)("span",{className:"stage-name",children:e.name}),(0,ze.jsx)(js,{variant:"secondary",className:"stage-stream",children:nd[e.id]})]},e.id)))}),(0,ze.jsx)("div",{className:"pipeline-flow-container",ref:m,children:0===b.length?(0,ze.jsxs)("div",{className:"no-tasks",children:[(0,ze.jsx)("p",{children:"No tasks in pipeline"}),(0,ze.jsx)("p",{className:"hint",children:"Tasks will appear here as they flow through the pipeline"})]}):b.map((e=>(0,ze.jsxs)("div",{className:"task-flow-row",children:[(0,ze.jsxs)("div",{className:"task-info",children:[(0,ze.jsxs)("div",{className:"task-id",children:[e.id.substring(0,8),"..."]}),(0,ze.jsx)("div",{className:"task-description",children:e.description.substring(0,50)}),e.root_task_id&&e.root_task_id!==e.id&&(0,ze.jsxs)(js,{variant:"outline",size:"small",children:["Root: ",e.root_task_id.substring(0,8)]})]}),(0,ze.jsx)("div",{className:"task-stages",children:rd.map((t=>{const r=((e,t)=>{var r;return(null===(r=e.stages[t])||void 0===r?void 0:r.status)||"pending"})(e,t.id),n=e.stages[t.id];return(0,ze.jsxs)("div",{className:`stage-cell ${r}`,style:{backgroundColor:v(r)},title:n?`${n.message||r}\n${n.timestamp||""}`:r,children:["processing"===r&&(0,ze.jsx)("div",{className:"processing-indicator"}),(null===n||void 0===n?void 0:n.duration)&&(0,ze.jsxs)("span",{className:"stage-duration",children:[(n.duration/1e3).toFixed(1),"s"]})]},t.id)}))}),(0,ze.jsx)("div",{className:"task-timestamp",children:new Date(e.created_at).toLocaleTimeString()})]},e.id)))}),(0,ze.jsxs)("div",{className:"pipeline-legend",children:[(0,ze.jsxs)("div",{className:"legend-item",children:[(0,ze.jsx)("div",{className:"legend-color",style:{backgroundColor:"#E5E7EB"}}),(0,ze.jsx)("span",{children:"Pending"})]}),(0,ze.jsxs)("div",{className:"legend-item",children:[(0,ze.jsx)("div",{className:"legend-color",style:{backgroundColor:"#3B82F6"}}),(0,ze.jsx)("span",{children:"Processing"})]}),(0,ze.jsxs)("div",{className:"legend-item",children:[(0,ze.jsx)("div",{className:"legend-color",style:{backgroundColor:"#10B981"}}),(0,ze.jsx)("span",{children:"Completed"})]}),(0,ze.jsxs)("div",{className:"legend-item",children:[(0,ze.jsx)("div",{className:"legend-color",style:{backgroundColor:"#EF4444"}}),(0,ze.jsx)("span",{children:"Error"})]}),(0,ze.jsxs)("div",{className:"legend-item",children:[(0,ze.jsx)("div",{className:"legend-color",style:{backgroundColor:"#6B7280"}}),(0,ze.jsx)("span",{children:"Skipped"})]})]})]})},ad=()=>{const{user:e,loading:t}=fa(),{loadUserSettings:r}=La(),o=Z();return(0,n.useEffect)((()=>{t||r((null===e||void 0===e?void 0:e.id)||null)}),[null===e||void 0===e?void 0:e.id,t,r,o.pathname,e]),null},sd=()=>{const{isAuthenticated:e,loading:t,user:r}=fa();if(t)return console.log("AuthRoute: still loading auth state"),null;const n=e();return console.log("AuthRoute: authenticated status:",n),console.log("AuthRoute: user:",r),console.log("AuthRoute: will render:",n?"Dashboard redirect":"Landing page"),n?(0,ze.jsx)(ye,{to:"/dashboard",replace:!0}):(0,ze.jsx)(xl,{})};const id=function(){return n.useEffect((()=>{const e=sessionStorage.getItem("oauth_login_success"),t=sessionStorage.getItem("redirect_after_reload");"true"===e&&t&&(console.log("Detected successful OAuth login, clearing flags"),sessionStorage.removeItem("oauth_login_success"),sessionStorage.removeItem("redirect_after_reload"))}),[]),(0,ze.jsx)(St,{children:(0,ze.jsxs)(Oe,{client:jr,children:[(0,ze.jsx)(ma,{children:(0,ze.jsxs)(Oa,{children:[(0,ze.jsx)(ad,{}),(0,ze.jsx)($a,{children:(0,ze.jsx)(Na,{children:(0,ze.jsx)(Aa,{children:(0,ze.jsx)(Js,{children:(0,ze.jsxs)(ve,{children:[(0,ze.jsx)(xe,{path:"/",element:(0,ze.jsx)(sd,{})}),(0,ze.jsx)(xe,{path:"/landing",element:(0,ze.jsx)(xl,{})}),(0,ze.jsx)(xe,{path:"/login",element:(0,ze.jsx)(zl,{})}),(0,ze.jsx)(xe,{path:"/register",element:(0,ze.jsx)(Il,{})}),(0,ze.jsx)(xe,{path:"/oauth-callback",element:(0,ze.jsx)(Ol,{})}),(0,ze.jsx)(xe,{path:"/oauth/:provider/callback",element:(0,ze.jsx)(Pl,{})}),(0,ze.jsx)(xe,{path:"/404",element:(0,ze.jsx)(fl,{})}),(0,ze.jsx)(xe,{path:"/about",element:(0,ze.jsx)(vl,{})}),(0,ze.jsx)(xe,{path:"/contact",element:(0,ze.jsx)(jl,{})}),(0,ze.jsx)(xe,{path:"/privacy",element:(0,ze.jsx)(wl,{})}),(0,ze.jsx)(xe,{path:"/terms",element:(0,ze.jsx)(Sl,{})}),(0,ze.jsx)(xe,{path:"/blog",element:(0,ze.jsx)(Qc,{})}),(0,ze.jsx)(xe,{path:"/blog/:slug",element:(0,ze.jsx)(Qc,{})}),(0,ze.jsx)(xe,{path:"/dashboard",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(hi,{})})}),(0,ze.jsx)(xe,{path:"/tasks/create",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(ml,{})})}),(0,ze.jsx)(xe,{path:"/tasks/:taskId",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(Ki,{})})}),(0,ze.jsx)(xe,{path:"/settings",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(Tl,{})})}),(0,ze.jsx)(xe,{path:"/admin/blog",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(td,{})})}),(0,ze.jsx)(xe,{path:"/pipeline",element:(0,ze.jsx)($s,{children:(0,ze.jsx)(od,{})})}),(0,ze.jsx)(xe,{path:"*",element:(0,ze.jsx)(ye,{to:"/404",replace:!0})})]})})})})})]})}),(0,ze.jsx)(Al,{}),(0,ze.jsx)(Le,{initialIsOpen:!1})]})})},ld=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then((t=>{let{getCLS:r,getFID:n,getFCP:o,getLCP:a,getTTFB:s}=t;r(e),n(e),o(e),a(e),s(e)}))},cd="disconnected",dd="connecting",ud="connected",pd=(e,t)=>{const[r,o]=(0,n.useState)(cd),a=(0,n.useRef)(cd),s=(0,n.useRef)(null),i=(0,n.useRef)(null),l=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(t),u=(0,n.useRef)(0);(0,n.useEffect)((()=>{d.current=t}),[t]);const p=(0,n.useCallback)((e=>{o(e),a.current=e}),[]),h=(0,n.useCallback)((()=>{l.current&&(clearTimeout(l.current),l.current=null),c.current&&(clearTimeout(c.current),c.current=null)}),[]),m=(0,n.useCallback)((e=>{if(e)try{if(e.heartbeatInterval&&(clearInterval(e.heartbeatInterval),e.heartbeatInterval=null),e.monitorInterval&&(clearInterval(e.monitorInterval),e.monitorInterval=null),e.readyState===WebSocket.OPEN)try{e.close()}catch(gd){}}catch(t){console.error("Error cleaning up WebSocket:",t)}}),[]),f=(0,n.useCallback)((()=>{if(a.current===cd&&!s.current)return;console.log(`Disconnecting WebSocket for task ${i.current}`),h();const e=s.current;if(!e)return p(cd),void(i.current=null);try{m(e),s.current=null,p(cd)}catch(t){console.error("Error disconnecting WebSocket:",t),s.current=null,p(cd)}}),[h,m,p]),g=(0,n.useCallback)(((e,t)=>{e&&(e.onopen=()=>{console.log(`WebSocket connection opened for task ${t}`),p(ud),e.heartbeatInterval=setInterval((()=>{if(e.readyState===WebSocket.OPEN)try{e.send(JSON.stringify({type:"heartbeat"}))}catch(gd){console.error("Error sending heartbeat:",gd)}}),3e4),e.monitorInterval=setInterval((()=>{e.readyState!==WebSocket.OPEN&&(console.warn("WebSocket connection lost, clearing intervals"),clearInterval(e.heartbeatInterval),clearInterval(e.monitorInterval),a.current!==cd&&(console.log("Attempting to reconnect..."),p(cd),i.current&&(console.log(`Reconnecting to WebSocket for task: ${i.current}`),y(i.current))))}),3e3)},e.onclose=()=>{console.log(`WebSocket connection closed for task ${t}`),a.current!==cd&&(p(cd),c.current=setTimeout((()=>{a.current===cd&&i.current&&(console.log(`Attempting to reconnect to WebSocket for task: ${i.current}`),y(i.current))}),5e3))},e.onerror=e=>{console.error(`WebSocket error for task ${t}:`,e),a.current!==cd&&(p(cd),c.current=setTimeout((()=>{a.current===cd&&i.current&&(console.log(`Attempting to reconnect after error for task: ${i.current}`),y(i.current))}),5e3))},e.onmessage=e=>{try{const r=JSON.parse(e.data);console.log(`WebSocket message received for task ${t}:`,r),d.current&&d.current(r)}catch(r){console.error("Error processing WebSocket message:",r)}})}),[p]),y=(0,n.useCallback)((t=>{try{if(a.current!==cd)return;const r=Date.now();if(r-u.current<1e3)return void console.log("Rate limiting: Too many connection attempts, waiting...");let n;if(u.current=r,p(dd),n="function"===typeof e?e(t):t?`${e}/${t}`:e,!n)return console.warn("No WebSocket URL available"),void p(cd);console.log(`Connecting to WebSocket URL: ${n}`),i.current=t;const o=new WebSocket(n);s.current=o,g(o,t)}catch(r){console.error("WebSocket connection error:",r),p(cd),c.current=setTimeout((()=>{a.current===cd&&i.current&&y(i.current)}),5e3)}}),[e,p,g]),x=(0,n.useCallback)((e=>{if(!e||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return console.warn("Not connecting WebSocket: Invalid or missing task ID"),void f();s.current&&a.current===ud&&i.current===e?console.log(`Already connected to task ${e}, skipping connection`):a.current!==dd||i.current!==e?(i.current=e,s.current?(console.log(`Switching from ${i.current} to ${e}, cleaning up old connection`),f(),setTimeout((()=>{i.current===e&&y(e)}),100)):y(e)):console.log(`Already connecting to task ${e}, waiting...`)}),[f,y]);return(0,n.useEffect)((()=>()=>{f()}),[f]),{wsState:r,connect:x,disconnect:f,isConnected:r===ud,currentTaskId:i.current}};var hd;null===(hd=window.CAHOOTS_CONFIG)||void 0===hd||hd.API_URL;const md=(0,n.createContext)(),fd=e=>{let{children:t}=e;const[r,o]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)({}),[u,p]=(0,n.useState)({}),[h,m]=(0,n.useState)(null),[f,g]=(0,n.useState)({}),y=(0,n.useRef)(null),x=(0,n.useRef)(null),b=(0,n.useRef)(null),v=(0,n.useRef)(null),k=(0,n.useCallback)((async e=>{if(!e)return null;try{s(!0),l(null);return await pa.get(`/tasks/${e}`)}catch(t){return console.error(`Error fetching task ${e}:`,t),l(`Failed to fetch task: ${t.message}`),null}finally{s(!1)}}),[]);(0,n.useEffect)((()=>{y.current=k}),[k]);const j=(0,n.useCallback)((async e=>{if(e)try{s(!0),l(null);const t=await pa.get(`/tasks/${e}/tree`);return t?(console.log("Successfully fetched task tree:",t),p((r=>{const n={...r};return n[e]=JSON.parse(JSON.stringify(t)),console.log("Updated task tree state with new reference:",e,n[e]),n})),s(!1),t):(console.error("Received null or undefined tree data for taskId:",e),l("Failed to load task tree: No data received"),s(!1),null)}catch(t){throw console.error("Error fetching task tree:",t),s(!1),l(`Failed to load task tree: ${t.message}`),t}}),[]);(0,n.useEffect)((()=>{v.current=j}),[j]);const w=(0,n.useCallback)((async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("fetchTasks called with topLevelOnly:",e);try{s(!0),l(null);const t=new URLSearchParams;e&&t.append("top_level_only","true");const r=await pa.get(`/tasks?${t.toString()}`),n=Array.isArray(r)?r:r.tasks||[];return o(n),s(!1),n}catch(t){throw console.error("Error fetching tasks:",t),s(!1),l(`Failed to load tasks: ${t.message}`),t}}),[]);(0,n.useEffect)((()=>{b.current=w}),[w]);const S=(0,n.useCallback)((async(e,t)=>{try{return s(!0),l(null),await pa.patch(`/tasks/${e}`,{status:t}),b.current&&await b.current(),s(!1),!0}catch(r){throw console.error("Error updating task status:",r),s(!1),l(`Failed to update task status: ${r.message}`),r}}),[]);(0,n.useEffect)((()=>{x.current=S}),[S]);(0,n.useCallback)((async e=>{try{if(!v.current)return;console.log(`Directly refreshing task tree for ${e}`);const t=await v.current(e);t&&(console.log(`Got updated task tree for ${e}:`,t),p((r=>{const n=JSON.parse(JSON.stringify(r));return n[e]=t,console.log(`Updated task tree state for ${e}`),n})))}catch(t){console.error(`Error refreshing task tree for ${e}:`,t)}}),[]);const C=(0,n.useCallback)((e=>{try{if(console.log("WebSocket message received:",e),"connection_test"===e.type||"connection_established"===e.type)return;if("event_history"===e.type&&Array.isArray(e.events))console.log(`Received event history with ${e.events.length} events for task ${e.task_id}`),e.events.forEach((e=>{console.log(`Processing historical event: ${e.channel}`,e.data);const t={...e.data,type:e.channel,timestamp:e.timestamp};"event_history"!==t.type&&C(t)}));else if("operator.status"===e.type)console.log(`Operator status update for task ${e.task_id}:`,e),g((t=>({...t,[e.operator_id]:{status:e.status,message:e.message,timestamp:e.timestamp,task_id:e.task_id}}))),"completed"===e.status&&e.task_id&&pa&&(console.log(`Checking if task ${e.task_id} is atomic after operator completion`),pa.get(`/tasks/${e.task_id}`).then((t=>{const r=t.data;r&&r.is_atomic&&"completed"!==r.status&&(console.log(`Auto-completing atomic task ${e.task_id}`),pa.patch(`/tasks/${e.task_id}`,{status:"completed",is_atomic:!0}).then((()=>{console.log(`Task ${e.task_id} marked as completed`),y.current&&setTimeout((()=>y.current(e.task_id)),200)})).catch((e=>console.error("Error auto-completing atomic task:",e))))})).catch((e=>{console.error("Error checking if task is atomic:",e)})));else if(e.type&&e.type.startsWith("task.")){console.log(`Received ${e.type} event for task ${e.task_id}`,e),c&&c.id===e.task_id&&(console.log(`Updating current task ${e.task_id} with new data`),d((t=>{const r={...t,status:e.status||t.status,is_atomic:void 0!==e.is_atomic?e.is_atomic:t.is_atomic};return"completed"===e.status&&"completed"!==t.status&&console.log(`Task ${e.task_id} marked as completed`),e.is_atomic&&!t.is_atomic&&console.log(`Task ${e.task_id} marked as atomic`),r})));const t=async e=>{try{if(!y.current)return;console.log(`Refreshing task tree for ${e}`);const r=await y.current(e);r&&o((t=>t.map((t=>t.id===e?{...t,status:r.status,is_atomic:r.is_atomic,predictions:r.predictions||t.predictions}:t)))),r&&r.parent_id&&await t(r.parent_id)}catch(r){console.error(`Error refreshing task ${e} and ancestors:`,r)}};e.task_id&&(console.log(`Refreshing task data for ${e.task_id} due to ${e.type} event`),setTimeout((()=>t(e.task_id)),100)),b.current&&b.current().catch((e=>{console.error("Error refreshing tasks list after event:",e)}))}}catch(t){console.error("Error handling WebSocket message:",t)}}),[]),{wsState:_,connect:N,disconnect:E}=pd((e=>(e=>{if(!e)return console.error("No task ID provided for WebSocket connection"),null;const t="https:"===window.location.protocol?"wss:":"ws:",r=window.location.hostname;return"https:"===window.location.protocol?`${t}//${r}/ws/tasks/${e}`:`${t}//${r}:${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL&&new URL({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL).port||"8080"}/ws/tasks/${e}`})(e)),C);(0,n.useEffect)((()=>{console.log("WebSocket state changed:",_)}),[_]),(0,n.useEffect)((()=>(h&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(h)?(console.log("Connecting to WebSocket for task:",h),N(h)):(console.log("Not connecting WebSocket: No valid task ID"),E()),()=>{console.log("Cleaning up WebSocket connection"),E()})),[h]),(0,n.useEffect)((()=>{localStorage.getItem("token")?(console.log("TaskContext: User authenticated, fetching initial tasks"),w().catch((e=>{console.error("Error in initial tasks fetch:",e)}))):console.log("TaskContext: No authentication token found, skipping initial task fetch")}),[]);const T=(0,n.useCallback)((async e=>{try{s(!0),l(null);const r=await pa.post("/tasks",e);if(console.log("Task created successfully:",r),w(),r&&r.task_id)try{console.log("Pre-fetching task tree for newly created task:",r.task_id),await j(r.task_id)}catch(t){console.error("Failed to pre-fetch task tree, but continuing:",t)}return s(!1),r}catch(r){throw console.error("Error creating task:",r),s(!1),l(`Failed to create task: ${r.message}`),r}}),[w,j]),R=(0,n.useCallback)((async e=>{try{return s(!0),l(null),await pa.delete(`/tasks/${e}`),await w(),s(!1),!0}catch(t){throw console.error("Error deleting task:",t),s(!1),l(`Failed to delete task: ${t.message}`),t}}),[w]);return(0,ze.jsx)(md.Provider,{value:{tasks:r,loading:a,error:i,currentTask:c,taskTree:u,operatorStatus:f,currentTaskId:h,fetchTasks:w,getTask:k,fetchTaskTree:j,createTask:T,deleteTask:R,updateTaskStatus:S,connectWebSocket:N,disconnectWebSocket:E,wsState:_,setError:l,setCurrentTaskId:m},children:t})};a.createRoot(document.getElementById("root")).render((0,ze.jsx)(n.StrictMode,{children:(0,ze.jsx)(_e,{children:(0,ze.jsx)(Oa,{children:(0,ze.jsx)(fd,{children:(0,ze.jsx)(id,{})})})})})),ld()})()})();
//# sourceMappingURL=main.fb690b6d.js.map