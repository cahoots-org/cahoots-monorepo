{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import ApprovalReviewModal from'./ApprovalReviewModal';import apiClient from'../services/unifiedApiClient';import{Card,tokens}from'../design-system';import'./PendingApprovalsPanel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PendingApprovalsPanel=_ref=>{let{refreshTrigger=0,parentTaskId}=_ref;console.log('DEBUG: PendingApprovalsPanel mounted with parentTaskId:',parentTaskId);const[pendingTasks,setPendingTasks]=useState([]);const[loading,setLoading]=useState(true);const[selectedTask,setSelectedTask]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[processedTasks,setProcessedTasks]=useState(new Set());// WebSocket connection for real-time approval notifications\nconst wsRef=useRef(null);const reconnectTimeoutRef=useRef(null);const[wsConnected,setWsConnected]=useState(false);const fetchTasksRef=useRef(null);// Get WebSocket URL\nconst getWebSocketUrl=useCallback(()=>{const protocol=window.location.protocol==='https:'?'wss:':'ws:';const host=window.location.hostname;// In production (HTTPS), don't include port in WebSocket URL\nif(window.location.protocol==='https:'){return`${protocol}//${host}/ws/global`;}// In development, use the appropriate port\nconst port=process.env.REACT_APP_API_URL?new URL(process.env.REACT_APP_API_URL).port||'8080':'8080';return`${protocol}//${host}:${port}/ws/global`;},[]);// Handle WebSocket messages\nconst handleWebSocketMessage=useCallback(event=>{try{const data=JSON.parse(event.data);console.log('Approval panel received WebSocket message:',data);// Check if this is a task.updated event with awaiting_approval status\nif(data.type==='task.updated'&&data.status==='awaiting_approval'){console.log('Task requires approval, refreshing pending tasks list');// Refresh the pending tasks list using ref\nif(fetchTasksRef.current){fetchTasksRef.current();}}// Also refresh if a task status changed from awaiting_approval (approved/rejected)\nif(data.type==='task.updated'&&(data.status==='approved'||data.status==='rejected'||data.status==='processing')){console.log('Task approval status changed, refreshing pending tasks list');if(fetchTasksRef.current){fetchTasksRef.current();}}}catch(error){console.error('Error parsing WebSocket message:',error);}},[]);// Connect to WebSocket\nconst connectWebSocket=useCallback(()=>{var _wsRef$current;if(((_wsRef$current=wsRef.current)===null||_wsRef$current===void 0?void 0:_wsRef$current.readyState)===WebSocket.OPEN){return;// Already connected\n}try{const wsUrl=getWebSocketUrl();console.log('Connecting to approval WebSocket:',wsUrl);wsRef.current=new WebSocket(wsUrl);wsRef.current.onopen=()=>{console.log('Approval WebSocket connected');setWsConnected(true);if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);reconnectTimeoutRef.current=null;}};wsRef.current.onmessage=handleWebSocketMessage;wsRef.current.onclose=event=>{console.log('Approval WebSocket disconnected:',event.code,event.reason);setWsConnected(false);// Reconnect after a delay if not a normal closure\nif(event.code!==1000){reconnectTimeoutRef.current=setTimeout(()=>{console.log('Attempting to reconnect approval WebSocket...');connectWebSocket();},3000);}};wsRef.current.onerror=error=>{console.error('Approval WebSocket error:',error);setWsConnected(false);};}catch(error){console.error('Error creating approval WebSocket connection:',error);}},[getWebSocketUrl,handleWebSocketMessage]);// Cleanup WebSocket on unmount\nuseEffect(()=>{return()=>{if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}if(wsRef.current){wsRef.current.close(1000,'Component unmounting');}};},[]);// Connect WebSocket on mount\nuseEffect(()=>{connectWebSocket();},[connectWebSocket]);const fetchPendingTasks=useCallback(async()=>{try{setLoading(true);const url=parentTaskId?`/tasks/pending-approval?parent_task_id=${parentTaskId}`:'/tasks/pending-approval';console.log('DEBUG: PendingApprovalsPanel fetching from URL:',url);console.log('DEBUG: parentTaskId:',parentTaskId);const response=await apiClient.get(url);console.log('DEBUG: PendingApprovalsPanel response:',response);setPendingTasks(response.tasks||[]);console.log('DEBUG: Set pending tasks:',response.tasks||[]);}catch(error){console.error('Error fetching pending approval tasks:',error);setPendingTasks([]);}finally{setLoading(false);}},[parentTaskId]);// Store the function in ref for WebSocket handler\nuseEffect(()=>{fetchTasksRef.current=fetchPendingTasks;},[fetchPendingTasks]);useEffect(()=>{fetchPendingTasks();},[refreshTrigger]);const handleReviewTask=task=>{setSelectedTask(task);setIsModalOpen(true);};const handleApprove=async taskId=>{try{await apiClient.post(`/tasks/${taskId}/approve`);setProcessedTasks(prev=>new Set([...prev,taskId]));// Refresh the list after approval\nawait fetchPendingTasks();}catch(error){console.error('Error approving task:',error);throw error;}};const handleReject=async(taskId,rejectionData)=>{try{await apiClient.post(`/tasks/${taskId}/reject`,rejectionData);setProcessedTasks(prev=>new Set([...prev,taskId]));// Refresh the list after rejection\nawait fetchPendingTasks();}catch(error){console.error('Error rejecting task:',error);throw error;}};const formatTimeAgo=timestamp=>{if(!timestamp)return'Unknown';try{const date=new Date(timestamp);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/(1000*60));const diffHours=Math.floor(diffMs/(1000*60*60));const diffDays=Math.floor(diffMs/(1000*60*60*24));if(diffMins<60){return`${diffMins} min${diffMins!==1?'s':''} ago`;}else if(diffHours<24){return`${diffHours} hour${diffHours!==1?'s':''} ago`;}else{return`${diffDays} day${diffDays!==1?'s':''} ago`;}}catch(error){return'Unknown';}};const truncateText=function(text){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;if(!text)return'';return text.length>maxLength?text.substring(0,maxLength)+'...':text;};const getComplexityColor=score=>{if(score>0.7)return'high';if(score>0.4)return'medium';return'low';};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"pending-approvals-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading pending approvals...\"})]});}if(pendingTasks.length===0){return null;// Hide the entire component when no approvals are needed\n}return/*#__PURE__*/_jsxs(Card,{style:{marginBottom:tokens.spacing[6]},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pending-approvals-panel\",style:{padding:tokens.spacing[4]},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pending-approvals-header\",style:{display:'flex',alignItems:'center',gap:tokens.spacing[3],marginBottom:tokens.spacing[4]},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:tokens.typography.fontSize.lg[0],fontWeight:tokens.typography.fontWeight.semibold,color:tokens.colors.dark.text},children:\"Pending Approvals\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:`${tokens.colors.error[500]}20`,color:tokens.colors.error[500],padding:'4px 8px',borderRadius:tokens.borderRadius.xl,fontSize:tokens.typography.fontSize.xs[0],fontWeight:tokens.typography.fontWeight.semibold,minWidth:'20px',textAlign:'center'},children:pendingTasks.length}),/*#__PURE__*/_jsx(\"button\",{style:{background:'none',border:`1px solid ${tokens.colors.dark.border}`,color:tokens.colors.dark.muted,padding:'4px 8px',borderRadius:tokens.borderRadius.base,cursor:'pointer',transition:tokens.transitions.colors,opacity:loading?0.5:1},onClick:fetchPendingTasks,disabled:loading,title:\"Refresh pending approvals\",children:\"\\u21BB\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pending-tasks-list\",style:{display:'flex',flexDirection:'column',gap:tokens.spacing[4]},children:pendingTasks.map(decomposition=>/*#__PURE__*/_jsxs(\"div\",{style:{border:`1px solid ${tokens.colors.dark.border}`,borderRadius:tokens.borderRadius.lg,padding:tokens.spacing[4],backgroundColor:tokens.colors.dark.surface,opacity:processedTasks.has(decomposition.task_id)?0.6:1,transition:tokens.transitions.all},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:tokens.spacing[3]},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:tokens.spacing[2],flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"span\",{style:{background:`${tokens.colors.warning[500]}20`,color:tokens.colors.warning[500],padding:'4px 8px',borderRadius:tokens.borderRadius.base,fontSize:tokens.typography.fontSize.xs[0],fontWeight:tokens.typography.fontWeight.medium},children:\"Decomposition Awaiting Approval\"}),decomposition.story_points>0&&/*#__PURE__*/_jsxs(\"span\",{style:{background:`${tokens.colors.info[500]}20`,color:tokens.colors.info[500],padding:'4px 8px',borderRadius:tokens.borderRadius.base,fontSize:tokens.typography.fontSize.xs[0],fontWeight:tokens.typography.fontWeight.medium},children:[decomposition.story_points,\" points\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:tokens.spacing[1],color:tokens.colors.dark.muted,fontSize:tokens.typography.fontSize.xs[0]},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD52\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTimeAgo(decomposition.created_at)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-description-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Original Task:\"}),/*#__PURE__*/_jsx(\"h5\",{style:{color:'#FFFFFF',fontSize:'16px',margin:'4px 0'},children:decomposition.parent_task.title||'Task'}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#A3A3A3'},children:truncateText(decomposition.parent_task.description)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"proposed-subtasks-section\",style:{marginTop:'16px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'#FFFFFF'},children:[\"Proposed Subtasks (\",decomposition.proposed_subtasks.length,\"):\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subtasks-preview\",style:{marginTop:'8px'},children:[decomposition.proposed_subtasks.slice(0,3).map((subtask,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"subtask-preview-item\",style:{display:'flex',marginBottom:'6px',color:'#A3A3A3',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#FF8C1A',marginRight:'8px',fontWeight:'bold'},children:[index+1,\".\"]}),/*#__PURE__*/_jsx(\"span\",{children:truncateText(subtask.description||subtask.title||'Untitled subtask',80)})]},index)),decomposition.proposed_subtasks.length>3&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#737373',fontSize:'12px',fontStyle:'italic',marginTop:'4px'},children:[\"... and \",decomposition.proposed_subtasks.length-3,\" more subtasks\"]})]})]}),decomposition.implementation_details&&/*#__PURE__*/_jsxs(\"div\",{className:\"implementation-details-section\",style:{marginTop:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#FFFFFF'},children:\"Implementation Approach:\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#A3A3A3'},children:truncateText(decomposition.implementation_details)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:tokens.spacing[4],paddingTop:tokens.spacing[3],borderTop:`1px solid ${tokens.colors.dark.border}`},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:tokens.colors.dark.muted,fontSize:tokens.typography.fontSize.xs[0]},children:[\"ID: \",decomposition.task_id.substring(0,8),\"...\"]}),/*#__PURE__*/_jsx(\"button\",{style:{background:tokens.colors.primary[500],color:tokens.colors.neutral[0],border:'none',padding:`${tokens.spacing[2]} ${tokens.spacing[4]}`,borderRadius:tokens.borderRadius.base,fontSize:tokens.typography.fontSize.sm[0],fontWeight:tokens.typography.fontWeight.medium,cursor:'pointer',transition:tokens.transitions.all,opacity:processedTasks.has(decomposition.task_id)?0.5:1,pointerEvents:processedTasks.has(decomposition.task_id)?'none':'auto'},onClick:()=>handleReviewTask(decomposition),disabled:processedTasks.has(decomposition.task_id),onMouseEnter:e=>!processedTasks.has(decomposition.task_id)&&(e.target.style.background=tokens.colors.primary[600]),onMouseLeave:e=>!processedTasks.has(decomposition.task_id)&&(e.target.style.background=tokens.colors.primary[500]),title:\"Review and approve/reject the proposed task decomposition\",children:\"\\uD83D\\uDC41 Review Decomposition\"})]})]})]},decomposition.task_id))})]}),/*#__PURE__*/_jsx(ApprovalReviewModal,{isOpen:isModalOpen,onClose:()=>{setSelectedTask(null);setIsModalOpen(false);},task:selectedTask,onApprove:handleApprove,onReject:handleReject})]});};export default PendingApprovalsPanel;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","ApprovalReviewModal","apiClient","Card","tokens","jsx","_jsx","jsxs","_jsxs","PendingApprovalsPanel","_ref","refreshTrigger","parentTaskId","console","log","pendingTasks","setPendingTasks","loading","setLoading","selectedTask","setSelectedTask","isModalOpen","setIsModalOpen","processedTasks","setProcessedTasks","Set","wsRef","reconnectTimeoutRef","wsConnected","setWsConnected","fetchTasksRef","getWebSocketUrl","protocol","window","location","host","hostname","port","process","env","REACT_APP_API_URL","URL","handleWebSocketMessage","event","data","JSON","parse","type","status","current","error","connectWebSocket","_wsRef$current","readyState","WebSocket","OPEN","wsUrl","onopen","clearTimeout","onmessage","onclose","code","reason","setTimeout","onerror","close","fetchPendingTasks","url","response","get","tasks","handleReviewTask","task","handleApprove","taskId","post","prev","handleReject","rejectionData","formatTimeAgo","timestamp","date","Date","now","diffMs","diffMins","Math","floor","diffHours","diffDays","truncateText","text","maxLength","arguments","length","undefined","substring","getComplexityColor","score","className","children","style","marginBottom","spacing","padding","display","alignItems","gap","margin","fontSize","typography","lg","fontWeight","semibold","color","colors","dark","background","borderRadius","xl","xs","minWidth","textAlign","border","muted","base","cursor","transition","transitions","opacity","onClick","disabled","title","flexDirection","map","decomposition","backgroundColor","surface","has","task_id","all","justifyContent","flexWrap","warning","medium","story_points","info","created_at","parent_task","description","marginTop","proposed_subtasks","slice","subtask","index","marginRight","fontStyle","implementation_details","paddingTop","borderTop","primary","neutral","sm","pointerEvents","onMouseEnter","e","target","onMouseLeave","isOpen","onClose","onApprove","onReject"],"sources":["/app/src/components/PendingApprovalsPanel.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport ApprovalReviewModal from './ApprovalReviewModal';\nimport apiClient from '../services/unifiedApiClient';\nimport { Card, tokens } from '../design-system';\nimport './PendingApprovalsPanel.css';\n\nconst PendingApprovalsPanel = ({ refreshTrigger = 0, parentTaskId }) => {\n  console.log('DEBUG: PendingApprovalsPanel mounted with parentTaskId:', parentTaskId);\n  const [pendingTasks, setPendingTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [processedTasks, setProcessedTasks] = useState(new Set());\n  \n  // WebSocket connection for real-time approval notifications\n  const wsRef = useRef(null);\n  const reconnectTimeoutRef = useRef(null);\n  const [wsConnected, setWsConnected] = useState(false);\n  const fetchTasksRef = useRef(null);\n\n  // Get WebSocket URL\n  const getWebSocketUrl = useCallback(() => {\n    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n    const host = window.location.hostname;\n    \n    // In production (HTTPS), don't include port in WebSocket URL\n    if (window.location.protocol === 'https:') {\n      return `${protocol}//${host}/ws/global`;\n    }\n    \n    // In development, use the appropriate port\n    const port = process.env.REACT_APP_API_URL ? \n      new URL(process.env.REACT_APP_API_URL).port || '8080' : \n      '8080';\n    return `${protocol}//${host}:${port}/ws/global`;\n  }, []);\n\n  // Handle WebSocket messages\n  const handleWebSocketMessage = useCallback((event) => {\n    try {\n      const data = JSON.parse(event.data);\n      console.log('Approval panel received WebSocket message:', data);\n      \n      // Check if this is a task.updated event with awaiting_approval status\n      if (data.type === 'task.updated' && data.status === 'awaiting_approval') {\n        console.log('Task requires approval, refreshing pending tasks list');\n        // Refresh the pending tasks list using ref\n        if (fetchTasksRef.current) {\n          fetchTasksRef.current();\n        }\n      }\n      \n      // Also refresh if a task status changed from awaiting_approval (approved/rejected)\n      if (data.type === 'task.updated' && \n          (data.status === 'approved' || data.status === 'rejected' || data.status === 'processing')) {\n        console.log('Task approval status changed, refreshing pending tasks list');\n        if (fetchTasksRef.current) {\n          fetchTasksRef.current();\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing WebSocket message:', error);\n    }\n  }, []);\n\n  // Connect to WebSocket\n  const connectWebSocket = useCallback(() => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      return; // Already connected\n    }\n\n    try {\n      const wsUrl = getWebSocketUrl();\n      console.log('Connecting to approval WebSocket:', wsUrl);\n      \n      wsRef.current = new WebSocket(wsUrl);\n      \n      wsRef.current.onopen = () => {\n        console.log('Approval WebSocket connected');\n        setWsConnected(true);\n        if (reconnectTimeoutRef.current) {\n          clearTimeout(reconnectTimeoutRef.current);\n          reconnectTimeoutRef.current = null;\n        }\n      };\n      \n      wsRef.current.onmessage = handleWebSocketMessage;\n      \n      wsRef.current.onclose = (event) => {\n        console.log('Approval WebSocket disconnected:', event.code, event.reason);\n        setWsConnected(false);\n        \n        // Reconnect after a delay if not a normal closure\n        if (event.code !== 1000) {\n          reconnectTimeoutRef.current = setTimeout(() => {\n            console.log('Attempting to reconnect approval WebSocket...');\n            connectWebSocket();\n          }, 3000);\n        }\n      };\n      \n      wsRef.current.onerror = (error) => {\n        console.error('Approval WebSocket error:', error);\n        setWsConnected(false);\n      };\n    } catch (error) {\n      console.error('Error creating approval WebSocket connection:', error);\n    }\n  }, [getWebSocketUrl, handleWebSocketMessage]);\n\n  // Cleanup WebSocket on unmount\n  useEffect(() => {\n    return () => {\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n      if (wsRef.current) {\n        wsRef.current.close(1000, 'Component unmounting');\n      }\n    };\n  }, []);\n\n  // Connect WebSocket on mount\n  useEffect(() => {\n    connectWebSocket();\n  }, [connectWebSocket]);\n\n  const fetchPendingTasks = useCallback(async () => {\n    try {\n      setLoading(true);\n      const url = parentTaskId \n        ? `/tasks/pending-approval?parent_task_id=${parentTaskId}`\n        : '/tasks/pending-approval';\n      console.log('DEBUG: PendingApprovalsPanel fetching from URL:', url);\n      console.log('DEBUG: parentTaskId:', parentTaskId);\n      const response = await apiClient.get(url);\n      console.log('DEBUG: PendingApprovalsPanel response:', response);\n      setPendingTasks(response.tasks || []);\n      console.log('DEBUG: Set pending tasks:', response.tasks || []);\n    } catch (error) {\n      console.error('Error fetching pending approval tasks:', error);\n      setPendingTasks([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [parentTaskId]);\n\n  // Store the function in ref for WebSocket handler\n  useEffect(() => {\n    fetchTasksRef.current = fetchPendingTasks;\n  }, [fetchPendingTasks]);\n\n  useEffect(() => {\n    fetchPendingTasks();\n  }, [refreshTrigger]);\n\n  const handleReviewTask = (task) => {\n    setSelectedTask(task);\n    setIsModalOpen(true);\n  };\n\n  const handleApprove = async (taskId) => {\n    try {\n      await apiClient.post(`/tasks/${taskId}/approve`);\n      setProcessedTasks(prev => new Set([...prev, taskId]));\n      // Refresh the list after approval\n      await fetchPendingTasks();\n    } catch (error) {\n      console.error('Error approving task:', error);\n      throw error;\n    }\n  };\n\n  const handleReject = async (taskId, rejectionData) => {\n    try {\n      await apiClient.post(`/tasks/${taskId}/reject`, rejectionData);\n      setProcessedTasks(prev => new Set([...prev, taskId]));\n      // Refresh the list after rejection\n      await fetchPendingTasks();\n    } catch (error) {\n      console.error('Error rejecting task:', error);\n      throw error;\n    }\n  };\n\n  const formatTimeAgo = (timestamp) => {\n    if (!timestamp) return 'Unknown';\n    \n    try {\n      const date = new Date(timestamp);\n      const now = new Date();\n      const diffMs = now - date;\n      const diffMins = Math.floor(diffMs / (1000 * 60));\n      const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n      if (diffMins < 60) {\n        return `${diffMins} min${diffMins !== 1 ? 's' : ''} ago`;\n      } else if (diffHours < 24) {\n        return `${diffHours} hour${diffHours !== 1 ? 's' : ''} ago`;\n      } else {\n        return `${diffDays} day${diffDays !== 1 ? 's' : ''} ago`;\n      }\n    } catch (error) {\n      return 'Unknown';\n    }\n  };\n\n  const truncateText = (text, maxLength = 150) => {\n    if (!text) return '';\n    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n  };\n\n  const getComplexityColor = (score) => {\n    if (score > 0.7) return 'high';\n    if (score > 0.4) return 'medium';\n    return 'low';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"pending-approvals-loading\">\n        <div className=\"spinner\"></div>\n        <p>Loading pending approvals...</p>\n      </div>\n    );\n  }\n\n  if (pendingTasks.length === 0) {\n    return null; // Hide the entire component when no approvals are needed\n  }\n\n  return (\n    <Card style={{ marginBottom: tokens.spacing[6] }}>\n      <div className=\"pending-approvals-panel\" style={{ padding: tokens.spacing[4] }}>\n        <div className=\"pending-approvals-header\" style={{ \n          display: 'flex', \n          alignItems: 'center', \n          gap: tokens.spacing[3], \n          marginBottom: tokens.spacing[4] \n        }}>\n          <h2 style={{ \n            margin: 0, \n            fontSize: tokens.typography.fontSize.lg[0], \n            fontWeight: tokens.typography.fontWeight.semibold, \n            color: tokens.colors.dark.text \n          }}>\n            Pending Approvals\n          </h2>\n          <span style={{ \n            background: `${tokens.colors.error[500]}20`, \n            color: tokens.colors.error[500], \n            padding: '4px 8px', \n            borderRadius: tokens.borderRadius.xl, \n            fontSize: tokens.typography.fontSize.xs[0], \n            fontWeight: tokens.typography.fontWeight.semibold, \n            minWidth: '20px', \n            textAlign: 'center' \n          }}>\n            {pendingTasks.length}\n          </span>\n          <button \n            style={{ \n              background: 'none', \n              border: `1px solid ${tokens.colors.dark.border}`, \n              color: tokens.colors.dark.muted, \n              padding: '4px 8px', \n              borderRadius: tokens.borderRadius.base, \n              cursor: 'pointer', \n              transition: tokens.transitions.colors,\n              opacity: loading ? 0.5 : 1\n            }}\n            onClick={fetchPendingTasks}\n            disabled={loading}\n            title=\"Refresh pending approvals\"\n          >\n            ‚Üª\n          </button>\n        </div>\n\n        <div className=\"pending-tasks-list\" style={{ display: 'flex', flexDirection: 'column', gap: tokens.spacing[4] }}>\n          {pendingTasks.map((decomposition) => (\n            <div\n              key={decomposition.task_id}\n              style={{\n                border: `1px solid ${tokens.colors.dark.border}`,\n                borderRadius: tokens.borderRadius.lg,\n                padding: tokens.spacing[4],\n                backgroundColor: tokens.colors.dark.surface,\n                opacity: processedTasks.has(decomposition.task_id) ? 0.6 : 1,\n                transition: tokens.transitions.all\n              }}\n            >\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: tokens.spacing[3] }}>\n                <div style={{ display: 'flex', gap: tokens.spacing[2], flexWrap: 'wrap' }}>\n                  <span style={{ \n                    background: `${tokens.colors.warning[500]}20`, \n                    color: tokens.colors.warning[500], \n                    padding: '4px 8px', \n                    borderRadius: tokens.borderRadius.base, \n                    fontSize: tokens.typography.fontSize.xs[0], \n                    fontWeight: tokens.typography.fontWeight.medium \n                  }}>\n                    Decomposition Awaiting Approval\n                  </span>\n                  {decomposition.story_points > 0 && (\n                    <span style={{ \n                      background: `${tokens.colors.info[500]}20`, \n                      color: tokens.colors.info[500], \n                      padding: '4px 8px', \n                      borderRadius: tokens.borderRadius.base, \n                      fontSize: tokens.typography.fontSize.xs[0], \n                      fontWeight: tokens.typography.fontWeight.medium \n                    }}>\n                      {decomposition.story_points} points\n                    </span>\n                  )}\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: tokens.spacing[1], color: tokens.colors.dark.muted, fontSize: tokens.typography.fontSize.xs[0] }}>\n                  <span>üïí</span>\n                  <span>{formatTimeAgo(decomposition.created_at)}</span>\n                </div>\n              </div>\n\n              <div className=\"task-card-body\">\n                <div className=\"task-description-section\">\n                  <h4>Original Task:</h4>\n                  <h5 style={{ color: '#FFFFFF', fontSize: '16px', margin: '4px 0' }}>\n                    {decomposition.parent_task.title || 'Task'}\n                  </h5>\n                  <p style={{ color: '#A3A3A3' }}>\n                    {truncateText(decomposition.parent_task.description)}\n                  </p>\n                </div>\n\n                <div className=\"proposed-subtasks-section\" style={{ marginTop: '16px' }}>\n                  <h4 style={{ color: '#FFFFFF' }}>\n                    Proposed Subtasks ({decomposition.proposed_subtasks.length}):\n                  </h4>\n                  <div className=\"subtasks-preview\" style={{ marginTop: '8px' }}>\n                    {decomposition.proposed_subtasks.slice(0, 3).map((subtask, index) => (\n                      <div key={index} className=\"subtask-preview-item\" style={{ \n                        display: 'flex', \n                        marginBottom: '6px',\n                        color: '#A3A3A3',\n                        fontSize: '14px'\n                      }}>\n                        <span style={{ color: '#FF8C1A', marginRight: '8px', fontWeight: 'bold' }}>\n                          {index + 1}.\n                        </span>\n                        <span>\n                          {truncateText(subtask.description || subtask.title || 'Untitled subtask', 80)}\n                        </span>\n                      </div>\n                    ))}\n                    {decomposition.proposed_subtasks.length > 3 && (\n                      <div style={{ \n                        color: '#737373', \n                        fontSize: '12px', \n                        fontStyle: 'italic',\n                        marginTop: '4px'\n                      }}>\n                        ... and {decomposition.proposed_subtasks.length - 3} more subtasks\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {decomposition.implementation_details && (\n                  <div className=\"implementation-details-section\" style={{ marginTop: '16px' }}>\n                    <h4 style={{ color: '#FFFFFF' }}>Implementation Approach:</h4>\n                    <p style={{ color: '#A3A3A3' }}>\n                      {truncateText(decomposition.implementation_details)}\n                    </p>\n                  </div>\n                )}\n\n                <div style={{ \n                  display: 'flex', \n                  justifyContent: 'space-between', \n                  alignItems: 'center', \n                  marginTop: tokens.spacing[4], \n                  paddingTop: tokens.spacing[3], \n                  borderTop: `1px solid ${tokens.colors.dark.border}` \n                }}>\n                  <span style={{ color: tokens.colors.dark.muted, fontSize: tokens.typography.fontSize.xs[0] }}>\n                    ID: {decomposition.task_id.substring(0, 8)}...\n                  </span>\n                  <button\n                    style={{\n                      background: tokens.colors.primary[500],\n                      color: tokens.colors.neutral[0],\n                      border: 'none',\n                      padding: `${tokens.spacing[2]} ${tokens.spacing[4]}`,\n                      borderRadius: tokens.borderRadius.base,\n                      fontSize: tokens.typography.fontSize.sm[0],\n                      fontWeight: tokens.typography.fontWeight.medium,\n                      cursor: 'pointer',\n                      transition: tokens.transitions.all,\n                      opacity: processedTasks.has(decomposition.task_id) ? 0.5 : 1,\n                      pointerEvents: processedTasks.has(decomposition.task_id) ? 'none' : 'auto'\n                    }}\n                    onClick={() => handleReviewTask(decomposition)}\n                    disabled={processedTasks.has(decomposition.task_id)}\n                    onMouseEnter={(e) => !processedTasks.has(decomposition.task_id) && (e.target.style.background = tokens.colors.primary[600])}\n                    onMouseLeave={(e) => !processedTasks.has(decomposition.task_id) && (e.target.style.background = tokens.colors.primary[500])}\n                    title=\"Review and approve/reject the proposed task decomposition\"\n                  >\n                    üëÅ Review Decomposition\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <ApprovalReviewModal\n        isOpen={isModalOpen}\n        onClose={() => {\n          setSelectedTask(null);\n          setIsModalOpen(false);\n        }}\n        task={selectedTask}\n        onApprove={handleApprove}\n        onReject={handleReject}\n      />\n    </Card>\n  );\n};\n\nexport default PendingApprovalsPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}